(()=>{var e={76187:(e,t,l)=>{"use strict";l(40702),l(18964);var o=l(61957),a=l(71947),i=l(60499),s=l(59835);function n(e,t,l,o,a,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}const d=(0,s.aZ)({name:"App"});var r=l(11639);const c=(0,r.Z)(d,[["render",n]]),u=c;var m=l(23340),p=l(12502);const h=(0,m.h)((()=>{const e=(0,p.WB)();return e}));var g=l(28339),f=l(86970),b=l(37370),v=l.n(b);const w={class:"text-h5"},_=(0,s._)("img",{alt:"Quasar logo",src:v(),style:{width:"200px",height:"200px"}},null,-1);function y(e,t,l,o,a,i){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(n,{color:"green",icon:"check_circle",label:"Verificar Comunicacion",onClick:e.verifica},null,8,["onClick"]),(0,s._)("div",w,(0,f.zw)(e.mensaje),1)]),(0,s.Wm)(d,{class:"flex flex-center"},{default:(0,s.w5)((()=>[_])),_:1})])),_:1})}const C=(0,s.aZ)({name:"IndexPage",data(){return{valida:!1,mensaje:""}},methods:{verifica(){this.$api.get("verificarComunicacion").then((e=>{console.log(e.data),this.valida=e.data,this.valida?this.mensaje="Existe comunicacion":this.mensaje="Existe un Problema con SIAT"}))}}});var D=l(69885),V=l(68879),x=l(69984),A=l.n(x);const I=(0,r.Z)(C,[["render",y]]),T=I;A()(C,"components",{QPage:D.Z,QBtn:V.Z});const W={class:"row"},E={class:"col-12"},M=(0,s.Uk)("Actualizar"),S=(0,s.Uk)("Actualizar Imagen"),q=(0,s.Uk)("Eliminar"),L=(0,s._)("div",{class:"text-h6"},"Registrar Pelicula",-1),j={class:"row"},O={class:"col-3"},N={class:"col-3"},U={class:"col-3"},k={class:"col-3"},F={class:"col-3"},Z={class:"col-3"},R={class:"col-3"},z={class:"col-3"},Q={class:"col-3"},P={class:"col-3"},Y={class:"col-2"},$={class:"col-2"},B={class:"col-12 text-center flex flex-center"},H={class:"col-12"},G=(0,s._)("div",{class:"text-h6"},"Modificar Pelicula",-1),K={class:"row"},J={class:"col-3"},X={class:"col-3"},ee={class:"col-3"},te={class:"col-3"},le={class:"col-3"},oe={class:"col-3"},ae={class:"col-3"},ie={class:"col-3"},se={class:"col-3"},ne={class:"col-3"},de={class:"col-2"},re={class:"col-2"},ce={class:"col-12"},ue=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),me={class:"col-12 text-center flex flex-center"};function pe(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),v=(0,s.up)("q-btn-dropdown"),w=(0,s.up)("q-table"),_=(0,s.up)("q-space"),y=(0,s.up)("q-card-section"),C=(0,s.up)("q-select"),D=(0,s.up)("q-toggle"),V=(0,s.up)("q-uploader"),x=(0,s.up)("q-form"),A=(0,s.up)("q-card"),I=(0,s.up)("q-dialog"),T=(0,s.up)("q-page"),pe=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(T,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s._)("div",E,[(0,s.Wm)(w,{dense:"",title:"Gestionar peliculas","rows-per-page-options":[0],rows:i.store.movies,columns:i.movieColumns,filter:i.movieFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.movieDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.movieFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.movieFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])])),_:2},1032,["props"])])),"body-cell-nombre":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.nombre),1)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"primary",label:"Opciones","dropdown-icon":"more_vert","no-caps":"",dense:"",size:"10px"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.movieUpdateDialog=!0,i.movie2=e.row,this.store.distributor=e.row.distributor}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[M])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[pe]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.movie2=e.row}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[S])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[pe]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.movieDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[q])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[pe]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(I,{modelValue:i.movieDialog,"onUpdate:modelValue":t[14]||(t[14]=e=>i.movieDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[L,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[pe]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.movieCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",j,[(0,s._)("div",O,[(0,s.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.movie.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",N,[(0,s.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie.duracion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.movie.duracion=e)},null,8,["modelValue"])]),(0,s._)("div",U,[(0,s.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie.paisOrigen,"onUpdate:modelValue":t[4]||(t[4]=e=>i.movie.paisOrigen=e)},null,8,["modelValue"])]),(0,s._)("div",k,[(0,s.Wm)(C,{dense:"",outlined:"",label:"genero",modelValue:i.movie.genero,"onUpdate:modelValue":t[5]||(t[5]=e=>i.movie.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,s._)("div",F,[(0,s.Wm)(D,{modelValue:i.movie.formato,"onUpdate:modelValue":t[6]||(t[6]=e=>i.movie.formato=e),color:"green",label:i.movie.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,s._)("div",Z,[(0,s.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie.sipnosis,"onUpdate:modelValue":t[7]||(t[7]=e=>i.movie.sipnosis=e)},null,8,["modelValue"])]),(0,s._)("div",R,[(0,s.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie.urlTrailer,"onUpdate:modelValue":t[8]||(t[8]=e=>i.movie.urlTrailer=e)},null,8,["modelValue"])]),(0,s._)("div",z,[(0,s.Wm)(C,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie.clasificacion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.movie.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,s._)("div",Q,[(0,s.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie.fechaEstreno,"onUpdate:modelValue":t[10]||(t[10]=e=>i.movie.fechaEstreno=e)},null,8,["modelValue"])]),(0,s._)("div",P,[(0,s.Wm)(C,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[11]||(t[11]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",Y,[(0,s.Wm)(c,{dense:"",outlined:"",label:"ratingPublic",modelValue:i.movie.ratingPublic,"onUpdate:modelValue":t[12]||(t[12]=e=>i.movie.ratingPublic=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",$,[(0,s.Wm)(c,{dense:"",outlined:"",label:"ratingPublic",modelValue:i.movie.ratingCritica,"onUpdate:modelValue":t[13]||(t[13]=e=>i.movie.ratingCritica=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",B,[(0,s.Wm)(V,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",H,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(I,{modelValue:i.movieUpdateDialog,"onUpdate:modelValue":t[27]||(t[27]=e=>i.movieUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[G,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[pe]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.movieUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",K,[(0,s._)("div",J,[(0,s.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie2.nombre,"onUpdate:modelValue":t[15]||(t[15]=e=>i.movie2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",X,[(0,s.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie2.duracion,"onUpdate:modelValue":t[16]||(t[16]=e=>i.movie2.duracion=e)},null,8,["modelValue"])]),(0,s._)("div",ee,[(0,s.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie2.paisOrigen,"onUpdate:modelValue":t[17]||(t[17]=e=>i.movie2.paisOrigen=e)},null,8,["modelValue"])]),(0,s._)("div",te,[(0,s.Wm)(C,{dense:"",outlined:"",label:"genero",modelValue:i.movie2.genero,"onUpdate:modelValue":t[18]||(t[18]=e=>i.movie2.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,s._)("div",le,[(0,s.Wm)(D,{modelValue:i.movie2.formato,"onUpdate:modelValue":t[19]||(t[19]=e=>i.movie2.formato=e),color:"green",label:i.movie2.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,s._)("div",oe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie2.sipnosis,"onUpdate:modelValue":t[20]||(t[20]=e=>i.movie2.sipnosis=e)},null,8,["modelValue"])]),(0,s._)("div",ae,[(0,s.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie2.urlTrailer,"onUpdate:modelValue":t[21]||(t[21]=e=>i.movie2.urlTrailer=e)},null,8,["modelValue"])]),(0,s._)("div",ie,[(0,s.Wm)(C,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie2.clasificacion,"onUpdate:modelValue":t[22]||(t[22]=e=>i.movie2.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,s._)("div",se,[(0,s.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie2.fechaEstreno,"onUpdate:modelValue":t[23]||(t[23]=e=>i.movie2.fechaEstreno=e)},null,8,["modelValue"])]),(0,s._)("div",ne,[(0,s.Wm)(C,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[24]||(t[24]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",de,[(0,s.Wm)(c,{dense:"",outlined:"",label:"ratingCritica",modelValue:i.movie2.ratingCritica,"onUpdate:modelValue":t[25]||(t[25]=e=>i.movie2.ratingCritica=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",re,[(0,s.Wm)(c,{dense:"",outlined:"",label:"ratingPublic",modelValue:i.movie2.ratingPublic,"onUpdate:modelValue":t[26]||(t[26]=e=>i.movie2.ratingPublic=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",ce,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(I,{modelValue:i.dialog_img,"onUpdate:modelValue":t[28]||(t[28]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[ue])),_:1}),(0,s.Wm)(y,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",me,[(0,s.Wm)(V,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[pe]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}l(24110);var he=l(73285),ge=l(4376);const fe={name:"Peliculas",data(){return{loading:!1,movieFilter:"",url:"http://10.200.100.19:81/api/",dialog_img:!1,movie:{clasificacion:"+13",formato:"2D",genero:"Accion",fechaEstreno:ge.ZP.formatDate(new Date,"YYYY-MM-DD")},movie2:{},movieDialog:!1,movieUpdateDialog:!1,store:(0,he.c)(),foto:"",movieColumns:[{label:"opciones",field:"opciones",name:"opciones"},{label:"nombre",field:"nombre",name:"nombre",sortable:!0},{label:"duracion",field:"duracion",name:"duracion",sortable:!0},{label:"fechaEstreno",field:"fechaEstreno",name:"fechaEstreno",sortable:!0},{label:"Imagen",field:"imagen",name:"imagen",sortable:!0},{label:"distributor_id",field:e=>e.distributor.nombre,name:"distributor_id",sortable:!0}]}},created(){this.store.movieSingleTon||(this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()}))),this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.store.distributor=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.movie2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenmovie",this.movie2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.movie2={},this.foto="";let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},movieCreate(){this.movie.imagen=this.foto,this.loading=!0,this.movie.distributor_id=this.store.distributor.id,this.$api.post("movie",this.movie).then((e=>{this.loading=!1,this.store.movies.push(e.data),this.foto="",this.movieDialog=!1,this.movie={clasificacion:"+13",formmato:"2D",genero:"Accion",fechaEstreno:ge.ZP.formatDate(new Date,"YYYY-MM-DD")}}))},movieUpdate(){this.loading=!0,this.$api.put("movie/"+this.movie2.id,this.movie2).then((e=>{console.log(e.data),this.movie2={};let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.movieUpdateDialog=!1})).finally((()=>{this.loading=!1}))},movieDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("movie/"+e).then((e=>{this.store.movies.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}};var be=l(74356),ve=l(13119),we=l(22857),_e=l(67220),ye=l(70335),Ce=l(32045),De=l(13246),Ve=l(490),xe=l(76749),Ae=l(33115),Ie=l(66933),Te=l(32074),We=l(44458),Ee=l(63190),Me=l(90136),Se=l(8326),qe=l(26384),Le=l(23175),je=l(97534),Oe=l(62146);const Ne=(0,r.Z)(fe,[["render",pe]]),Ue=Ne;A()(fe,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QImg:ye.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QMarkupTable:Ie.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z,QToggle:Le.Z,QUploader:je.Z}),A()(fe,"directives",{ClosePopup:Oe.Z});const ke={class:"row"},Fe={class:"col-12"},Ze=(0,s.Uk)("Actualizar"),Re=(0,s.Uk)("Eliminar"),ze=(0,s._)("div",{class:"text-h6"},"Registrar Distribuidor",-1),Qe={class:"row"},Pe={class:"col-3"},Ye={class:"col-3"},$e={class:"col-3"},Be={class:"col-3"},He={class:"col-3"},Ge={class:"col-3"},Ke={class:"col-3"},Je={class:"col-12"},Xe=(0,s._)("div",{class:"text-h6"},"Modificar Distribuidor",-1),et={class:"row"},tt={class:"col-3"},lt={class:"col-3"},ot={class:"col-3"},at={class:"col-3"},it={class:"col-3"},st={class:"col-3"},nt={class:"col-3"},dt={class:"col-12"};function rt(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),f=(0,s.up)("q-td"),b=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-page"),V=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",ke,[(0,s._)("div",Fe,[(0,s.Wm)(b,{dense:"",title:"Gestionar Distribuidor","rows-per-page-options":[0],rows:i.store.distributors,columns:i.distributorColumns,filter:i.distributorFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.distributorDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.distributorFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.distributorFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(f,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.distributorUpdateDialog=!0,i.distributor2=e.row,this.store.distributor=e.row.distributor}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Ze])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[V]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.distributorDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Re])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[V]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(C,{modelValue:i.distributorDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>i.distributorDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ze,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.distributorCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Qe,[(0,s._)("div",Pe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.distributor.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",Ye,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor.dir,"onUpdate:modelValue":t[3]||(t[3]=e=>i.distributor.dir=e)},null,8,["modelValue"])]),(0,s._)("div",$e,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor.loc,"onUpdate:modelValue":t[4]||(t[4]=e=>i.distributor.loc=e)},null,8,["modelValue"])]),(0,s._)("div",Be,[(0,s.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor.nit,"onUpdate:modelValue":t[5]||(t[5]=e=>i.distributor.nit=e)},null,8,["modelValue"])]),(0,s._)("div",He,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor.tel,"onUpdate:modelValue":t[6]||(t[6]=e=>i.distributor.tel=e)},null,8,["modelValue"])]),(0,s._)("div",Ge,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.distributor.email=e)},null,8,["modelValue"])]),(0,s._)("div",Ke,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor.responsable,"onUpdate:modelValue":t[8]||(t[8]=e=>i.distributor.responsable=e)},null,8,["modelValue"])]),(0,s._)("div",Je,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(C,{modelValue:i.distributorUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>i.distributorUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Xe,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.distributorUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",et,[(0,s._)("div",tt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor2.nombre,"onUpdate:modelValue":t[10]||(t[10]=e=>i.distributor2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",lt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor2.dir,"onUpdate:modelValue":t[11]||(t[11]=e=>i.distributor2.dir=e)},null,8,["modelValue"])]),(0,s._)("div",ot,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor2.loc,"onUpdate:modelValue":t[12]||(t[12]=e=>i.distributor2.loc=e)},null,8,["modelValue"])]),(0,s._)("div",at,[(0,s.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor2.nit,"onUpdate:modelValue":t[13]||(t[13]=e=>i.distributor2.nit=e)},null,8,["modelValue"])]),(0,s._)("div",it,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor2.tel,"onUpdate:modelValue":t[14]||(t[14]=e=>i.distributor2.tel=e)},null,8,["modelValue"])]),(0,s._)("div",st,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor2.email,"onUpdate:modelValue":t[15]||(t[15]=e=>i.distributor2.email=e)},null,8,["modelValue"])]),(0,s._)("div",nt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor2.responsable,"onUpdate:modelValue":t[16]||(t[16]=e=>i.distributor2.responsable=e)},null,8,["modelValue"])]),(0,s._)("div",dt,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ct={name:"Distribuidores",data(){return{loading:!1,distributorFilter:"",distributor:{},distributor2:{},distributorDialog:!1,distributorUpdateDialog:!1,store:(0,he.c)(),distributorColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DIRECCION",field:"dir",name:"dir",sortable:!0},{label:"LOCALIZACION",field:"loc",name:"loc",sortable:!0},{label:"NIT",field:"nit",name:"nit",sortable:!0},{label:"TELEFONO",field:"tel",name:"tel",sortable:!0},{label:"EMAIL",field:"email",name:"email",sortable:!0},{label:"RESPONSABLE",field:"responsable",name:"responsable",sortable:!0}]}},created(){this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.$q.loading.hide()})))},methods:{distributorCreate(){this.loading=!0,this.$api.post("distributor",this.distributor).then((e=>{this.loading=!1,this.store.distributors.push(e.data),this.distributorDialog=!1}))},distributorUpdate(){this.$q.loading.show(),this.$api.put("distributor/"+this.distributor2.id,this.distributor2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.distributor2={};let t=this.store.distributors.findIndex((t=>t.id==e.data.id));this.store.distributors[t]=e.data,this.distributorUpdateDialog=!1}))},distributorDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("distributor/"+e).then((e=>{this.store.distributors.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}},ut=(0,r.Z)(ct,[["render",rt]]),mt=ut;A()(ct,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z}),A()(ct,"directives",{ClosePopup:Oe.Z});const pt={class:"row"},ht={class:"col-12"},gt=(0,s._)("div",{class:"text-h6"},"Registrar Cuis",-1),ft={class:"row"},bt={class:"col-12"},vt={class:"col-12 flex flex-center"};function wt(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-table"),m=(0,s.up)("q-space"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-select"),g=(0,s.up)("q-form"),f=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),v=(0,s.up)("q-page"),w=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",pt,[(0,s._)("div",ht,[(0,s.Wm)(u,{rows:i.cuis,dense:"",title:"Gestionar cuis",columns:i.cuisColums,"rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cuiFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(b,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[gt,(0,s.Wm)(m),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[w]])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.cuiCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",ft,[(0,s._)("div",bt,[(0,s.Wm)(h,{options:[0],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,s._)("div",vt,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const _t={name:"Cuis",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.getCuis()},methods:{getCuis(){this.loading=!0,this.$api.get("cui").then((e=>{this.loading=!1,this.cuis=e.data}))},cuiCreate(){this.loading=!0,this.$api.post("cui",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.getCuis(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},yt=(0,r.Z)(_t,[["render",wt]]),Ct=yt;A()(_t,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z}),A()(_t,"directives",{ClosePopup:Oe.Z});const Dt={class:"row"},Vt={class:"col-12"},xt={class:"col-12"},At={class:"col-12"},It={class:"col-12"},Tt={class:"col-12"},Wt={class:"col-12"},Et={class:"col-12"},Mt={class:"col-12"},St={class:"col-12"},qt={class:"col-12"},Lt={class:"col-12"},jt=(0,s._)("div",{class:"text-h6"},"Registrar Sincronizacion",-1),Ot={class:"row"},Nt={class:"col-12 flex flex-center"};function Ut(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-table"),c=(0,s.up)("q-space"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog"),g=(0,s.up)("q-page"),f=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",Dt,[(0,s._)("div",Vt,[(0,s.Wm)(d,{class:"q-mt-xs full-width",color:"green",icon:"add_circle",label:"Sincronizar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"])]),(0,s._)("div",xt,[(0,s.Wm)(r,{rows:i.activities,dense:"",title:"Actividades"},null,8,["rows"])]),(0,s._)("div",At,[(0,s.Wm)(r,{rows:i.documents,dense:"",title:"Documentos"},null,8,["rows"])]),(0,s._)("div",It,[(0,s.Wm)(r,{rows:i.documentsectors,dense:"",title:"Documento Sector"},null,8,["rows"])]),(0,s._)("div",Tt,[(0,s.Wm)(r,{rows:i.events,dense:"",title:"Eventos"},null,8,["rows"])]),(0,s._)("div",Wt,[(0,s.Wm)(r,{rows:i.leyendas,dense:"",title:"Leyendas"},null,8,["rows"])]),(0,s._)("div",Et,[(0,s.Wm)(r,{rows:i.medidas,dense:"",title:"Medidas"},null,8,["rows"])]),(0,s._)("div",Mt,[(0,s.Wm)(r,{rows:i.messages,dense:"",title:"Mensajes"},null,8,["rows"])]),(0,s._)("div",St,[(0,s.Wm)(r,{rows:i.sectors,dense:"",title:"Sectores"},null,8,["rows"])]),(0,s._)("div",qt,[(0,s.Wm)(r,{rows:i.servicios,dense:"",title:"Servicios"},null,8,["rows"])]),(0,s._)("div",Lt,[(0,s.Wm)(r,{rows:i.tipopagos,dense:"",title:"Tipo Pagos"},null,8,["rows"])])]),(0,s.Wm)(h,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[jt,(0,s.Wm)(c),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:(0,o.iM)(n.activityCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ot,[(0,s._)("div",Nt,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Sincronizar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const kt={name:"Sincronizacion",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",activities:[],documents:[],documentsectors:[],events:[],leyendas:[],medidas:[],messages:[],motivos:[],sectors:[],servicios:[],tipopagos:[],cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.datosGet()},methods:{datosGet(){this.loading=!0,this.$api.get("activity").then((e=>{this.loading=!1,this.activities=e.data.activities,this.documents=e.data.documents,this.documentsectors=e.data.documentsectors,this.events=e.data.events,this.leyendas=e.data.leyendas,this.medidas=e.data.medidas,this.messages=e.data.messages,this.motivos=e.data.motivos,this.sectors=e.data.sectors,this.servicios=e.data.servicios,this.tipopagos=e.data.tipopagos}))},activityCreate(){this.loading=!0,this.$api.post("activity",this.cui).then((e=>{this.datosGet(),this.loading=!1,this.cuiDialog=!1,this.$q.notify({color:"positive",message:"Registro creado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},Ft=(0,r.Z)(kt,[["render",Ut]]),Zt=Ft;A()(kt,"components",{QPage:D.Z,QBtn:V.Z,QTable:be.Z,QInput:ve.Z,QIcon:we.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z}),A()(kt,"directives",{ClosePopup:Oe.Z});const Rt=e=>((0,s.dD)("data-v-6bd9df8d"),e=e(),(0,s.Cn)(),e),zt={class:"row"},Qt={class:"col-12"},Pt=(0,s.Uk)("Actualizar"),Yt=(0,s.Uk)("Eliminar"),$t=Rt((()=>(0,s._)("div",{class:"text-h6"}," Registrar Sala ",-1))),Bt={class:"text-h6 text-grey"},Ht={class:"row"},Gt={class:"col-3"},Kt={class:"col-3"},Jt={class:"col-3"},Xt={class:"col-3"},el={class:"col-12"},tl=Rt((()=>(0,s._)("th",null,null,-1))),ll=["onClick"],ol={class:"col-12"},al=Rt((()=>(0,s._)("div",{class:"text-h6"},"Modificar Sala",-1))),il={class:"row"},sl={class:"col-3"},nl={class:"col-3"},dl={class:"col-3"},rl={class:"col-3"},cl={class:"col-12"},ul=Rt((()=>(0,s._)("th",null,null,-1))),ml=["onClick"],pl={class:"col-12"};function hl(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),b=(0,s.up)("q-td"),v=(0,s.up)("q-table"),w=(0,s.up)("q-space"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-badge"),C=(0,s.up)("q-form"),D=(0,s.up)("q-card"),V=(0,s.up)("q-dialog"),x=(0,s.up)("q-page"),A=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",zt,[(0,s._)("div",Qt,[(0,s.Wm)(v,{dense:"",title:"Gestionar Salas","rows-per-page-options":[0],rows:i.store.salas,columns:i.salaColumns,filter:i.salaFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>{i.salaDialog=!0,i.columnas=1,i.filas=1,n.tablacine()})}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.salaFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.salaFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(b,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.salaUpdateDialog=!0,i.sala2=e.row,i.columnas=e.row.columnas,i.filas=e.row.filas,i.asientos=e.row.seats}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Pt])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.salaDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Yt])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(V,{modelValue:i.salaDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.salaDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row q-pb-none"},{default:(0,s.w5)((()=>[$t,(0,s.Wm)(w),(0,s._)("div",Bt,"Capacidad: "+(0,f.zw)(n.total),1),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{onSubmit:(0,o.iM)(n.salaCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ht,[(0,s._)("div",Gt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala.nro,"onUpdate:modelValue":t[2]||(t[2]=e=>i.sala.nro=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",Kt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala.nombre,"onUpdate:modelValue":t[3]||(t[3]=e=>i.sala.nombre=e),required:""},null,8,["modelValue"])]),(0,s._)("div",Jt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[4]||(t[4]=e=>i.filas=e),onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",Xt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[5]||(t[5]=e=>i.columnas=e),onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",el,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[tl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,f.zw)(i.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,f.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{onClick:t=>n.cambio(e,l),key:o,class:"text-center tdx"},[(0,s.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==i.asientos[i.columnas*(e-1)+(l-1)]["activo"]?"green-6":"grey-9"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{color:"primary",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,ll)))),128))])))),128))])])]),(0,s._)("div",ol,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(V,{modelValue:i.salaUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.salaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[al,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{onSubmit:(0,o.iM)(n.salaUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",il,[(0,s._)("div",sl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala2.nro,"onUpdate:modelValue":t[7]||(t[7]=e=>i.sala2.nro=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",nl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala2.nombre,"onUpdate:modelValue":t[8]||(t[8]=e=>i.sala2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",dl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[9]||(t[9]=e=>i.filas=e),readonly:"",onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",rl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[10]||(t[10]=e=>i.columnas=e),readonlysa:"",onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",cl,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[ul,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,f.zw)(i.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,f.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{onClick:t=>n.cambio(e,l),key:o,class:"text-center tdx"},[(0,s.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==n.valorindice(l,e)?"green-6":"grey-9"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{color:"primary",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,ml)))),128))])))),128))])])]),(0,s._)("div",pl,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const gl={name:"Salas",data(){return{contador:0,loading:!1,salaFilter:"",filas:5,columnas:5,colnuminv:[],ingresar:0,sala:{},sala2:{},salaDialog:!1,salaUpdateDialog:!1,store:(0,he.c)(),asientos:[],seat:{fila:0,columna:0,letra:"",activo:""},letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],salaColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NRO",field:"nro",name:"nro",sortable:!0},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"FILAS",field:"filas",name:"filas",sortable:!0},{label:"COLUMNAS",field:"columnas",name:"columnas",sortable:!0},{label:"CAPACIDAD",field:"capacidad",name:"capacidad",sortable:!0}]}},created(){this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.tablacine()},methods:{valorindice(e,t){return this.asientos[this.columnas*(t-1)+(e-1)].activo},cambio(e,t){let l=this.columnas*(e-1)+(t-1);this.asientos[l].activo="ACTIVO"==this.asientos[l].activo?"INACTIVO":"ACTIVO"},cargarimagen(e){return"ACTIVO"==e.activo?"../assets/img/1.png":"../assets/img/0.png"},activar(e){this.asientos.forEach((function(t){t.fila==e.fila&&t.columna==e.columna&&("ACTIVO"==t.activo?t.activo="INACTIVO":t.activo="ACTIVO")}))},invertir(){this.colnuminv=[];for(let e=parseInt(this.columnas);e>=1;e--)console.log(e),this.colnuminv.push(e);console.log(this.columnas),this.tablacine()},tablacine(){if(""!=this.filas&&void 0!=this.filas||(this.filas=1),""!=this.columnas&&void 0!=this.columnas||(this.columnas=1),this.asientos=[],this.filas>0&&this.columnas>0)for(let e=1;e<=this.filas;e++)for(let t=this.columnas;t>=1;t--)this.asientos.push({fila:parseInt(e),columna:parseInt(t),letra:this.letra[e],activo:"ACTIVO"})},salaCreate(){return""!=this.sala.nombre&&void 0!=this.sala.nombre&&(""!=this.filas&&void 0!=this.filas&&0!=this.filas&&(""!=this.columnas&&void 0!=this.columnas&&0!=this.columnas&&(this.sala.filas=parseInt(this.filas),this.sala.columnas=parseInt(this.columnas),this.sala.capacidad=this.total,this.sala.seats=this.asientos,this.loading=!0,void this.$api.post("sala",this.sala).then((e=>{this.loading=!1,this.store.salas.push(e.data),this.salaDialog=!1})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3}),this.loading=!1})))))},salaUpdate(){this.sala2.seats=this.asientos,this.$q.loading.show(),this.$api.put("sala/"+this.sala2.id,this.sala2).then((e=>{this.$q.loading.hide(),this.sala2={};let t=this.store.salas.findIndex((t=>t.id==e.data.id));this.store.salas[t]=e.data,this.salaUpdateDialog=!1}))},salaDelete(e,t){this.$q.dialog({title:"Eliminar Sala",message:"¿Esta seguro de eliminar la sala?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("sala/"+e).then((e=>{this.store.salas.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Sala eliminada",color:"positive",icon:"done"})}))}))}},computed:{total(){let e=0;return this.asientos.forEach((function(t){"ACTIVO"==t.activo&&e++})),e}}};var fl=l(20990);const bl=(0,r.Z)(gl,[["render",hl],["__scopeId","data-v-6bd9df8d"]]),vl=bl;A()(gl,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QBadge:fl.Z}),A()(gl,"directives",{ClosePopup:Oe.Z});const wl={class:"row"},_l={class:"col-12"},yl=(0,s.Uk)("Actualizar"),Cl=(0,s.Uk)("Eliminar"),Dl=(0,s._)("div",{class:"text-h6"},"Registrar Tarifa",-1),Vl={class:"row"},xl={class:"col-3"},Al={class:"col-3"},Il={class:"col-3"},Tl={class:"col-3"},Wl={class:"col-12"},El=(0,s._)("div",{class:"text-h6"},"Modificar Tarifa",-1),Ml={class:"row"},Sl={class:"col-3"},ql={class:"col-3"},Ll={class:"col-3"},jl={class:"col-3"},Ol={class:"col-12"};function Nl(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),f=(0,s.up)("q-td"),b=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-toggle"),y=(0,s.up)("q-form"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),V=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(V,null,{default:(0,s.w5)((()=>[(0,s._)("div",wl,[(0,s._)("div",_l,[(0,s.Wm)(b,{dense:"",title:"Gestionar Tarifas","rows-per-page-options":[100,50,20,0],rows:i.store.prices,columns:i.priceColumns,filter:i.priceFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.priceDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.priceFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.priceFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(f,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.priceUpdateDialog=!0,i.price2=e.row,this.store.price=e.row.price}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[yl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.priceDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Cl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.priceDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.priceDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Dl,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.priceCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Vl,[(0,s._)("div",xl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price.serie,"onUpdate:modelValue":t[2]||(t[2]=e=>i.price.serie=e)},null,8,["modelValue"])]),(0,s._)("div",Al,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price.precio,"onUpdate:modelValue":t[3]||(t[3]=e=>i.price.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Il,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price.descripcion,"onUpdate:modelValue":t[4]||(t[4]=e=>i.price.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Tl,[(0,s.Wm)(_,{"false-value":"NO",label:"Promo "+i.price.promo,"true-value":"SI",color:"green",modelValue:i.price.promo,"onUpdate:modelValue":t[5]||(t[5]=e=>i.price.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",Wl,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.priceUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.priceUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[El,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.priceUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ml,[(0,s._)("div",Sl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price2.serie,"onUpdate:modelValue":t[7]||(t[7]=e=>i.price2.serie=e)},null,8,["modelValue"])]),(0,s._)("div",ql,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price2.precio,"onUpdate:modelValue":t[8]||(t[8]=e=>i.price2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Ll,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price2.descripcion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.price2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",jl,[(0,s.Wm)(_,{"false-value":"NO",label:"Promo "+i.price2.promo,"true-value":"SI",color:"green",modelValue:i.price2.promo,"onUpdate:modelValue":t[10]||(t[10]=e=>i.price2.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",Ol,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Ul={name:"Tarifas",data(){return{loading:!1,priceFilter:"",price:{promo:"NO"},price2:{},priceDialog:!1,priceUpdateDialog:!1,store:(0,he.c)(),priceColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"SERIE",field:"serie",name:"serie",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"PROMO",field:"promo",name:"promo",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion"}]}},created(){this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()})))},methods:{priceCreate(){this.loading=!0,this.$api.post("price",this.price).then((e=>{this.loading=!1,this.store.prices.push(e.data),this.priceDialog=!1}))},priceUpdate(){this.$q.loading.show(),this.$api.put("price/"+this.price2.id,this.price2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.price2={};let t=this.store.prices.findIndex((t=>t.id==e.data.id));this.store.prices[t]=e.data,this.priceUpdateDialog=!1}))},priceDelete(e,t){this.$q.dialog({title:"Eliminar Tarifa",message:"¿Esta seguro de eliminar la Tarifa?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("price/"+e).then((e=>{this.store.prices.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Tarifa eliminada",color:"positive",icon:"done"})}))}))}}},kl=(0,r.Z)(Ul,[["render",Nl]]),Fl=kl;A()(Ul,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QToggle:Le.Z}),A()(Ul,"directives",{ClosePopup:Oe.Z});const Zl={class:"row"},Rl={class:"col-12"},zl=(0,s._)("div",{class:"text-h6"},"Registrar Cufd",-1),Ql={class:"row"},Pl={class:"col-12"},Yl={class:"col-12 flex flex-center"},$l=(0,s._)("div",{class:"text-h6"},"Registrar evento significativo",-1),Bl={class:"row"},Hl={class:"col-12"},Gl={class:"col-12"},Kl={class:"col-12"},Jl={class:"col-12"},Xl={class:"col-12 flex flex-center"};function eo(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-pagination"),m=(0,s.up)("q-td"),p=(0,s.up)("q-table"),h=(0,s.up)("q-space"),g=(0,s.up)("q-card-section"),b=(0,s.up)("q-select"),v=(0,s.up)("q-form"),w=(0,s.up)("q-card"),_=(0,s.up)("q-dialog"),y=(0,s.up)("q-page"),C=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s._)("div",Zl,[(0,s._)("div",Rl,[(0,s.Wm)(p,{rows:i.cufds,columns:i.cufdsColums,"row-key":"id",loading:i.loading,"rows-per-page-options":[5,10,20],pagination:i.pagination,onRequest:n.onRequest},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cudfFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cudfFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"]),(0,s.Wm)(u,{modelValue:i.pagination.page,"onUpdate:modelValue":[t[2]||(t[2]=e=>i.pagination.page=e),n.onRequest],max:i.pagination.last_page,input:""},null,8,["modelValue","max","onUpdate:modelValue"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[0==e.pageIndex?((0,s.wg)(),(0,s.j4)(d,{key:0,size:"10px",icon:"add_circle_outline",onClick:t=>n.eventoSignificativoClick(e.row),color:"primary",label:"Evento significativo","no-caps":""},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-sales":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.row.sales.length),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","loading","pagination","onRequest"])])]),(0,s.Wm)(_,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[zl,(0,s.Wm)(h),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])])),_:1}),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:(0,o.iM)(n.cuiCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ql,[(0,s._)("div",Pl,[(0,s.Wm)(b,{options:[0],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,s._)("div",Yl,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(_,{modelValue:i.eventoSignificativoDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>i.eventoSignificativoDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[$l,(0,s.Wm)(h),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])])),_:1}),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{onSubmit:(0,o.iM)(n.eventoSignificativoCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Bl,[(0,s._)("div",Hl,[(0,s.Wm)(b,{options:i.listado,dense:"",outlined:"",label:"CufdEvento",modelValue:i.cufdEvento,"onUpdate:modelValue":t[5]||(t[5]=e=>i.cufdEvento=e)},null,8,["options","modelValue"])]),(0,s._)("div",Gl,[(0,s.Wm)(b,{options:i.events,dense:"",outlined:"",label:"codigoMotivoEvento",modelValue:i.event,"onUpdate:modelValue":t[6]||(t[6]=e=>i.event=e)},null,8,["options","modelValue"])]),(0,s._)("div",Kl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"fechaHoraInicioEvento",modelValue:i.fechaHoraInicioEvento,"onUpdate:modelValue":t[7]||(t[7]=e=>i.fechaHoraInicioEvento=e)},null,8,["modelValue"])]),(0,s._)("div",Jl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"fechaHoraFinEvento",modelValue:i.fechaHoraFinEvento,"onUpdate:modelValue":t[8]||(t[8]=e=>i.fechaHoraFinEvento=e)},null,8,["modelValue"])]),(0,s._)("div",Xl,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Crear evento significativo"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const to={name:"Cuis",data(){return{listado:[],loading:!1,eventoSignificativoDialog:!1,fechaHoraInicioEvento:ge.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),fechaHoraFinEvento:ge.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),cufd:{},cufdEvento:{},cufds:[],pagination:{page:1,rowsPerPage:10,rowsNumber:0,last_page:1},events:[],event:{},cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cudfFilter:"",cufdsColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"sales",label:"sales",field:"sales",sortable:!0},{name:"fechaCreacion",label:"fechaCreacion",field:"fechaCreacion",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"codigoControl",label:"codigoControl",field:"codigoControl",sortable:!0}]}},created(){this.cufdGet(),this.getListCufd(),this.$api.get("event").then((e=>{e.data.forEach((e=>{e.label=e.codigoClasificador+" "+e.descripcion})),this.events=e.data,this.event=this.events[0]}))},methods:{getListCufd(){this.loading=!0,this.$api.get("listCufd").then((e=>{e.data.forEach((e=>{e.label=e.fechaCreacion.split(" ")[0]})),this.listado=e.data,this.cufdEvento={label:""},this.loading=!1})).catch((()=>{this.loading=!1}))},onRequest(){this.cufdGet()},eventoSignificativoClick(e){this.eventoSignificativoDialog=!0,e.label=e.fechaCreacion.split(" ")[0],this.cufdEvento=e,this.fechaHoraInicioEvento=this.cufdEvento.fechaCreacion,this.fechaHoraFinEvento=this.cufdEvento.fechaVigencia},cufdGet(){this.loading=!0;const{page:e,rowsPerPage:t}=this.pagination;this.$api.get("cufd",{params:{page:e,per_page:t,filter:this.cudfFilter}}).then((e=>{this.cufds=e.data.data,this.pagination.rowsNumber=e.data.total,this.pagination.last_page=e.data.last_page,this.pagination.page=e.data.current_page,this.loading=!1})).catch((()=>{this.loading=!1}))},cuiCreate(){this.loading=!0,this.$api.post("cufd",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.cufdGet(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))},eventoSignificativoCreate(){this.loading=!0,this.$api.post("eventoSignificativo",{codigoPuntoVenta:this.cufdEvento.codigoPuntoVenta,codigoSucursal:this.cufdEvento.codigoSucursal,fechaHoraFinEvento:this.fechaHoraFinEvento,fechaHoraInicioEvento:this.fechaHoraInicioEvento,codigoMotivoEvento:this.event.codigoClasificador,descripcion:this.event.descripcion,cufdEvento:this.cufdEvento.codigo,cufdEventoId:this.cufdEvento.id}).then((e=>{this.loading=!1,this.cuiDialog=!1,this.eventoSignificativoDialog=!1,this.$q.notify({color:"positive",message:"Evento significativo  registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}};var lo=l(80996);const oo=(0,r.Z)(to,[["render",eo]]),ao=oo;A()(to,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QPagination:lo.Z,QTd:_e.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z}),A()(to,"directives",{ClosePopup:Oe.Z});const io={class:"row q-pa-xs"},so={class:"col-12"},no=(0,s._)("div",{class:"text-h5"},"PROGRAMACION DE FUNCIONES",-1),ro={class:"col-12"},co={class:"row"},uo={class:"col q-ma-xs"},mo=(0,s._)("div",{class:"text-h6"},"REGISTRAR DE FUNCION PELICULA",-1),po={class:"row"},ho=(0,s._)("div",{class:"col-12"},null,-1),go={class:"col-4"},fo=(0,s.Uk)(" No results "),bo={class:"col-4"},vo=(0,s.Uk)(" No results "),wo={class:"col-4"},_o=(0,s.Uk)(" No results "),yo={class:"col-4"},Co={class:"col-4"},Do={class:"col-4"},Vo={class:"col-4"},xo=(0,s._)("div",{class:"text-h6"},"MODIFICAR FUNCION",-1),Ao={class:"row"},Io={class:"col-4"},To=(0,s.Uk)(" No results "),Wo={class:"col-4"},Eo=(0,s.Uk)(" No results "),Mo={class:"col-4"},So=(0,s.Uk)(" No results "),qo={class:"col-6"},Lo={class:"col-6"},jo={class:"col-4"},Oo={class:"col-4"};function No(e,t,l,o,a,i){const n=(0,s.up)("q-btn"),d=(0,s.up)("FullCalendar"),r=(0,s.up)("q-card-section"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-select"),p=(0,s.up)("q-input"),h=(0,s.up)("q-checkbox"),g=(0,s.up)("q-card-actions"),f=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),v=(0,s.up)("q-toggle"),w=(0,s.up)("q-page"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",io,[(0,s._)("div",so,[no,(0,s.Wm)(n,{label:"Registrar",icon:"add_circle",color:"primary",onClick:t[0]||(t[0]=e=>{a.programaDialog=!0})}),(0,s._)("div",ro,[(0,s._)("div",co,[(0,s._)("div",uo,[(0,s.Wm)(n,{icon:"list",class:"full-width",label:"TODOS",color:a.color[0],onClick:t[1]||(t[1]=e=>i.listado(0))},null,8,["color"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.store.salas,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col q-ma-xs",key:e},[(0,s.Wm)(n,{class:"full-width",icon:"play_circle_outline",label:e.nombre,color:a.color[e.nro],onClick:t=>i.listado(e.id)},null,8,["label","color","onClick"])])))),128))])]),(0,s.Wm)(d,{class:"full-height",options:a.calendarOptions},null,8,["options"])]),(0,s.Wm)(b,{modelValue:a.programaDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>a.programaDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[mo])),_:1}),(0,s.Wm)(r,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",po,[ho,(0,s._)("div",go,[(0,s.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[2]||(t[2]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[fo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",bo,[(0,s.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[3]||(t[3]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[vo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",wo,[(0,s.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[4]||(t[4]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[_o])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",yo,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.fechaini,"onUpdate:modelValue":[t[5]||(t[5]=e=>a.programa.fechaini=e),i.cambioFecha],label:"Fecha Inicial",type:"date"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",Co,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.fechafin,"onUpdate:modelValue":t[6]||(t[6]=e=>a.programa.fechafin=e),label:"Fecha Final",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Do,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.hora,"onUpdate:modelValue":t[7]||(t[7]=e=>a.programa.hora=e),required:"",label:"Hora",type:"time"},null,8,["modelValue"])]),(0,s._)("div",Vo,[(0,s.Wm)(h,{modelValue:a.programa.subtitulada,"onUpdate:modelValue":t[8]||(t[8]=e=>a.programa.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(g,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{color:"red ",icon:"o_delete",label:"CANCELAR"},null,512),[[_]]),(0,s.Wm)(n,{color:"green",icon:"o_check_circle",loading:a.loading,label:"REGISTRAR",onClick:i.registrarFuncion},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{modelValue:a.programaUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>a.programaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[xo])),_:1}),(0,s.Wm)(r,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",Ao,[(0,s._)("div",Io,[(0,s.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[10]||(t[10]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[To])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",Wo,[(0,s.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[11]||(t[11]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[Eo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",Mo,[(0,s.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[12]||(t[12]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[So])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",qo,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa2.fecha,"onUpdate:modelValue":t[13]||(t[13]=e=>a.programa2.fecha=e),label:"Fecha ",type:"date",readonly:""},null,8,["modelValue"])]),(0,s._)("div",Lo,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa2.hora,"onUpdate:modelValue":t[14]||(t[14]=e=>a.programa2.hora=e),label:"Hora",type:"time"},null,8,["modelValue"])]),(0,s._)("div",jo,[(0,s.Wm)(h,{modelValue:a.programa2.subtitulada,"onUpdate:modelValue":t[15]||(t[15]=e=>a.programa2.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])]),(0,s._)("div",Oo,[(0,s.Wm)(v,{modelValue:a.programa2.activo,"onUpdate:modelValue":t[16]||(t[16]=e=>a.programa2.activo=e),color:"purple",label:a.programa2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])])])])),_:1}),(0,s.Wm)(g,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{color:"red-10",label:"Atras",loading:a.loading,icon:"arrow_back"},null,8,["loading"]),[[_]]),(0,s.Wm)(n,{color:"red",label:"Eliminar",loading:a.loading,onClick:i.eliminarFuncion,icon:"delete"},null,8,["loading","onClick"]),(0,s.Wm)(n,{label:"Modificar",loading:a.loading,onClick:i.modificarFuncion,icon:"edit",color:"yellow"},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var Uo=l(31722),ko=l(77238),Fo=l(40886),Zo=l(24005),Ro=l(68658),zo=l(43878),Qo=l.n(zo);const Po={name:"Programa",components:{FullCalendar:Uo.ZPm},data(){return{loading:!1,events:[],sala:{label:"",value:{}},pelicula:{label:"",value:{}},tarifa:{label:"",value:{}},funcion:[],programa:{fechaini:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},programa2:{},listpelis:[],listsalas:[],filsala:[],filpelis:[],filtarifa:[],listtarifa:[],programaUpdateDialog:!1,color:["indigo","blue","green","cyan-4","orange","light-green","lime","amber","light-blue","purple","pink","teal","lime","deep-orange","#1b5e20","#ff5722","#795548","#e65100","#827717","#01579b","#006064","#1b5e20","#ff5722","#795548"],programaDialog:!1,store:(0,he.c)(),calendarOptions:{selectable:!0,plugins:[ko.ZP,Zo.ZP,Fo.ZP],headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",locale:Ro.Z,allDaySlot:!1,editable:!0,selectMirror:!0,dayMaxEvents:!0,firstDay:4,eventClick:this.eventTitleClick,dateClick:this.dateClick,events:[],height:"auto",weekends:!0}}},mounted(){this.cambioFecha(this.programa.fechaini),this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()}))),this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()})),this.listado(0)},methods:{cambioFecha(e){this.programa.fechafin=Qo()(e).add(7,"days").format("YYYY-MM-DD")},eventTitleClick:function(e){this.funcion.forEach((t=>{t.id==e.event.id&&(this.programa2=t)})),this.pelicula=this.programa2.movie,this.pelicula.label=this.pelicula.nombre,this.tarifa=this.programa2.price,this.tarifa.label=this.tarifa.serie+" "+this.tarifa.precio+" Bs",this.sala=this.programa2.sala,this.sala.label=this.sala.nombre,this.programa2.hora=ge.ZP.formatDate(this.programa2.horaInicio,"HH:mm"),this.programaUpdateDialog=!0},registrarFuncion(){this.programa.movie=this.pelicula,this.programa.price=this.tarifa,this.programa.sala=this.sala,this.loading=!0,this.$api.post("programa",this.programa).then((e=>{console.log(e.data),this.listado(0),this.loading=!1,this.programa={fechaini:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},this.programaDialog=!1})).catch((e=>{console.error(e),this.$q.notify({color:"negative",textColor:"white",icon:"report_problem",message:e.response.data.message,position:"top"}),this.loading=!1}))},modificarFuncion(){this.programa2.movie=this.pelicula,this.programa2.price=this.tarifa,this.programa2.sala=this.sala,this.loading=!0,this.$api.put("programa/"+this.programa2.id,this.programa2).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))},eliminarFuncion(){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar la función?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("programa/"+this.programa2.id).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},cargar(){this.listtarifa=[],this.listsalas=[],this.listpelis=[],this.store.prices.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs.",this.listtarifa.push(e)})),this.store.movies.forEach((e=>{e.label=e.nombre,this.listpelis.push(e)})),this.store.salas.forEach((e=>{e.label=e.nombre,this.listsalas.push(e)})),this.filsala=this.listsalas,this.filpelis=this.listpelis,this.filtarifa=this.listtarifa},filterSala(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.salas2=this.store.salas3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.salas2=this.store.salas3})},filterPelicula(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.movies2=this.store.movies3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.movies2=this.store.movies3})},filterTarifa(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.prices2=this.store.prices3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.prices2=this.store.prices3})},listado(e){this.events=[],this.funcion=[],this.$api.get("listProgramacion").then((t=>{console.log(t.data);let l=0;t.data.forEach((t=>{this.funcion.push(t),l=t.sala.nro,(0==e||e==t.sala.id)&&this.events.push({title:t.movie.nombre+" "+t.movie.formato,start:t.horaInicio,end:t.horaFin,color:this.color[l],id:t.id})})),console.log(this.events),this.calendarOptions.events=this.events}))}},computed:{listapelis(){return 0}}};var Yo=l(11221),$o=l(11821);const Bo=(0,r.Z)(Po,[["render",No]]),Ho=Bo;A()(Po,"components",{QPage:D.Z,QBtn:V.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSelect:qe.Z,QItem:Ve.Z,QItemSection:xe.Z,QInput:ve.Z,QCheckbox:Yo.Z,QCardActions:$o.Z,QToggle:Le.Z}),A()(Po,"directives",{ClosePopup:Oe.Z});const Go=e=>((0,s.dD)("data-v-29ffb100"),e=e(),(0,s.Cn)(),e),Ko={class:"row"},Jo={class:"col-2 flex flex-center"},Xo=(0,s.Uk)(" PANEL DE VENTAS "),ea={class:"col-2"},ta={class:"row"},la={class:"col-6"},oa={class:"text-h6"},aa=(0,s.Uk)(" PELICULAS "),ia={class:"col-6 text-right"},sa={class:"text-subtitle2"},na={class:"row"},da={class:"absolute-bottom text-subtitle2 text-center",style:{padding:"0px",margin:"0px",border:"0px"}},ra={class:"row"},ca={class:"col-6 q-pa-none q-ma-none"},ua={class:"subtitule-text"},ma={class:"col-6 text-right flex flex-center"},pa={class:"row"},ha={class:"col-4"},ga={class:"text-bold text-center"},fa=Go((()=>(0,s._)("div",{class:"col-4"},null,-1))),ba={class:"col-4"},va={class:"text-bold q-pa-xs bg-grey-8 text-white"},wa={class:"row"},_a=Go((()=>(0,s._)("div",{class:"col-4"},"Detalle venta",-1))),ya={class:"col-4"},Ca={class:"col-4"},Da=Go((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{colspan:"4"},"Detalle de venta")]),(0,s._)("tr",null,[(0,s._)("th",null,"Fecha"),(0,s._)("th",null,"Cantidad"),(0,s._)("th",null,"Pelicula"),(0,s._)("th",null,"Subtotal")])],-1))),Va={class:"tdx"},xa={class:"tdx"},Aa={class:"tdx"},Ia={class:"tdx text-right"},Ta=Go((()=>(0,s._)("td",{colspan:"3",class:"tdx text-right text-bold"},"TOTAL:",-1))),Wa={class:"text-right tdx"},Ea={class:"row"},Ma={class:"col-12 row items-center q-pb-none"},Sa={class:"col-4 text-bold"},qa={class:"q-pa-xs flex flex-center"},La={style:{"font-size":"12px","font-weight":"bold"}},ja=(0,s.Uk)(" Disponibles: "),Oa={style:{"font-size":"14px","font-weight":"bolder"}},Na=(0,s.Uk)(" Vendidas: "),Ua={style:{"font-size":"14px","font-weight":"bolder"}},ka=(0,s.Uk)(" Devueltas: "),Fa={style:{"font-size":"14px","font-weight":"bolder"}},Za=(0,s.Uk)(" Capacidad:"),Ra={style:{"font-size":"14px","font-weight":"bolder"}},za={class:"text-bold"},Qa=(0,s.Uk)("CANTIDAD: "),Pa={class:"text-red text-bold text-h4"},Ya=(0,s.Uk)(" SUBTOTAL: "),$a={class:"text-red text-bold text-h4"},Ba={class:"col-12"},Ha=["colspan"],Ga=Go((()=>(0,s._)("th",null,null,-1))),Ka={class:"col-12 text-center"},Ja=Go((()=>(0,s._)("div",{class:"text-h6"},"Realizar venta",-1))),Xa={class:"row"},ei={class:"col-2"},ti={class:"col-2"},li={class:"col-3"},oi={class:"col-3"},ai={class:"col-2"},ii={class:"row"},si={class:"col-3"},ni={class:"col-3"},di={class:"col-2"},ri={class:"col-2 flex flex-center"},ci={class:"col-2 flex flex-center"},ui={class:"col-2 flex flex-center"},mi={class:"coll-12"},pi={class:"row"},hi={class:"col-6"},gi={class:"col-6"},fi={key:1,class:"row"},bi={class:"col-12"},vi={class:"col-12"},wi={class:"text-bold text-center text-h5"},_i={key:0,class:"col-12 text-red text-bold"},yi={class:"row"},Ci={class:"col-6"},Di={class:"col-6"},Vi=Go((()=>(0,s._)("div",{id:"myelement",class:"hidden"},null,-1)));function xi(e,t,l,a,i,n){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-input"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-separator"),m=(0,s.up)("q-img"),p=(0,s.up)("q-card"),h=(0,s.up)("q-badge"),g=(0,s.up)("q-btn"),b=(0,s.up)("q-space"),v=(0,s.up)("q-dialog"),w=(0,s.up)("q-select"),_=(0,s.up)("q-toggle"),y=(0,s.up)("q-checkbox"),C=(0,s.up)("q-banner"),D=(0,s.up)("q-form"),V=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(V,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"q-py-xs bg-green-7 text-white text-bold"},{default:(0,s.w5)((()=>[(0,s._)("div",Ko,[(0,s._)("div",Jo,[(0,s.Wm)(d,{name:"live_tv",left:""}),Xo]),(0,s._)("div",ea,[(0,s.Wm)(r,{label:"fecha","onUpdate:modelValue":[n.myMovies,t[0]||(t[0]=e=>i.fecha=e)],min:i.now,type:"date","label-color":"white",outlined:"",dense:"",modelValue:i.fecha},null,8,["onUpdate:modelValue","min","modelValue"])])])])),_:1}),(0,s.Wm)(c,{class:"q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",ta,[(0,s._)("div",la,[(0,s._)("div",oa,[(0,s.Wm)(d,{name:"o_confirmation_number"}),aa])]),(0,s._)("div",ia,[(0,s._)("div",sa,"Venta de boletos vendidos: "+(0,f.zw)(i.totalventa),1)])])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",na,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.movies,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-2",key:e.id},[(0,s.Wm)(p,{onClick:t=>n.myHours(e),style:{height:"150px"},class:"q-ma-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{src:i.url+"../imagen/"+e.imagen,height:"150px"},{default:(0,s.w5)((()=>[(0,s._)("div",da,[(0,s._)("div",ra,[(0,s._)("div",ca,[(0,s._)("div",ua,(0,f.zw)(e.nombre)+" "+(0,f.zw)(e.formato),1)]),(0,s._)("div",ma,(0,f.zw)(e.cantidad),1)])])])),_:2},1032,["src"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",pa,[(0,s._)("div",ha,[(0,s._)("div",ga,(0,f.zw)(i.movie.nombre),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.hours,(e=>((0,s.wg)(),(0,s.j4)(g,{onClick:t=>n.clickSala(e),loading:i.loading,size:"12px",class:"q-ma-xs full-width flex flex-center",color:"primary",key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"schedule",left:""}),(0,s.Wm)(h,{color:"red"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(e.sala.nombre),1)])),_:2},1024),(0,s.Uk)(" "+(0,f.zw)(e.horaInicio.substring(10,16))+" - "+(0,f.zw)(e.price.precio+"Bs"),1)])),_:2},1032,["onClick","loading"])))),128))]),fa,(0,s._)("div",ba,[(0,s._)("div",va,[(0,s._)("div",wa,[_a,(0,s._)("div",ya,[(0,s.Wm)(g,{color:"red",loading:i.loading,onClick:n.momentaneoDeleteAll,dense:"",label:"Cancelar Venta","no-caps":"",icon:"o_delete"},null,8,["loading","onClick"])]),(0,s._)("div",Ca,[(0,s.Wm)(g,{color:"green",disable:0==n.detalleVenta.length,loading:i.loading,onClick:n.saleCreate,dense:"",label:"Terminar Venta","no-caps":"",icon:"check_circle"},null,8,["disable","loading","onClick"])])])]),(0,s._)("table",null,[Da,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.detalleVenta,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Va,(0,f.zw)(e.fecha),1),(0,s._)("td",xa,(0,f.zw)(e.cantidad),1),(0,s._)("td",Aa,(0,f.zw)(e.pelicula),1),(0,s._)("td",Ia,(0,f.zw)(e.subtotal)+" Bs",1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[Ta,(0,s._)("td",Wa,(0,f.zw)(n.total)+"Bs",1)])])])])])])),_:1})])),_:1}),(0,s.Wm)(v,{"full-width":"",modelValue:i.salaDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.salaDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ea,[(0,s._)("div",Ma,[(0,s._)("div",Sa,[(0,s.Uk)((0,f.zw)(i.movie.nombre)+" "+(0,f.zw)(i.movie.formato)+" ",1),(0,s.Wm)(d,{name:"schedule",left:""}),(0,s.Wm)(h,{color:"red"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,f.zw)(i.hour.sala.nombre),1)])),_:1}),(0,s.Uk)(" "+(0,f.zw)(i.hour.horaInicio.substring(10,16))+" - "+(0,f.zw)(i.hour.price.precio+"Bs"),1)]),(0,s._)("div",qa,[(0,s._)("div",La,[(0,s.Wm)(d,{name:"event_seat"}),ja,(0,s._)("span",Oa,(0,f.zw)(i.disponible)+"|",1),(0,s.Wm)(d,{name:"credit_card"}),Na,(0,s._)("span",Ua,(0,f.zw)(i.vendido)+"|",1),(0,s.Wm)(d,{name:"settings_backup_restore"}),ka,(0,s._)("span",Fa,(0,f.zw)(i.devueltos)+"|",1),(0,s.Wm)(d,{name:"apartment"}),Za,(0,s._)("span",Ra,(0,f.zw)(i.capacidad),1)])]),(0,s.Wm)(b),(0,s._)("div",za,[Qa,(0,s._)("span",Pa,(0,f.zw)(n.seleccionados.length),1),Ya,(0,s._)("span",$a,(0,f.zw)(n.seleccionados.length*i.hour.price.precio)+"Bs. ",1)]),(0,s.Wm)(g,{icon:"highlight_off",color:"red",flat:"",round:"",dense:"",onClick:n.salaDialogClose},null,8,["onClick"])]),(0,s._)("div",Ba,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{colspan:parseInt(i.hour.sala.columnas)+1,class:"bg-blue-10 text-bold text-white"},"PANTALLA",8,Ha)]),(0,s._)("tr",null,[Ga,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,f.zw)(i.hour.sala.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,f.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{click:"cambio(f,c)",key:o,class:"text-center tdx",style:{padding:"0px",margin:"0px",border:"0px"}},["LIBRE"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:0,color:"green-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>n.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):"OCUPADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:1,color:"red-6",class:"full-width"})):"RESERVADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:2,color:"yellow-6",class:"full-width"})):"SELECCIONADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:3,color:"blue-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>n.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):((0,s.wg)(),(0,s.j4)(g,{key:4,color:"grey-6",class:"full-width"}))])))),128))])))),128))])])]),(0,s._)("div",Ka,[(0,s.Wm)(g,{icon:"check_circle",class:"q-ml-lg",disable:0==n.seleccionados.length,color:"primary",loading:i.loading,label:"Agregar",onClick:t[1]||(t[1]=e=>{n.myMomentaneo(),i.salaDialog=!1})},null,8,["disable","loading"]),(0,s.Wm)(g,{icon:"highlight_off",class:"q-ml-lg",color:"red",label:"Cancelar",onClick:n.salaDialogClose},null,8,["onClick"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(v,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>i.saleDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ja,(0,s.Wm)(b)])),_:1}),(0,s.Wm)(D,{onSubmit:(0,o.iM)(n.saleInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",Xa,[(0,s._)("div",ei,[(0,s.Wm)(r,{outlined:"",label:"NIT/CARNET",required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":[t[3]||(t[3]=e=>i.client.numeroDocumento=e),n.searchClient],debounce:"300"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",ti,[(0,s.Wm)(r,{outlined:"",label:"Complemento",modelValue:i.client.complemento,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.client.complemento=e),n.searchClient],debounce:"300",style:{"text-transform":"uppercase"}},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",li,[(0,s.Wm)(r,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.nombreRazonSocial=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,s._)("div",oi,[(0,s.Wm)(w,{modelValue:i.document,"onUpdate:modelValue":[t[6]||(t[6]=e=>i.document=e),n.validarnit],outlined:"",options:i.documents},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,s._)("div",ai,[(0,s.Wm)(r,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.client.email=e),type:"email"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",ii,[(0,s._)("div",si,[(0,s.Wm)(r,{outlined:"",label:"TOTAL A PAGAR:",disable:"",modelValue:n.total,"onUpdate:modelValue":t[8]||(t[8]=e=>n.total=e)},null,8,["modelValue"])]),(0,s._)("div",ni,[(0,s.Wm)(r,{outlined:"",label:"EFECTIVO BS.",onKeyup:n.cambio,modelValue:i.efectivo,"onUpdate:modelValue":t[9]||(t[9]=e=>i.efectivo=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",di,[(0,s.Wm)(r,{outlined:"",label:"CAMBIO:",disable:"",modelValue:n.cambio,"onUpdate:modelValue":t[10]||(t[10]=e=>n.cambio=e)},null,8,["modelValue"])]),(0,s._)("div",ri,[(0,s.Wm)(_,{outlined:"",label:`${i.credito} T CREDITO`,modelValue:i.credito,"onUpdate:modelValue":t[11]||(t[11]=e=>i.credito=e),color:"green","false-value":"NO","true-value":"SI"},null,8,["label","modelValue"])]),(0,s._)("div",ci,[(0,s.Wm)(y,{outlined:"",label:"N CORTESIA","onUpdate:modelValue":[n.habilitarCortesia,t[12]||(t[12]=e=>i.cortesia=e)],modelValue:i.cortesia,color:"primary"},null,8,["onUpdate:modelValue","modelValue"])]),(0,s._)("div",ui,[(0,s.Wm)(_,{outlined:"",label:`${i.tarjeta} VIP`,modelValue:i.tarjeta,"onUpdate:modelValue":t[13]||(t[13]=e=>i.tarjeta=e),color:"green","false-value":"NO","true-value":"SI"},null,8,["label","modelValue"])])]),(0,s._)("div",mi,["SI"==i.tarjeta?((0,s.wg)(),(0,s.j4)(D,{key:0,onSubmit:(0,o.iM)(n.consultartarjeta,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",pi,[(0,s._)("div",hi,[(0,s.Wm)(r,{outlined:"",label:"Codigo",modelValue:i.codigo,"onUpdate:modelValue":t[14]||(t[14]=e=>i.codigo=e),onKeyup:n.consultartarjeta},null,8,["modelValue","onKeyup"])]),(0,s._)("div",gi,[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Saldo :"+(0,f.zw)(i.nombresaldo.saldo)+" -- "+(0,f.zw)(i.nombresaldo.nombre),1)])),_:1})])])])),_:1},8,["onSubmit"])):(0,s.kq)("",!0),i.cortesia?((0,s.wg)(),(0,s.iD)("div",fi,[(0,s._)("div",bi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.frees,(e=>((0,s.wg)(),(0,s.j4)(y,{onClick:n.verificarCortesia,key:e.id,modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,label:e.id+"",color:"teal"},null,8,["onClick","modelValue","onUpdate:modelValue","label"])))),128))]),(0,s._)("div",vi,[(0,s._)("div",wi,(0,f.zw)(n.marcados)+" - "+(0,f.zw)(n.cantidades),1)])])):(0,s.kq)("",!0)]),""!=i.error?((0,s.wg)(),(0,s.iD)("div",_i,(0,f.zw)(i.error),1)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",yi,[(0,s._)("div",Ci,[(0,s.Wm)(g,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green",disable:i.btn},null,8,["loading","disable"])]),(0,s._)("div",Di,[(0,s.Wm)(g,{class:"full-width",icon:"undo",onClick:t[15]||(t[15]=e=>(i.saleDialog=!1,n.consultartarjeta)),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),Vi])),_:1})}l(12809);var Ai=l(52995),Ii=l(58746),Ti=l.n(Ii),Wi=l(32316);function Ei(e,t){let l="<style>    .titulo{ font-size: 14px; text-align: center; font-weight: bold; }    .tifecha{ font-size: 14px; }    .titnit{ font-size: 10px; text-align: center; }    hr{ border-top: 1px dashed; }    .titpelicula{ font-size: 18px; text-align: center; font-weight: bold; }    </style><div style='padding: 0.5cm'>";l+=`<div class='titulo'>${t.razon}</div>\n             <div class='titnit'>NIT:${t.nit}</div>\n             <hr>\n             <div class='titpelicula'>${e.titulo} <br> ${e.nombreSala}</div>\n             <br>\n             <div class='tifecha'>Fecha: <span style='font-size: 20px;'>${e.fechaFuncion}</span>\n             <span style='float:right'>Bs. ${e.costo}</span></div>\n             <div class='tifecha'>Butaca: <span style='font-size:22px;'>${e.letra}-${e.columna}</span>\n             <div style='float:right'>Hora: <span style='font-size:20px;'>${e.horaFuncion.substring(11)}</span></div></div>\n             <hr>\n             <div style='font-size: 12px'>Cod: ${e.numboc}<br>Trans: ${e.sale_id}</div>\n             <hr><br>\n             <div class='tifecha' style='font-size: 10px'>${e.fechaFuncion} ${e.horaFuncion.substring(11)}</div>\n             <div class='titpelicula' style='font-size:10px'>${e.titulo}<br>${e.nombreSala} ${e.letra}-${e.columna}</div>\n             <div>_</div><br>`,l+="</div>",document.getElementById("myelement").innerHTML=l;const o=new Ai.gR;o.print(document.getElementById("myelement"))}function Mi(e,t){const l=`\n  <style>\n    .titulo { font-size: 12px; text-align: center; font-weight: bold; }\n    .titulo2 { font-size: 10px; text-align: center; }\n    .textpeq { font-size: small; text-align: left; }\n    hr { border-top: 1px dashed; }\n  </style>\n  <div>\n    <div class='titulo2'>${t.razon}<br>NIT ${t.nit}<br>Casa Matriz<br>Oruro</div>\n    <hr>\n    <div class='titulo'>COMBO DUO</div>\n    <hr>\n    <div class='titulo'>Reclame su Combo Duo <br> 1 PIPOCA + 2 REFRESCOS</div>\n    <hr>\n    <div class='textpeq'>FECHA DE EMISIÓN: ${e.fechaEmision}</div>\n    <div class='textpeq'>Usuario: ${e.usuario}</div>\n    <div class='textpeq'>Venta: ${e.id}</div>\n  </div>\n  `;document.getElementById("myelement").innerHTML=l;const o=new Ai.gR;o.print(document.getElementById("myelement"))}async function Si(e,t,l,o){const a=Ti().conversorNumerosALetras,i=new a,s=i.convertToText(parseInt(e.montoTotal)),n=await Wi.toDataURL(`${t.url2}consulta/QR?nit=${t.nit}&cuf=${e.cuf}&numero=${e.numeroFactura}&t=2`,o),d=e.online?"en":"fuera de";let r=`<style>\n    .titulo { font-size: 12px; text-align: center; font-weight: bold; }\n    .titulo2 { font-size: 10px; text-align: center; }\n    .contenido { font-size: 10px; text-align: left; }\n    .conte2 { font-size: 10px; text-align: right; }\n    .titder { font-size: 12px; text-align: right; font-weight: bold; }\n    hr { border-top: 1px dashed; }\n  </style>\n  <div style='padding: 0.5cm'>\n    <div class='titulo'>FACTURA CON DERECHO A CREDITO FISCAL</div>\n    <div class='titulo2'>\n      ${t.razon}<br>Casa Matriz<br>No. Punto de Venta ${e.codigoPuntoVenta}<br>\n      ${t.direccion}<br>Tel. ${t.telefono}<br>Oruro\n    </div>\n    <hr>\n    <div class='titulo'>NIT</div><div class='titulo2'>${t.nit}</div>\n    <div class='titulo'>FACTURA N°</div><div class='titulo2'>${e.numeroFactura}</div>\n    <div class='titulo'>CÓD. AUTORIZACIÓN</div><div class='titulo2'>${e.cuf}</div>\n    <hr>\n    <table>\n      <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>${e.client.nombreRazonSocial}</td></tr>\n      <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>${e.client.numeroDocumento}-${e.client.complemento}</td></tr>\n      <tr><td class='titder'>COD. CLIENTE:</td><td class='contenido'>${e.client.id}</td></tr>\n      <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>${e.fechaEmision}</td></tr>\n    </table>\n    <hr>\n    <div class='titulo'>DETALLE</div>`;e.details.forEach((e=>{r+=`<div style='font-size: 12px'><b>${e.programa_id} - ${e.descripcion}</b></div>\n             <div>${e.cantidad} ${parseFloat(e.precioUnitario).toFixed(2)} 0.00\n             <span style='float:right'>${parseFloat(e.subTotal).toFixed(2)}</span></div>`})),r+=`<hr>\n    <table style='font-size: 8px;'>\n      <tr><td class='titder'>SUBTOTAL Bs</td><td class='conte2'>${parseFloat(e.montoTotal).toFixed(2)}</td></tr>\n      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>\n      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>${parseFloat(e.montoTotal).toFixed(2)}</td></tr>\n      <tr><td class='titder'>MONTO GIFT CARD Bs</td><td class='conte2'>0.00</td></tr>\n      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>${parseFloat(e.montoTotal).toFixed(2)}</td></tr>\n      <tr><td class='titder'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>${parseFloat(e.montoTotal).toFixed(2)}</td></tr>\n    </table><br>\n    <div>Son ${s} ${(100*(parseFloat(e.montoTotal)-Math.floor(e.montoTotal))).toFixed(0)}/100 Bolivianos</div>\n    <hr>\n    <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>\n    EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY<br><br>\n    ${l}<br><br>\n    “Este documento es la Representación Gráfica de un Documento Fiscal Digital emitido en una modalidad de facturación ${d} línea”</div>\n    <div style='display: flex; justify-content: center;'>\n      <img src="${n}" />\n    </div>\n  </div>`,document.getElementById("myelement").innerHTML=r;const c=new Ai.gR;c.print(document.getElementById("myelement"))}const qi={name:"Sale",data(){return{store:(0,he.c)(),saleDialog:!1,letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],url:"http://10.200.100.19:81/api/",salaDialog:!1,now:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),movies:[],movie:{},hours:[],nombresaldo:{},efectivo:"",hour:{},momentaneos:[],momentaneo:{},seats:[],seat:{},client:{complemento:"",vip:"NO",credito:"NO"},temporal:[],numeroboleto:0,loading:!1,documents:[],document:{},credito:"NO",tarjeta:"NO",cortesia:!1,disponible:0,vendido:0,devueltos:0,capacidad:0,totalventa:0,totventa:[],error:"",btn:!1,tienerebaja:!1,booltarjeta:!1,codigo:"",frees:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.freeGet(),this.tventa(),this.myMomentaneo(),this.eventSearch(),this.loadDocuments(),this.myMovies(this.fecha)},methods:{loadDocuments(){this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},freeGet(){this.$api.get("free").then((e=>{this.frees=[],e.data.forEach((t=>{t.status=!1,this.frees=e.data}))}))},habilitarCortesia(){this.btn=!this.cortesia},verificarCortesia(){this.marcados==this.cantidades?this.btn=!1:this.btn=!0},consultartarjeta(){""==this.codigo&&void 0==this.codigo||(this.nombresaldo={},this.codigo=this.codigo.replaceAll(" ",""),this.tienerebaja&&(this.momentaneos.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1),this.$api.get("validarTarjeta/"+this.codigo).then((e=>{console.log(e.data),this.$q.loading.hide(),"0"==e.data||""==e.data||(this.nombresaldo=e.data,this.tienerebaja||(this.momentaneos.forEach((e=>{e.precio=(.8*e.precio).toFixed(2),e.subtotal=(.8*e.subtotal).toFixed(2)})),this.tienerebaja=!0,parseFloat(this.total)<=parseFloat(this.nombresaldo.saldo)?this.btn=!1:this.btn=!0))})))},movieVenta(e){this.$api.post("movietotal",{fecha:e}).then((e=>{this.totventa=e.data,this.movies.forEach((e=>{}))}))},tventa(){this.$api.post("totalventa",{fecha:this.fecha}).then((e=>{this.totalventa=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},saleInsert(){this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("sale",{client:this.client,montoTotal:this.total,detalleVenta:this.detalleVenta,vip:this.tarjeta,tarjeta:this.credito,codigoTarjeta:this.codigo,cortesia:this.cortesia?"SI":"NO",frees:this.frees}).then((e=>{this.freeGet(),this.tarjeta="NO",""!=e.data.error&&this.$q.notify({color:"negative",textColor:"white",message:e.data.error,position:"top",timeout:5e3}),e.data.sale.siatEnviado&&this.printFactura(e.data.sale);let t=0;if(e.data.tickets.forEach((e=>{e.promo&&t++,this.boletoprint(e)})),t>1){let l=Math.trunc(t/2);for(let t=0;t<l;t++)console.log(e.data.sale),this.printPromo(e.data.sale)}this.momentaneoDeleteAll(),this.tventa(),this.client={complemento:"",vip:"NO",credito:"NO"},this.saleDialog=!1,this.myMovies(this.fecha),this.loading=!1,this.eventSearch()})).finally((()=>{this.loading=!1})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},printPromo(e){Mi(e,this.store.cine)},boletoprint(e){Ei(e,this.store.cine)},async printFactura(e){await Si(e,this.store.cine,e.leyenda,this.opts)},validarnit(){this.document==this.documents[4]&&this.$api.get("validanit/"+this.client.numeroDocumento).then((e=>{console.log(e.data),this.$q.notify({message:e.data.RespuestaVerificarNit.mensajesList.descripcion,color:"teal",icon:"info"})}))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}5==this.document.codigoClasificador&&this.validarnit()}))},saleCreate(){this.tienerebaja=!1,this.codigo="",this.nombresaldo={},this.saleDialog=!0,this.client={complemento:"",vip:"NO",credito:"NO"}},momentaneoDeleteAll(){this.loading=!0,this.$api.post("momentaneoDeleteall").then((e=>{this.loading=!1,this.myMomentaneo()}))},myMomentaneo(){this.$api.get("momentaneo").then((e=>{this.momentaneos=e.data}))},salaDialogClose(){this.$api.post("momentaneoDeleteUser",{programa_id:this.hour.id}).then((e=>{this.myMomentaneo()})),this.salaDialog=!1},clickSala(e){this.hour=e,this.loading=!0,this.$api.post("mySeats",{id:e.id}).then((t=>{this.seats=t.data,this.$api.post("disponibleSeats",{id:e.id}).then((e=>{let t=e.data[0];this.disponible=parseInt(t.salatotal)-parseInt(t.venta)-parseInt(t.temp),this.vendido=parseInt(t.venta),this.devueltos=parseInt(t.dev),this.capacidad=parseInt(t.salatotal),this.salaDialog=!0,this.loading=!1}))}))},myMovies(e){if(this.movie={},this.hours=[],this.movies=[],Qo()(this.now).isAfter(Qo()(e)))return!1;this.$api.post("movies",{fecha:e}).then((t=>{console.log(t.data),this.movies=t.data,this.tventa(),this.movieVenta(e)}))},myHours(e){this.movie=e,this.loading=!0,this.$api.post("hours",{fecha:this.fecha,id:e.id}).then((e=>{this.loading=!1,this.hours=e.data,this.hour=this.hours[0]}))},seleccionar(e,t){this.loading=!0,"SELECCIONADO"==t.activo?(t.activo="LIBRE",this.$api.post("momentaneoDelete",{user_id:1,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra}).then((e=>{this.loading=!1,this.myMomentaneo()}))):(t.activo="SELECCIONADO",this.$api.post("momentaneo",{user_id:this.store.user.id,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra,fecha:e.horaInicio,pelicula:e.movie.nombre+" "+e.movie.formato,pelicula_id:e.movie.id,precio:e.price.precio,promo:"SI"==e.price.promo}).then((t=>{this.loading=!1,this.myMomentaneo(),1==t.data&&this.clickSala(e)})))}},computed:{btnCortesia(){return!!this.cortesia},marcados(){let e=0;return this.frees.forEach((t=>{t.status&&e++})),e},cantidades(){let e=0;return this.detalleVenta.forEach((t=>{e+=t.cantidad})),e},total(){let e=0;return this.detalleVenta.forEach((t=>{e+=parseFloat(t.subtotal)})),e.toFixed(2)},cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},seleccionados(){let e=[];return this.seats.forEach((t=>{"SELECCIONADO"==t.activo&&e.push(t)})),e},detalleVenta(){let e,t=[];return this.momentaneos.forEach((l=>{e=t.find((e=>e.programa_id===l.programa_id)),void 0==e?t.push({promo:l.promo,fecha:l.fecha,precio:l.precio,cantidad:1,pelicula:l.pelicula,subtotal:l.precio,programa_id:l.programa_id,pelicula_id:l.pelicula_id}):(e.cantidad=e.cantidad+1,e.subtotal=e.cantidad*l.precio)})),t}}};var Li=l(50926),ji=l(47128);const Oi=(0,r.Z)(qi,[["render",xi],["__scopeId","data-v-29ffb100"]]),Ni=Oi;A()(qi,"components",{QPage:D.Z,QCard:We.Z,QCardSection:Ee.Z,QIcon:we.Z,QInput:ve.Z,QSeparator:Li.Z,QImg:ye.Z,QBtn:V.Z,QBadge:fl.Z,QDialog:Te.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z,QToggle:Le.Z,QCheckbox:Yo.Z,QBanner:ji.Z});const Ui={class:"row"},ki={class:"col-12"},Fi=(0,s.Uk)("Actualizar"),Zi=(0,s.Uk)("Cambiar Imagen"),Ri=(0,s.Uk)("Eliminar"),zi=(0,s._)("div",{class:"text-h6"},"Registrar Rubro",-1),Qi={class:"row"},Pi={class:"col-3"},Yi={class:"col-3"},$i={class:"col-3"},Bi={class:"col-12 text-center flex flex-center"},Hi={class:"col-12"},Gi=(0,s._)("div",{class:"text-h6"},"Modificar Rubro",-1),Ki={class:"row"},Ji={class:"col-3"},Xi={class:"col-3"},es={class:"col-3"},ts={class:"col-3"},ls={class:"col-12"},os=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),as={class:"col-12 text-center flex flex-center"};function is(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),v=(0,s.up)("q-btn-dropdown"),w=(0,s.up)("q-table"),_=(0,s.up)("q-space"),y=(0,s.up)("q-card-section"),C=(0,s.up)("q-color"),D=(0,s.up)("q-popup-proxy"),V=(0,s.up)("q-uploader"),x=(0,s.up)("q-form"),A=(0,s.up)("q-card"),I=(0,s.up)("q-dialog"),T=(0,s.up)("q-toggle"),W=(0,s.up)("q-page"),E=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(W,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ui,[(0,s._)("div",ki,[(0,s.Wm)(w,{dense:"",title:"Gestionar Rubro","rows-per-page-options":[20,50,100,0],rows:i.store.rubros,columns:i.rubroColumns,filter:i.rubroFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.rubroDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.rubroFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.rubroFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",{style:(0,f.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.rubroUpdateDialog=!0,i.rubro2=e.row,this.store.rubro=e.row.rubro}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Fi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[E]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.rubro2=e.row,i.dialog_img=!0}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Zi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[E]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.rubroDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Ri])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[E]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(I,{modelValue:i.rubroDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.rubroDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[zi,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[E]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.rubroCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Qi,[(0,s._)("div",Pi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.rubro.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,s._)("div",Yi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.rubro.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",$i,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"","no-header":"",modelValue:i.rubro.color,"onUpdate:modelValue":t[5]||(t[5]=e=>i.rubro.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:i.rubro.color,"onUpdate:modelValue":t[4]||(t[4]=e=>i.rubro.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",Bi,[(0,s.Wm)(V,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",Hi,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(I,{modelValue:i.rubroUpdateDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.rubroUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Gi,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[E]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.rubroUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ki,[(0,s._)("div",Ji,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro2.nombre,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rubro2.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,s._)("div",Xi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro2.descripcion,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rubro2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",es,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.rubro2.color,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rubro2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:i.rubro2.color,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rubro2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",ts,[(0,s.Wm)(T,{modelValue:i.rubro2.activo,"onUpdate:modelValue":t[11]||(t[11]=e=>i.rubro2.activo=e),color:"green",label:i.rubro2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,s._)("div",ls,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(I,{modelValue:i.dialog_img,"onUpdate:modelValue":t[13]||(t[13]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[os])),_:1}),(0,s.Wm)(y,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",as,[(0,s.Wm)(V,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[E]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ss={name:"Distribuidores",data(){return{loading:!1,rubroFilter:"",rubro:{},url:"http://10.200.100.19:81/api/",rubro2:{},rubroDialog:!1,rubroUpdateDialog:!1,dialog_img:!1,store:(0,he.c)(),foto:"",rubroColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo"}]}},created(){this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.$q.loading.hide()})))},methods:{onModImagen(){this.rubro2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenrubro",this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},rubroCreate(){this.rubro.imagen=this.foto,this.loading=!0,this.$api.post("rubro",this.rubro).then((e=>{this.loading=!1,this.store.rubros.push(e.data),this.rubroDialog=!1,this.rubro={}}))},rubroUpdate(){this.$q.loading.show(),this.$api.put("rubro/"+this.rubro2.id,this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.rubroUpdateDialog=!1,this.rubro2={}}))},rubroDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("rubro/"+e).then((e=>{this.store.rubros.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}};var ns=l(52765),ds=l(93385);const rs=(0,r.Z)(ss,[["render",is]]),cs=rs;A()(ss,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QImg:ye.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QPopupProxy:ns.Z,QColor:ds.Z,QUploader:je.Z,QToggle:Le.Z}),A()(ss,"directives",{ClosePopup:Oe.Z});const us={class:"row"},ms={class:"col-12"},ps=(0,s.Uk)("Actualizar"),hs=(0,s.Uk)("Actualizar Imagen"),gs=(0,s.Uk)("Eliminar"),fs=(0,s._)("div",{class:"text-h6"},"Registrar Pelicula",-1),bs={class:"row"},vs={class:"col-3"},ws={class:"col-3"},_s={class:"col-3"},ys={class:"col-3"},Cs={class:"col-3"},Ds={class:"col-12 text-center flex flex-center"},Vs={class:"col-12"},xs=(0,s._)("div",{class:"text-h6"},"Modificar Pelicula",-1),As={class:"row"},Is={class:"col-3"},Ts={class:"col-3"},Ws={class:"col-3"},Es={class:"col-3"},Ms={class:"col-3"},Ss={class:"col-3"},qs={class:"col-12"},Ls=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),js={class:"col-12 text-center flex flex-center"};function Os(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),v=(0,s.up)("q-btn-dropdown"),w=(0,s.up)("q-table"),_=(0,s.up)("q-space"),y=(0,s.up)("q-card-section"),C=(0,s.up)("q-select"),D=(0,s.up)("q-color"),V=(0,s.up)("q-popup-proxy"),x=(0,s.up)("q-uploader"),A=(0,s.up)("q-form"),I=(0,s.up)("q-card"),T=(0,s.up)("q-dialog"),W=(0,s.up)("q-toggle"),E=(0,s.up)("q-page"),M=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(E,null,{default:(0,s.w5)((()=>[(0,s._)("div",us,[(0,s._)("div",ms,[(0,s.Wm)(w,{dense:"",title:"Gestionar Productos","rows-per-page-options":[20,50,100,0],rows:i.store.productos,columns:i.productoColumns,filter:i.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.productoDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.productoFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",{style:(0,f.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.productoUpdateDialog=!0,i.producto2=e.row,this.store.rubro=e.row.rubro}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[ps])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.producto2=e.row}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[hs])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.productoDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[gs])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(T,{modelValue:i.productoDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.productoDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[fs,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{onSubmit:(0,o.iM)(n.productoCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",bs,[(0,s._)("div",vs,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.producto.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",ws,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.producto.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",_s,[(0,s.Wm)(c,{dense:"",outlined:"",label:"precio",modelValue:i.producto.precio,"onUpdate:modelValue":t[4]||(t[4]=e=>i.producto.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",ys,[(0,s.Wm)(C,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[5]||(t[5]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",Cs,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto.color,"onUpdate:modelValue":t[7]||(t[7]=e=>i.producto.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{modelValue:i.producto.color,"onUpdate:modelValue":t[6]||(t[6]=e=>i.producto.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",Ds,[(0,s.Wm)(x,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",Vs,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(T,{modelValue:i.productoUpdateDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>i.productoUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[xs,(0,s.Wm)(_),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])])),_:1}),(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{onSubmit:(0,o.iM)(n.productoUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",As,[(0,s._)("div",Is,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto2.nombre,"onUpdate:modelValue":t[9]||(t[9]=e=>i.producto2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",Ts,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto2.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.producto2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Ws,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.producto2.precio,"onUpdate:modelValue":t[11]||(t[11]=e=>i.producto2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Es,[(0,s.Wm)(C,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[12]||(t[12]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",Ms,[(0,s.Wm)(W,{modelValue:i.producto2.activo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.producto2.activo=e),color:"green",label:i.producto2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,s._)("div",Ss,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto2.color,"onUpdate:modelValue":t[15]||(t[15]=e=>i.producto2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{modelValue:i.producto2.color,"onUpdate:modelValue":t[14]||(t[14]=e=>i.producto2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",qs,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(T,{modelValue:i.dialog_img,"onUpdate:modelValue":t[17]||(t[17]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Ls])),_:1}),(0,s.Wm)(y,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(A,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",js,[(0,s.Wm)(x,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[M]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Ns={name:"Peliculas",data(){return{loading:!1,productoFilter:"",url:"http://10.200.100.19:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,store:(0,he.c)(),foto:"",productoColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"RUBRO",field:e=>e.rubro.nombre,name:"rubro",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo",sortable:!0}]}},created(){this.store.productoSingleTon||(this.$q.loading.show(),this.store.productoSingleTon=!0,this.$api.get("producto").then((e=>{this.store.productos=e.data,this.$q.loading.hide()}))),this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.store.rubro=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.producto2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenproducto",this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={},this.foto="";let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},productoCreate(){this.producto.imagen=this.foto,this.loading=!0,this.producto.rubro_id=this.store.rubro.id,this.$api.post("producto",this.producto).then((e=>{this.loading=!1,this.store.productos.push(e.data),this.foto="",this.productoDialog=!1,this.producto={}}))},productoUpdate(){this.$q.loading.show(),this.$api.put("producto/"+this.producto2.id,this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={};let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.productoUpdateDialog=!1,this.producto2={}}))},productoDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("producto/"+e).then((e=>{this.store.productos.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}},Us=(0,r.Z)(Ns,[["render",Os]]),ks=Us;A()(Ns,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QImg:ye.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z,QPopupProxy:ns.Z,QColor:ds.Z,QUploader:je.Z,QToggle:Le.Z}),A()(Ns,"directives",{ClosePopup:Oe.Z});const Fs=e=>((0,s.dD)("data-v-4325acdd"),e=e(),(0,s.Cn)(),e),Zs={class:"row"},Rs={class:"col-12 flex flex-center text-h5"},zs=(0,s.Uk)(" CANDY BAR "),Qs={class:"row"},Ps={class:"col-6"},Ys={class:"text-h6"},$s=(0,s.Uk)(" RUBROS"),Bs={class:"row"},Hs={class:"col-12 col-md-8"},Gs={class:"row"},Ks={class:"absolute-bottom text-subtitle2 text-center"},Js={class:"row"},Xs={class:"col-6"},en={class:"text-h6"},tn=(0,s.Uk)(" PRODUCTOS"),ln={class:"row"},on={class:"absolute-bottom text-subtitle2 text-center"},an={class:"row"},sn={class:"col-6"},nn={class:"col-6"},dn={class:"col-12 col-md-4"},rn={class:"row"},cn={class:"col-4 flex flex-center"},un=(0,s.Uk)(" VENTA "),mn={class:"col-4 text-center"},pn={class:"col-4 text-center"},hn=Fs((()=>(0,s._)("thead",null,[(0,s._)("tr",{class:"bg-accent text-white"},[(0,s._)("th",null,"#"),(0,s._)("th",null,"Nombre producto"),(0,s._)("th",null,"Cant."),(0,s._)("th",null,"Subt."),(0,s._)("th",null,"Opc")])],-1))),gn={class:"text-center"},fn={class:"text-right"},bn=Fs((()=>(0,s._)("th",null,null,-1))),vn=Fs((()=>(0,s._)("th",null,null,-1))),wn=Fs((()=>(0,s._)("th",null,"TOTAL",-1))),_n={class:"text-right"},yn={class:"text-h6"},Cn=(0,s.Uk)(" Realizar venta"),Dn={class:"row"},Vn={class:"col-12"},xn={class:"row"},An={class:"col-2"},In={class:"col-2"},Tn={class:"col-3"},Wn={class:"col-3"},En={class:"col-2"},Mn={class:"col-3 q-pa-xs"},Sn={class:"col-3 q-pa-xs"},qn={class:"col-3 q-pa-xs"},Ln={class:"row col-3"},jn={class:"col-12"},On={class:"row"},Nn={class:"col-6"},Un={class:"col-6"},kn=Fs((()=>(0,s._)("div",{id:"myelement",class:"hidden"},null,-1)));function Fn(e,t,l,a,i,n){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-card-section"),c=(0,s.up)("q-separator"),u=(0,s.up)("q-img"),m=(0,s.up)("q-card"),p=(0,s.up)("q-btn"),h=(0,s.up)("q-space"),g=(0,s.up)("q-input"),b=(0,s.up)("q-select"),v=(0,s.up)("q-checkbox"),w=(0,s.up)("q-banner"),_=(0,s.up)("q-form"),y=(0,s.up)("q-dialog"),C=(0,s.up)("q-page"),D=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"q-py-xs bg-purple-7 text-white text-bold"},{default:(0,s.w5)((()=>[(0,s._)("div",Zs,[(0,s._)("div",Rs,[(0,s.Wm)(d,{name:"storefront",left:""}),zs])])])),_:1}),(0,s.Wm)(r,{class:"q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",Qs,[(0,s._)("div",Ps,[(0,s._)("div",Ys,[(0,s.Wm)(d,{name:"store"}),$s])])])])),_:1}),(0,s.Wm)(c),(0,s._)("div",Bs,[(0,s._)("div",Hs,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",Gs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.rubros,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-2 col-md-2"},[(0,s.Wm)(m,{onClick:t=>i.productos=e.productos,class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{style:(0,f.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,s.w5)((()=>[(0,s._)("div",Ks,(0,f.zw)(e.nombre),1)])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,s.Wm)(c),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",Js,[(0,s._)("div",Xs,[(0,s._)("div",en,[(0,s.Wm)(d,{name:"shopping_cart"}),tn])])]),(0,s._)("div",ln,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.productos,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-2 col-md-2",key:e.id},[(0,s.Wm)(m,{onClick:t=>n.miventa(e),class:"q-ma-xs",style:(0,f.j5)("background: "+e.color)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{style:(0,f.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,s.w5)((()=>[(0,s._)("div",on,[(0,s._)("div",an,[(0,s._)("div",sn,(0,f.zw)(e.nombre),1),(0,s._)("div",nn,(0,f.zw)(e.precio)+"Bs",1)])])])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick","style"])])))),128))])])),_:1}),(0,s.Wm)(c)]),(0,s._)("div",dn,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"bg-accent text-white q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",rn,[(0,s._)("div",cn,[(0,s.Wm)(d,{name:"point_of_sale"}),un]),(0,s._)("div",mn,[(0,s.Wm)(p,{onClick:n.reset,color:"negative",size:"14px",icon:"restart_alt",label:"cancelar"},null,8,["onClick"])]),(0,s._)("div",pn,[(0,s.Wm)(p,{onClick:t[0]||(t[0]=e=>{i.icon=!0,i.tienerebaja=!1,i.booltarjeta=!1,i.tarjeta=!1}),color:"positive",label:"Venta",size:"14px",icon:"add_circle"})])])])),_:1}),(0,s.Wm)(r,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("table",null,[hn,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.store.detallecandy,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,f.zw)(t+1),1),(0,s._)("td",null,(0,f.zw)(e.nombre),1),(0,s._)("td",gn,(0,f.zw)(e.cantidad),1),(0,s._)("td",fn,(0,f.zw)(e.subtotal)+"Bs",1),(0,s._)("td",null,[(0,s.Wm)(p,{onClick:e=>n.agregar(t),size:"12px",icon:"add_circle_outline",color:"green"},null,8,["onClick"]),(0,s.Wm)(p,{onClick:e=>n.disminuir(t),size:"12px",icon:"remove_circle_outline",color:"warning"},null,8,["onClick"]),(0,s.Wm)(p,{onClick:e=>n.quitar(t),size:"12px",icon:"o_delete",color:"negative"},null,8,["onClick"])])])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[bn,vn,wn,(0,s._)("th",_n,(0,f.zw)(n.total)+"Bs",1)])])])])),_:1})])),_:1})])])])),_:1}),(0,s.Wm)(y,{modelValue:i.icon,"onUpdate:modelValue":t[12]||(t[12]=e=>i.icon=e),"full-width":"",persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"row items-center q-pa-xs bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",yn,[(0,s.Wm)(d,{name:"send"}),Cn]),(0,s.Wm)(h),(0,s.wy)((0,s.Wm)(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[D]])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",Dn,[(0,s._)("div",Vn,[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.saleInsert,["prevent"]),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",xn,[(0,s._)("div",An,[(0,s.Wm)(g,{required:"",outlined:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":[t[1]||(t[1]=e=>i.client.numeroDocumento=e),n.searchClient],label:"CI / NIT *",hint:"Carnet o nit","lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"],debounce:"300"},null,8,["modelValue","rules","onUpdate:modelValue"])]),(0,s._)("div",In,[(0,s.Wm)(g,{outlined:"",modelValue:i.client.complemento,"onUpdate:modelValue":[t[2]||(t[2]=e=>i.client.complemento=e),n.searchClient],label:"COMPLEMENTO",debounce:"300"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",Tn,[(0,s.Wm)(g,{required:"",outlined:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.nombreRazonSocial=e),label:"Nombre y razon *",hint:"Razon social",style:{"text-transform":"uppercase"},"lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"]},null,8,["modelValue","rules"])]),(0,s._)("div",Wn,[(0,s.Wm)(b,{modelValue:i.document,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.document=e),n.validarnit],outlined:"",options:i.documents},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,s._)("div",En,[(0,s.Wm)(g,{outlined:"",modelValue:i.client.email,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.email=e),label:"Email",type:"email"},null,8,["modelValue"])]),(0,s._)("div",Mn,[(0,s.Wm)(g,{required:"",outlined:"",disable:"",modelValue:n.total,"onUpdate:modelValue":t[6]||(t[6]=e=>n.total=e),label:"Total*","lazy-rules":""},null,8,["modelValue"])]),(0,s._)("div",Sn,[(0,s.Wm)(g,{modelValue:i.efectivo,"onUpdate:modelValue":t[7]||(t[7]=e=>i.efectivo=e),outlined:"",label:"Monto recibido"},null,8,["modelValue"])]),(0,s._)("div",qn,[(0,s.Wm)(g,{outlined:"",disable:"",label:"Cambio",modelValue:n.cambio,"onUpdate:modelValue":t[8]||(t[8]=e=>n.cambio=e)},null,8,["modelValue"])]),(0,s._)("div",Ln,[(0,s.Wm)(v,{modelValue:i.credito,"onUpdate:modelValue":t[9]||(t[9]=e=>i.credito=e),label:"T Credito",dense:""},null,8,["modelValue"]),(0,s.Wm)(v,{modelValue:i.booltarjeta,"onUpdate:modelValue":t[10]||(t[10]=e=>i.booltarjeta=e),label:"T VIP",dense:"",onClick:n.verificar},null,8,["modelValue","onClick"])]),(0,s._)("div",jn,[i.booltarjeta?((0,s.wg)(),(0,s.j4)(_,{key:0,onSubmit:(0,o.iM)(n.consultartarjeta,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",On,[(0,s._)("div",Nn,[(0,s.Wm)(g,{outlined:"",label:"Codigo",modelValue:i.codigo,"onUpdate:modelValue":t[11]||(t[11]=e=>i.codigo=e),onKeyup:n.consultartarjeta},null,8,["modelValue","onKeyup"])]),(0,s._)("div",Un,[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Saldo :"+(0,f.zw)(i.nombresaldo.saldo)+" -- "+(0,f.zw)(i.nombresaldo.nombre),1)])),_:1})])])])),_:1},8,["onSubmit"])):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s.Wm)(p,{label:"venta",loading:i.loading,icon:"send",type:"submit",color:"positive",disable:i.btn},null,8,["loading","disable"]),(0,s.Wm)(p,{label:"Cerrar",loading:i.loading,type:"button",size:"md",icon:"delete",color:"negative",class:"q-ml-sm",onClick:n.cancelarVenta},null,8,["loading","onClick"])])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),kn])),_:1})}const Zn={name:"Sale",data(){return{saleDialog:!1,url:"http://10.200.100.19:81/api/",now:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),efectivo:"",btn:!1,rubros:[],codigo:"",productos:[],client:{complemento:""},temporal:[],loading:!1,documents:[],document:{},credito:!1,store:(0,he.c)(),icon:!1,tarjeta:!1,cine:{},leyendas:[],nombresaldo:{},tienerebaja:!1,booltarjeta:!1,opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.listado(),this.encabezado(),this.cargarLeyenda(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{cancelarVenta(){this.codigo="",this.booltarjeta=!1,this.nombresaldo={},this.icon=!1,this.verificar()},validarnit(){this.document==this.documents[4]&&this.$api.get("validanit/"+this.client.numeroDocumento).then((e=>{console.log(e.data),this.$q.notify({message:e.data.RespuestaVerificarNit.mensajesList.descripcion,color:"teal",icon:"info"})}))},consultartarjeta(){""==this.codigo&&void 0==this.codigo||(this.nombresaldo="",this.codigo=this.codigo.replaceAll(" ",""),this.tienerebaja&&(this.store.detallecandy.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1),this.$api.get("validarTarjeta/"+this.codigo).then((e=>{console.log(e.data),this.$q.loading.hide(),"0"==e.data||""==e.data||(this.nombresaldo=e.data,this.tienerebaja||(this.store.detallecandy.forEach((e=>{e.precio=(.8*e.precio).toFixed(2),e.subtotal=(.8*e.subtotal).toFixed(2)})),this.tienerebaja=!0,parseFloat(this.total)<=parseFloat(this.nombresaldo.saldo)?this.btn=!1:this.btn=!0))})))},verificar(){this.codigo="",this.nombresaldo="",this.booltarjeta||this.tienerebaja&&(this.store.detallecandy.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1)},reset(){this.client={complemento:""},this.store.detallecandy=[]},quitar(e){this.store.detallecandy.splice(e,1)},agregar(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad++,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2)},disminuir(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad--,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2),0==this.store.detallecandy[e].cantidad&&this.store.detallecandy.splice(e,1)},miventa(e){let t=this.store.detallecandy.findIndex((t=>t.product_id===e.id));-1==t?this.store.detallecandy.push({product_id:e.id,nombre:e.nombre,precio:e.precio,cantidad:1,subtotal:e.precio}):(this.store.detallecandy[t].cantidad++,this.store.detallecandy[t].subtotal=(parseFloat(e.precio)*parseFloat(this.store.detallecandy[t].cantidad)).toFixed(2))},listado(){this.$api.post("listadoprod").then((e=>{console.log(e.data),this.rubros=e.data}))},saleInsert(){this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("salecandy",{client:this.client,montoTotal:this.total,detalleVenta:this.store.detallecandy,tarjeta:this.credito?"SI":"NO",codigoTarjeta:this.codigo,vip:this.booltarjeta?"SI":"NO"}).then((e=>{this.reset(),1==e.data.sale.siatEnviado&&this.printFactura(e.data.sale),this.printComanda(e.data.sale),this.icon=!1,this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.message,position:"top",timeout:5e3})}))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.loading=!0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}5==this.document.codigoClasificador&&this.validarnit()})).finally((()=>{this.loading=!1}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=Ti().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Wi.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},async printComanda(e){this.facturadetalle=e;let t=Ti().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))}},computed:{cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},total:function(){let e=0;return this.store.detallecandy.forEach((t=>{e+=parseFloat(t.precio)*parseFloat(t.cantidad)})),e.toFixed(2)}}},Rn=(0,r.Z)(Zn,[["render",Fn],["__scopeId","data-v-4325acdd"]]),zn=Rn;A()(Zn,"components",{QPage:D.Z,QCard:We.Z,QCardSection:Ee.Z,QIcon:we.Z,QSeparator:Li.Z,QImg:ye.Z,QBtn:V.Z,QDialog:Te.Z,QSpace:Me.Z,QForm:Se.Z,QInput:ve.Z,QSelect:qe.Z,QCheckbox:Yo.Z,QBanner:ji.Z}),A()(Zn,"directives",{ClosePopup:Oe.Z});const Qn={class:"row"},Pn=(0,s._)("div",{class:"col-12"},[(0,s._)("div",{class:"bg-primary text-white text-bold text-center text-h4"},"BOLETERIA")],-1),Yn={class:"col-12"},$n={class:"row"},Bn={class:"col-4 q-pa-xs"},Hn={class:"col-4 q-pa-xs"},Gn={class:"col-4 q-pa-xs flex flex-center"},Kn={class:"col-12"},Jn=(0,s.Uk)("VIP"),Xn=(0,s._)("div",{class:"text-h6"},"Boletos",-1),ed=["src"],td={id:"myelement",class:"hidden"},ld=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1),od=(0,s._)("div",{class:"text-h6"},"FORMULARIO DE ANULACIÓN",-1),ad=(0,s._)("div",{class:"row q-col-gutter-sm"},null,-1),id={class:"row q-col-gutter-sm q-mt-sm"},sd={class:"col-12"},nd=(0,s._)("div",{class:"line-label"},"MOTIVO:",-1),dd={class:"row q-col-gutter-sm"},rd={class:"col-auto"},cd={class:"col-auto"},ud={class:"col-auto"},md={class:"col-auto"},pd={class:"row q-mt-sm"},hd={class:"col-12"},gd=(0,s._)("div",{class:"line-label"},"DETALLE:",-1),fd={class:"q-mt-md"};function bd(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-badge"),p=(0,s.up)("q-td"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),v=(0,s.up)("q-btn-dropdown"),w=(0,s.up)("q-table"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-card-actions"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),V=(0,s.up)("q-select"),x=(0,s.up)("q-space"),A=(0,s.up)("q-separator"),I=(0,s.up)("q-checkbox"),T=(0,s.up)("q-page"),W=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(T,null,{default:(0,s.w5)((()=>[(0,s._)("div",Qn,[Pn,(0,s._)("div",Yn,[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.listaVentaBoleteriaGet,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",$n,[(0,s._)("div",Bn,[(0,s.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,s._)("div",Hn,[(0,s.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",Gn,[(0,s.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,s._)("div",Kn,[(0,s.Wm)(w,{rows:i.listaVentaBoleteria,columns:i.listaColums,filter:i.filter,dense:"","wrap-cells":""},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(r,{color:"green",label:"Export EXCEL",onClick:n.exportar},null,8,["onClick"]),(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>i.filter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-siatAnulado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"primary",label:"Opciones",size:"xs","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado&&"NO"==e.row.cortesia&&"F"==e.row.venta&&i.store.boolimpfactura?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),0==e.row.siatAnulado&&i.store.boolimpboleto?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Imp Boletos","no-caps":"",onClick:t=>n.detalleimp(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),"NO"==e.row.cortesia?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:2,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),0==e.row.siatAnulado&&i.store.boolsolicitud?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:3,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"assignment",color:"deep-orange",class:"full-width",label:"Formulario de Anulación","no-caps":"",dense:"",onClick:t=>n.openFormularioAnulacion(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),0==e.row.siatAnulado&&"NO"==e.row.cortesia?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:4,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Enviar Correo ",class:"full-width",color:"teal",onClick:t=>n.correo(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>["NO"==e.row.vip?((0,s.wg)(),(0,s.j4)(m,{key:0,color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])):((0,s.wg)(),(0,s.j4)(m,{key:1,color:"orange"},{default:(0,s.w5)((()=>[Jn])),_:1}))])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[Xn])),_:1}),(0,s.Wm)(_,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[0==e.row.devuelto?((0,s.wg)(),(0,s.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>n.boletoprint(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,s.Wm)(y,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[W]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",null,[(0,s._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,ed)]),(0,s._)("div",td,(0,f.zw)(i.lorem),1),(0,s.Wm)(D,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[5]||(t[5]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[ld])),_:1}),(0,s.Wm)(_,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[4]||(t[4]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(y,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[W]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.dialogFormAnulacion,"onUpdate:modelValue":t[11]||(t[11]=e=>i.dialogFormAnulacion=e),persistent:"","full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"form-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-xs"},{default:(0,s.w5)((()=>[od,(0,s.Wm)(x),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[W]])])),_:1}),(0,s.Wm)(A),(0,s.Wm)(_,{class:"q-pt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.enviarFormularioAnulacion,["prevent"])},{default:(0,s.w5)((()=>[ad,(0,s._)("div",id,[(0,s._)("div",sd,[nd,(0,s._)("div",dd,[(0,s._)("div",rd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorCajero,"onUpdate:modelValue":t[6]||(t[6]=e=>i.formAnu.motivos.errorCajero=e),label:"Error de cajero"},null,8,["modelValue"])]),(0,s._)("div",cd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorCliente,"onUpdate:modelValue":t[7]||(t[7]=e=>i.formAnu.motivos.errorCliente=e),label:"Error de cliente"},null,8,["modelValue"])]),(0,s._)("div",ud,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorSistema,"onUpdate:modelValue":t[8]||(t[8]=e=>i.formAnu.motivos.errorSistema=e),label:"Error de Sistema"},null,8,["modelValue"])]),(0,s._)("div",md,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.ventaDuplicada,"onUpdate:modelValue":t[9]||(t[9]=e=>i.formAnu.motivos.ventaDuplicada=e),label:"Venta Duplicada"},null,8,["modelValue"])])])])]),(0,s._)("div",pd,[(0,s._)("div",hd,[gd,(0,s.Wm)(d,{dense:"",outlined:"",type:"textarea",autogrow:"",rows:3,modelValue:i.formAnu.detalle,"onUpdate:modelValue":t[10]||(t[10]=e=>i.formAnu.detalle=e),placeholder:"Se ingresó la venta de 6 butacas, pero al momento de imprimir solo salieron 2..."},null,8,["modelValue"])])]),(0,s._)("div",fd,[(0,s.Wm)(r,{type:"submit",color:"deep-orange",icon:"assignment_turned_in",label:"Enviar solicitud de anulación",loading:i.loading,"no-caps":"",dense:""},null,8,["loading"]),(0,s.wy)((0,s.Wm)(r,{flat:"",color:"primary",label:"Cancelar",class:"q-ml-sm",dense:""},null,512),[[W]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var vd=l(34410);const wd=l(58746),_d=l(32316),yd={name:"LisaVenta",data(){return{store:(0,he.c)(),filter:"",lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaBoleteria:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:e=>"N"+e.numeroFactura,sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0},{name:"cuf",label:"cuf",field:"cuf",sortable:!0},{name:"credito",label:"Tcredito",field:"credito",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},formAnu:{sale_id:null,fecha:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),codigo:"",monto:null,cajero:"",seccion:"Boletería",motivos:{errorCajero:!1,errorCliente:!1,errorSistema:!1,ventaDuplicada:!1},detalle:"",autorizadoPor:"",modificadoPor:""},dialogFormAnulacion:!1}},mounted(){this.listaVentaBoleteriaGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{enviarFormularioAnulacion(){const e=[];this.formAnu.motivos.errorCajero&&e.push("Error de cajero"),this.formAnu.motivos.errorCliente&&e.push("Error de cliente"),this.formAnu.motivos.errorSistema&&e.push("Error de Sistema"),this.formAnu.motivos.ventaDuplicada&&e.push("Venta Duplicada");const t=e.join(", ")||null,l={seccion:"BOLETERIA",motivo:t,detalle:this.formAnu.detalle,sale_id:this.formAnu.sale_id};this.loading=!0,this.$api.post("anulaciones",l).then((()=>{this.$q.notify({message:"Solicitud de anulación enviada (Pendiente)",color:"deep-orange",icon:"assignment_turned_in"}),this.dialogFormAnulacion=!1})).finally((()=>{this.loading=!1}))},openFormularioAnulacion(e){this.formAnu.sale_id=e.id,this.formAnu.fecha=e.fechaEmision?e.fechaEmision.substring(0,10):ge.ZP.formatDate(new Date,"YYYY-MM-DD"),this.formAnu.codigo=e.numeroFactura?`N${e.numeroFactura}`:String(e.id),this.formAnu.monto=Number(e.montoTotal||0).toFixed(2),this.formAnu.cajero=e.user&&e.user.name?e.user.name:"",this.formAnu.seccion="Boletería",this.formAnu.motivos={errorCajero:!1,errorCliente:!1,errorSistema:!1,ventaDuplicada:!1},this.formAnu.detalle="",this.dialogFormAnulacion=!0},exportar(){let e=[{sheet:"Boleteria",columns:[{label:"id",value:"id"},{label:"numeroFactura",value:e=>e.numeroFactura},{label:"siatEnviado",value:"siatEnviado"},{label:"fechaEmision",value:"fechaEmision"},{label:"client_id",value:e=>e.client.nombreRazonSocial},{label:"user_id",value:e=>e.user.name},{label:"montoTotal",value:"montoTotal"},{label:"siatAnulado",value:"siatAnulado"},{label:"cuf",value:"cuf"}],content:this.listaVentaBoleteria}],t={fileName:"VentaBoleteria"+ge.ZP.formatDate(new Date,"YYYY-MM-DD"),writeOptions:{}};(0,vd.ZP)(e,t)},correo(e){console.log(e),this.$api.post("enviarCorreo",{client:e.client,sale:e}).then((e=>{e.data&&this.$q.notify({color:"green",textColor:"white",message:"enviado al correo"})}))},enviarAnular(){this.$q.loading.show(),this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data),this.dialogAnular=!1,this.listaVentaBoleteriaGet(),this.$q.loading.hide()}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div style='padding-right: 0.5cm;padding-left: 0.5cm'>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",t+="</div >",t+="<hr><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 10px;'>"+e.fechaFuncion+" "+e.horaFuncion.substring(11)+"</span> </div>",t+="<div class='titpelicula' style='font-size:10px'>"+e.titulo+"<br> "+e.nombreSala+" "+e.letra+" - "+e.columna+"</div><div>_</div><br>",document.getElementById("myelement").innerHTML=t;const l=new Ai.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=wd.conversorNumerosALetras,l=new t,o=" en ";e.siatEnviado||(o=" fuera de ");let a=l.convertToText(parseInt(e.montoTotal));this.qrImage=await _d.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let i="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{i+="<div style='font-size: 12px'><b>"+e.programa_id+" - "+e.descripcion+"</b></div>",i+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),i+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+a+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación"+o+"línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=i;const s=new Ai.gR;s.print(document.getElementById("myelement"))},listaVentaBoleteriaGet(){this.loading=!0,this.$api.post("listaVentaBoleteria",{fechaIni:this.fechaIni,fechaFin:this.fechaFin,todo:this.store.booltodoventa}).then((e=>{this.loading=!1,this.listaVentaBoleteria=e.data}))}}},Cd=(0,r.Z)(yd,[["render",bd]]),Dd=Cd;A()(yd,"components",{QPage:D.Z,QForm:Se.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QIcon:we.Z,QTd:_e.Z,QBadge:fl.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QCardActions:$o.Z,QSelect:qe.Z,QSpace:Me.Z,QSeparator:Li.Z,QCheckbox:Yo.Z}),A()(yd,"directives",{ClosePopup:Oe.Z});const Vd={class:"row"},xd=(0,s._)("div",{class:"col-12"},[(0,s._)("div",{class:"bg-primary text-white text-bold text-center text-h4"},"CANDY BAR")],-1),Ad={class:"col-12"},Id={class:"row"},Td={class:"col-4 q-pa-xs"},Wd={class:"col-4 q-pa-xs"},Ed={class:"col-4 q-pa-xs flex flex-center"},Md={class:"col-12"},Sd=(0,s._)("div",{class:"text-h6"},"Boletos",-1),qd=["src"],Ld={id:"myelement",class:"hidden"},jd=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1),Od=(0,s._)("div",{class:"text-h6"},"FORMULARIO DE ANULACIÓN",-1),Nd={class:"row q-col-gutter-sm q-mt-sm"},Ud={class:"col-12"},kd=(0,s._)("div",{class:"line-label"},"MOTIVO:",-1),Fd={class:"row q-col-gutter-sm"},Zd={class:"col-auto"},Rd={class:"col-auto"},zd={class:"col-auto"},Qd={class:"col-auto"},Pd={class:"row q-mt-sm"},Yd={class:"col-12"},$d=(0,s._)("div",{class:"line-label"},"DETALLE:",-1),Bd={class:"q-mt-md"};function Hd(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),u=(0,s.up)("q-icon"),m=(0,s.up)("q-badge"),p=(0,s.up)("q-td"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),v=(0,s.up)("q-btn-dropdown"),w=(0,s.up)("q-table"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-card-actions"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),V=(0,s.up)("q-select"),x=(0,s.up)("q-space"),A=(0,s.up)("q-separator"),I=(0,s.up)("q-checkbox"),T=(0,s.up)("q-page"),W=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(T,null,{default:(0,s.w5)((()=>[(0,s._)("div",Vd,[xd,(0,s._)("div",Ad,[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.listaVentaCandyGet,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Id,[(0,s._)("div",Td,[(0,s.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,s._)("div",Wd,[(0,s.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",Ed,[(0,s.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,s._)("div",Md,[(0,s.Wm)(w,{rows:i.listaVentaCandy,columns:i.listaColums,filter:i.filter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(r,{color:"green",label:"Export EXCEL",onClick:n.exportar},null,8,["onClick"]),(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>i.filter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-siatAnulado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado&&i.store.boolimpfactura?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Comanda","no-caps":"",onClick:t=>n.printComanda(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[W]]),0==e.row.siatAnulado&&i.store.boolsolicitud?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:2,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"assignment",color:"deep-orange",class:"full-width",label:"Formulario de Anulación","no-caps":"",dense:"",onClick:t=>n.openFormularioAnulacion(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{key:3,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Enviar Correo ",class:"full-width",color:"teal",onClick:t=>n.correo(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[W]]):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[Sd])),_:1}),(0,s.Wm)(_,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(p,{props:e},{default:(0,s.w5)((()=>[0==e.row.devuelto?((0,s.wg)(),(0,s.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>n.boletoprint(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,s.Wm)(y,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[W]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",null,[(0,s._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,qd)]),(0,s._)("div",Ld,(0,f.zw)(i.lorem),1),(0,s.Wm)(D,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[5]||(t[5]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[jd])),_:1}),(0,s.Wm)(_,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[4]||(t[4]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(y,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[W]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.dialogFormAnulacion,"onUpdate:modelValue":t[11]||(t[11]=e=>i.dialogFormAnulacion=e),persistent:"","full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"form-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-xs"},{default:(0,s.w5)((()=>[Od,(0,s.Wm)(x),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[W]])])),_:1}),(0,s.Wm)(A),(0,s.Wm)(_,{class:"q-pt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.enviarFormularioAnulacion,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Nd,[(0,s._)("div",Ud,[kd,(0,s._)("div",Fd,[(0,s._)("div",Zd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorCajero,"onUpdate:modelValue":t[6]||(t[6]=e=>i.formAnu.motivos.errorCajero=e),label:"Error de cajero"},null,8,["modelValue"])]),(0,s._)("div",Rd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorCliente,"onUpdate:modelValue":t[7]||(t[7]=e=>i.formAnu.motivos.errorCliente=e),label:"Error de cliente"},null,8,["modelValue"])]),(0,s._)("div",zd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.errorSistema,"onUpdate:modelValue":t[8]||(t[8]=e=>i.formAnu.motivos.errorSistema=e),label:"Error de Sistema"},null,8,["modelValue"])]),(0,s._)("div",Qd,[(0,s.Wm)(I,{dense:"",modelValue:i.formAnu.motivos.ventaDuplicada,"onUpdate:modelValue":t[9]||(t[9]=e=>i.formAnu.motivos.ventaDuplicada=e),label:"Venta Duplicada"},null,8,["modelValue"])])])])]),(0,s._)("div",Pd,[(0,s._)("div",Yd,[$d,(0,s.Wm)(d,{dense:"",outlined:"",type:"textarea",autogrow:"",rows:3,modelValue:i.formAnu.detalle,"onUpdate:modelValue":t[10]||(t[10]=e=>i.formAnu.detalle=e),placeholder:"Se ingresó la venta de 6 butacas, pero al momento de imprimir solo salieron 2..."},null,8,["modelValue"])])]),(0,s._)("div",Bd,[(0,s.Wm)(r,{type:"submit",color:"deep-orange",icon:"assignment_turned_in",label:"Enviar solicitud de anulación",loading:i.loading,"no-caps":"",dense:""},null,8,["loading"]),(0,s.wy)((0,s.Wm)(r,{flat:"",color:"primary",label:"Cancelar",class:"q-ml-sm",dense:""},null,512),[[W]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Gd=l(58746),Kd=l(32316),Jd={name:"LisaVenta",data(){return{store:(0,he.c)(),dialogFormAnulacion:!1,filter:"",lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaCandy:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:e=>"N"+e.numeroFactura,sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0},{name:"cuf",label:"cuf",field:"cuf",sortable:!0},{name:"credito",label:"Tcredito",field:"credito",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}},formAnu:{sale_id:null,fecha:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),codigo:"",monto:null,cajero:"",seccion:"Boletería",motivos:{errorCajero:!1,errorCliente:!1,errorSistema:!1,ventaDuplicada:!1},detalle:"",autorizadoPor:"",modificadoPor:""}}},mounted(){this.listaVentaCandyGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{enviarFormularioAnulacion(){const e=[];this.formAnu.motivos.errorCajero&&e.push("Error de cajero"),this.formAnu.motivos.errorCliente&&e.push("Error de cliente"),this.formAnu.motivos.errorSistema&&e.push("Error de Sistema"),this.formAnu.motivos.ventaDuplicada&&e.push("Venta Duplicada");const t=e.join(", ")||null,l={seccion:"CANDY BAR",motivo:t,detalle:this.formAnu.detalle,sale_id:this.formAnu.sale_id};this.loading=!0,this.$api.post("anulaciones",l).then((()=>{this.$q.notify({message:"Solicitud de anulación enviada (Pendiente)",color:"deep-orange",icon:"assignment_turned_in"}),this.dialogFormAnulacion=!1})).finally((()=>{this.loading=!1}))},openFormularioAnulacion(e){this.formAnu.sale_id=e.id,this.formAnu.fecha=e.fechaEmision?e.fechaEmision.substring(0,10):ge.ZP.formatDate(new Date,"YYYY-MM-DD"),this.formAnu.codigo=e.numeroFactura?`N${e.numeroFactura}`:String(e.id),this.formAnu.monto=Number(e.montoTotal||0).toFixed(2),this.formAnu.cajero=e.user&&e.user.name?e.user.name:"",this.formAnu.seccion="Candy Bar",this.formAnu.motivos={errorCajero:!1,errorCliente:!1,errorSistema:!1,ventaDuplicada:!1},this.formAnu.detalle="",this.dialogFormAnulacion=!0},exportar(){let e=[{sheet:"Candy",columns:[{label:"id",value:"id"},{label:"numeroFactura",value:e=>e.numeroFactura},{label:"siatEnviado",value:"siatEnviado"},{label:"fechaEmision",value:"fechaEmision"},{label:"client_id",value:e=>e.client.nombreRazonSocial},{label:"user_id",value:e=>e.user.name},{label:"montoTotal",value:"montoTotal"},{label:"siatAnulado",value:"siatAnulado"},{label:"cuf",value:"cuf"}],content:this.listaVentaCandy}],t={fileName:"VentaCandy"+ge.ZP.formatDate(new Date,"YYYY-MM-DD"),writeOptions:{}};(0,vd.ZP)(e,t)},correo(e){console.log(e),this.$api.post("enviarCorreo",{client:e.client,sale:e}).then((e=>{e.data&&this.$q.notify({color:"green",textColor:"white",message:"enviado al correo"})}))},async printComanda(e){this.facturadetalle=e;let t=Gd.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},enviarAnular(){this.$q.loading.show(),this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{this.$q.loading.hide(),this.listaVentaCandyGet(),this.dialogAnular=!1}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div style='padding-right: 0.5cm;padding-left: 0.5cm'>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",t+="</div >",document.getElementById("myelement").innerHTML=t;const l=new Ai.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=Gd.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Kd.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},listaVentaCandyGet(){this.loading=!0,this.$api.post("listaVentaCandy",{fechaIni:this.fechaIni,fechaFin:this.fechaFin,todo:this.store.booltodoventa}).then((e=>{this.loading=!1,this.listaVentaCandy=e.data}))}}},Xd=(0,r.Z)(Jd,[["render",Hd]]),er=Xd;A()(Jd,"components",{QPage:D.Z,QForm:Se.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QIcon:we.Z,QTd:_e.Z,QBadge:fl.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QCardActions:$o.Z,QSelect:qe.Z,QSpace:Me.Z,QSeparator:Li.Z,QCheckbox:Yo.Z}),A()(Jd,"directives",{ClosePopup:Oe.Z});const tr={class:"row"},lr={class:"col-12"},or=(0,s._)("div",{class:"text-h6"}," Datos que se enviaran a impuestos ",-1),ar={class:"row"},ir={class:"col-12"},sr={class:"col-12"},nr=(0,s._)("div",{class:"text-h6"}," RECEPCION DE PAQUETE ",-1);function dr(e,t,l,o,a,i){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-btn-group"),r=(0,s.up)("q-td"),c=(0,s.up)("q-table"),u=(0,s.up)("q-space"),m=(0,s.up)("q-card-section"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog"),g=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",tr,[(0,s._)("div",lr,[(0,s.Wm)(c,{dense:"",title:"Control de eventos",rows:a.eventoSignificativos,columns:a.eventoSignificativoColumns,"rows-per-page-options":[0,10]},{"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(r,{props:e,style:{width:"150px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{"no-caps":"",onClick:t=>i.recepcionPaqueteFacturaClick(e.row),label:"Enviar a impuestos",color:"primary",icon:"send",size:"10px"},null,8,["onClick"]),null!=e.row.codigoRecepcion?((0,s.wg)(),(0,s.j4)(n,{key:0,"no-caps":"",onClick:t=>i.validarPaquete(e.row),label:"Validar",color:"yellow-9",icon:"send",size:"10px"},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(h,{modelValue:a.eventoSignificativoDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>a.eventoSignificativoDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"row items-center"},{default:(0,s.w5)((()=>[or,(0,s.Wm)(u),(0,s.Wm)(n,{onClick:t[0]||(t[0]=e=>a.eventoSignificativoDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s._)("div",ar,[(0,s._)("div",ir,[(0,s.Wm)(c,{rows:a.eventoSignificativosDatos,columns:a.eventoDetalle},null,8,["rows","columns"])])]),(0,s._)("div",sr,[(0,s.Wm)(n,{onClick:i.recepcionPaqueteFactura,disable:0==a.eventoSignificativosDatos.length,label:"Enviar",color:"primary",icon:"send",class:"full-width",loading:a.loading},null,8,["onClick","disable","loading"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(h,{modelValue:a.recepcionPaqueteFacturaDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>a.recepcionPaqueteFacturaDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"row text-center"},{default:(0,s.w5)((()=>[nr,(0,s.Wm)(u),(0,s.Wm)(n,{onClick:t[2]||(t[2]=e=>a.recepcionPaqueteFacturaDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s._)("pre",null,(0,f.zw)(a.validarPaqueteRespuesta),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const rr={name:"EventoSignificativo",data(){return{store:(0,he.c)(),loading:!1,eventoSignificativoDialog:!1,eventoSignificativos:[],eventoSignificativo:{},eventoSignificativosDatos:[],eventoSignificativoColumns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"codigoRecepcionEventoSignificativo",name:"codigoRecepcionEventoSignificativo",field:"codigoRecepcionEventoSignificativo"},{label:"codigoRecepcion",name:"codigoRecepcion",field:"codigoRecepcion"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"fechaHoraInicioEvento",name:"fechaHoraInicioEvento",field:"fechaHoraInicioEvento"},{label:"fechaHoraFinEvento",name:"fechaHoraFinEvento",field:"fechaHoraFinEvento"},{label:"codigoMotivoEvento",name:"codigoMotivoEvento",field:"codigoMotivoEvento"},{label:"descripcion",name:"descripcion",field:"descripcion"}],validarPaqueteRespuesta:"",recepcionPaqueteFacturaDialog:!1,eventoDetalle:[{label:"numeroFactura",name:"numeroFactura",field:"numeroFactura"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"codigoPuntoVenta",name:"codigoPuntoVenta",field:"codigoPuntoVenta"},{label:"fechaEmision",name:"fechaEmision",field:"fechaEmision"},{label:"montoTotal",name:"montoTotal",field:"montoTotal"},{label:"usuario",name:"usuario",field:"usuario"}]}},created(){this.eventoSignificativoGet()},methods:{validarPaquete(e){this.validarPaqueteRespuesta="",this.recepcionPaqueteFacturaDialog=!0,this.$api.post("validarPaquete",{codigoRecepcion:e.codigoRecepcion}).then((e=>{this.validarPaqueteRespuesta=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},recepcionPaqueteFactura(){this.eventoSignificativo.datos=this.eventoSignificativosDatos,this.loading=!0,this.$api.post("recepcionPaqueteFactura",this.eventoSignificativo).then((e=>{console.log(e.data),this.eventSearch(),this.eventoSignificativoGet(),this.eventoSignificativoDialog=!1,this.loading=!1})).catch((e=>{this.$q.notify({color:"red-6",textColor:"white",icon:"error",message:e.response.data.message}),this.loading=!1}))},recepcionPaqueteFacturaClick(e){this.eventoSignificativo=e,this.$api.post("cantidadFacturas",{fechaInicio:e.fechaHoraInicioEvento,fechaFin:e.fechaHoraFinEvento}).then((e=>{this.eventoSignificativosDatos=e.data,this.eventoSignificativoDialog=!0}))},eventoSignificativoGet(){this.loading=!0,this.$api.get("eventoSignificativo").then((e=>{this.loading=!1,this.eventoSignificativos=e.data})).catch((e=>{this.loading=!1,this.error=e}))}}};var cr=l(67236);const ur=(0,r.Z)(rr,[["render",dr]]),mr=ur;A()(rr,"components",{QPage:D.Z,QTable:be.Z,QTd:_e.Z,QBtnGroup:cr.Z,QBtn:V.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z});const pr={class:"row"},hr={class:"col-12"},gr={class:"row"},fr={class:"col-3"},br={class:"col-3"},vr={class:"col-3 flex flex-center"},wr={class:"col-3 flex flex-center"},_r={class:"col-12"},yr=(0,s._)("div",{class:"text-h6"},"Realizar venta",-1),Cr={class:"row"},Dr={class:"col-2"},Vr={class:"col-2"},xr={class:"col-3"},Ar={class:"col-3"},Ir={class:"col-2"},Tr={class:"row"},Wr={class:"col-3"},Er={class:"col-3"},Mr={class:"col-3"},Sr={class:"col-3"},qr={class:"row"},Lr={class:"col-6"},jr={class:"col-6"},Or=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1),Nr=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Ur(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-list"),p=(0,s.up)("q-btn-dropdown"),h=(0,s.up)("q-td"),g=(0,s.up)("q-badge"),f=(0,s.up)("q-table"),b=(0,s.up)("q-space"),v=(0,s.up)("q-card-section"),w=(0,s.up)("q-select"),_=(0,s.up)("q-separator"),y=(0,s.up)("q-form"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),V=(0,s.up)("q-card-actions"),x=(0,s.up)("q-page"),A=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",pr,[(0,s._)("div",hr,[(0,s._)("div",gr,[(0,s._)("div",fr,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,s._)("div",br,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",vr,[(0,s.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:n.rentalConsulta},null,8,["loading","onClick"])]),(0,s._)("div",wr,[(0,s.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:n.rentalClickCreate},null,8,["onClick"])])])]),(0,s._)("div",_r,[(0,s.Wm)(f,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.rentals,columns:i.columns,"rows-per-page-options":[0],dense:""},{"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(h,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:"primary",label:"Opciones",dense:"","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[A]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>n.anularSale(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[A]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[A]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,s.w5)((e=>[(0,s.Wm)(h,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:1==e.row.siatEnviado?"green":"red",label:1==e.row.siatEnviado?"SI":"NO"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-siatAnulado":(0,s.w5)((e=>[(0,s.Wm)(h,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:1==e.row.siatAnulado?"green":"red",label:1==e.row.siatAnulado?"SI":"NO"},null,8,["color","label"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,s.Wm)(D,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.saleDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[yr,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.rentalInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",Cr,[(0,s._)("div",Dr,[(0,s.Wm)(d,{outlined:"",label:"NIT/CARNET",onKeyup:n.searchClient,required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[2]||(t[2]=e=>i.client.numeroDocumento=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",Vr,[(0,s.Wm)(d,{outlined:"",label:"Complemento",onKeyup:n.searchClient,modelValue:i.client.complemento,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.complemento=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",xr,[(0,s.Wm)(d,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[4]||(t[4]=e=>i.client.nombreRazonSocial=e)},null,8,["modelValue"])]),(0,s._)("div",Ar,[(0,s.Wm)(w,{modelValue:i.document,"onUpdate:modelValue":t[5]||(t[5]=e=>i.document=e),outlined:"",options:i.documents},null,8,["modelValue","options"])]),(0,s._)("div",Ir,[(0,s.Wm)(d,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[6]||(t[6]=e=>i.client.email=e),type:"email"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(_),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",Tr,[(0,s._)("div",Wr,[(0,s.Wm)(d,{outlined:"",label:"TOTAL A PAGAR:",modelValue:i.rental.montoTotal,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rental.montoTotal=e),step:"0.01",type:"number",required:""},null,8,["modelValue"])]),(0,s._)("div",Er,[(0,s.Wm)(w,{outlined:"",label:"Mes:",modelValue:i.rental.mes,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rental.mes=e),options:i.meses},null,8,["modelValue","options"])]),(0,s._)("div",Mr,[(0,s.Wm)(w,{outlined:"",label:"Periodo:",modelValue:i.rental.gestion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rental.gestion=e),options:i.gestiones},null,8,["modelValue","options"])]),(0,s._)("div",Sr,[(0,s.Wm)(d,{outlined:"",label:"Descripcion:",modelValue:i.rental.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rental.descripcion=e),required:""},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(_),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",qr,[(0,s._)("div",Lr,[(0,s.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,s._)("div",jr,[(0,s.Wm)(r,{class:"full-width",icon:"undo",onClick:t[11]||(t[11]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[14]||(t[14]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[Or])),_:1}),(0,s.Wm)(v,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(V,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[A]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),Nr])),_:1})}const kr={name:"Rental",data(){return{dialogAnular:!1,loading:!1,fechaInicio:Qo()().add(-1,"month").startOf("month").format("YYYY-MM-DD"),fechaFin:Qo()().endOf("month").format("YYYY-MM-DD"),rentals:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(ge.ZP.formatDate(new Date,"YYYY"))-2,parseInt(ge.ZP.formatDate(new Date,"YYYY"))-1,parseInt(ge.ZP.formatDate(new Date,"YYYY")),parseInt(ge.ZP.formatDate(new Date,"YYYY"))+1,parseInt(ge.ZP.formatDate(new Date,"YYYY"))+2],rental:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:ge.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,qrImage:"",cine:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"id",name:"id",field:"id",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"numeroDocumento",name:"numeroDocumento",field:e=>e.client.numeroDocumento,sortable:!0},{label:"client_id",name:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{label:"cuf",name:"cuf",field:"cuf",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Periodo Facturado",name:"periodoFacturado",field:"periodoFacturado",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"}],motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.encabezado(),this.rental.mes=this.meses[parseInt(ge.ZP.formatDate(new Date,"M")-1)],this.$api.get("datocine").then((e=>{this.cine=e.data})),this.rentalConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.cargarMotivo()},methods:{anularSale(e){this.factura=e,this.dialogAnular=!0},enviarAnular(){this.loading=!0,this.$api.post("anularRental",{rental:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data),this.rentalConsulta(),this.dialogAnular=!1,this.loading=!1}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},rentalInsert(){this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("rental",{client:this.client,montoTotal:this.rental.montoTotal,descripcion:this.rental.descripcion,periodoFacturado:this.rental.mes+" "+this.rental.gestion}).then((e=>{console.log(e.data),this.saleDialog=!1,1==e.data.rental.siatEnviado&&this.printFactura(e.data.rental),this.rentalConsulta(),this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){console.log(e),this.facturadetalle=e;let t=Ti().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Wi.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 8px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 12px;      text-align: left;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%    border-collapse: collapse;  }  .tabenc>tr>td{  font-size: 12px;border: 1px solid;  font-weight: bold;  text-align: center;  border-collapse: collapse;  }    .tabcont>tr>td{  font-size: 10px;border: 1px solid;  text-align: center;  border-collapse: collapse;  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr><td style='width: 50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,33)+"<br>"+this.cine.direccion.substring(33)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>        </td><td style='vertical-align:top; text-align: right;width: 50%;'>        <div class='titulo' style='text-align: right'>NIT</div>        <div class='titulo' style='text-align: right'>FACTURA N°</div>        <div class='titulo' style='text-align: right'>CÓD. AUTORIZACIÓN</div>        </td><td style='vertical-align:top; '>        <div class='titulo2' style='text-align: left;'>"+this.cine.nit+"</div>        <div class='titulo2' style='text-align: left;'>"+e.numeroFactura+"</div>        <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div>      <td></tr>    </table>      <div class='titulo'><span style='font-size: 12px'>FACTURA DE ALQUILER</span><br>(Con Derecho a Crédito Fiscal) </div>      <table >        <tr><td class='titizq'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td><td style='width: 20%'></td></tc><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titizq'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td><td style='width: 20%'></td><td class='titder'>Cod. Cliente:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titizq'></td><td class='contenido'></td><td style='width: 20%'></td><td class='titder'>Periodo Facturado:</td><td class='contenido'>"+e.periodoFacturado+"</td></tr>      </table><br>      <table style='width: 100%;border-collapse: collapse;'>      <thead class='tabenc'>      <tr><td>CÓDIGO SERVICIO</td><td>CANTIDAD</td><td>UNIDAD DE MEDIDA</td><td>DESCRIPCIÓN</td><td>PRECIO UNITARIO</td><td>DESCUENTO</td><td>SUBTOTAL</td></tr>      </thead>      <tbody class='tabcont'>      <tr><td>"+e.codigoProducto+"</td><td>"+e.cantidad+"</td><td>"+e.medida+"</td><td>"+e.descripcion+"</td><td>"+e.precioUnitario+"</td><td>"+e.montoDescuento+"</td><td>"+e.subTotal+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' style='font-size: 8px' colspan='2'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </tbody></table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <table><tr><td>      <div class='titulo2 col-10' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY<br><br>"+e.leyenda+" <br>“Este documento es la Representación Gráfica de un Documento Fiscal Digital emitido en una modalidad de facturación en línea”</div></td><td><div style='display: flex;justify-content: center;' class='col-2'>  <img src="+this.qrImage+" >      </div></td></tr>              </table>";document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},rentalClickCreate(){this.rental.montoTotal="",this.rental.descripcion="",this.saleDialog=!0,this.client={complemento:""}},rentalConsulta(){this.loading=!0,this.$api.post("rentalConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.rentals=e.data}))}}},Fr=(0,r.Z)(kr,[["render",Ur]]),Zr=Fr;A()(kr,"components",{QPage:D.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QBadge:fl.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z,QSeparator:Li.Z,QCardActions:$o.Z}),A()(kr,"directives",{ClosePopup:Oe.Z});const Rr={class:"row"},zr={class:"col-12"},Qr={class:"row"},Pr={class:"col-3"},Yr={class:"col-3"},$r={class:"col-3 flex flex-center"},Br={class:"col-3 flex flex-center"},Hr={class:"col-12"},Gr=(0,s._)("div",{class:"text-h6"},"Realizar venta",-1),Kr={class:"row"},Jr={class:"col-3"},Xr={class:"col-3"},ec={class:"row"},tc={class:"col-6"},lc={class:"col-6"},oc=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function ac(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-list"),p=(0,s.up)("q-btn-dropdown"),h=(0,s.up)("q-td"),g=(0,s.up)("q-table"),f=(0,s.up)("q-space"),b=(0,s.up)("q-card-section"),v=(0,s.up)("q-select"),w=(0,s.up)("q-separator"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-page"),V=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",Rr,[(0,s._)("div",zr,[(0,s._)("div",Qr,[(0,s._)("div",Pr,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,s._)("div",Yr,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",$r,[(0,s.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:n.prevaloradaConsulta},null,8,["loading","onClick"])]),(0,s._)("div",Br,[(0,s.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:n.prevaloradaClickCreate},null,8,["onClick"])])])]),(0,s._)("div",Hr,[(0,s.Wm)(g,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.prevaloradas,columns:i.columns},{"body-cell-Opciones":(0,s.w5)((t=>[(0,s.Wm)(h,{props:t,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==t.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:e=>n.printFactura(t.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[V]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"print",color:"primary",class:"full-width",label:"blue","no-caps":"",onClick:n.printButton},null,8,["onClick"])])),_:1})])),_:1})),[[V]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==t.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:l=>e.anularSale(t.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[V]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${t.row.cuf}&numero=${t.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[V]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,s.Wm)(C,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>i.saleDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Gr,(0,s.Wm)(f),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])])),_:1}),(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.prevaloradaInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",Kr,[(0,s._)("div",Jr,[(0,s.Wm)(v,{outlined:"",modelValue:i.vehiculo,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vehiculo=e),options:i.vehiculos,label:"Tipo"},null,8,["modelValue","options"])]),(0,s._)("div",Xr,[(0,s.Wm)(d,{outlined:"",modelValue:i.cantidad,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cantidad=e),label:"Cantidad",type:"number"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(w),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",ec,[(0,s._)("div",tc,[(0,s.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,s._)("div",lc,[(0,s.Wm)(r,{class:"full-width",icon:"undo",onClick:t[4]||(t[4]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),oc])])),_:1})}const ic={name:"Prevalorada",data(){return{loading:!1,fechaInicio:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),prevaloradas:[],cantidad:0,vehiculos:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(ge.ZP.formatDate(new Date,"YYYY"))-2,parseInt(ge.ZP.formatDate(new Date,"YYYY"))-1,parseInt(ge.ZP.formatDate(new Date,"YYYY")),parseInt(ge.ZP.formatDate(new Date,"YYYY"))+1,parseInt(ge.ZP.formatDate(new Date,"YYYY"))+2],prevalorada:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:ge.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,vehiculo:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"id",name:"id",field:"id",sortable:!0}],cine:{},leyendas:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:60,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.$api.get("datocine").then((e=>{this.cine=e.data})),this.$api.get("vehiculo").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.vehiculos=e.data,this.vehiculo=this.vehiculos[0]})),this.prevaloradaConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{prevaloradaInsert(){if(this.cantidad<=0||void 0==this.cantidad||""==this.cantidad)return!1;this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.$api.post("prevalorada",{client:this.client,vehiculo:this.vehiculo,cantidad:this.cantidad}).then((e=>{console.log(e.data),e.data.forEach((e=>{this.printFactura(e)})),this.prevaloradaConsulta(),this.cantidad=1,this.saleDialog=!1,this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=Ti().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Wi.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 7px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 6px;      text-align: right;      }      .titder{      font-size: 6px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 14px;      text-align: left;      font-weight: bold;    }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr>    <td style='width:50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div></td>    <td style='width: 50%'>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div> </td>    </tr>    </table>    <div class='titder'>OTRAS ACTIVIDADES DE TRANSPORTE COMPLEMENTARIA <br>(TERMINAL DE BUSES, PLAYAS DE ESTACIONAMIENTO, ETC)</div>";a+="<table>      <tr><td class='titizq'>FACTURA</td><td style='text-align: right'><span style='font-size: 12px'>Bs. "+parseFloat(e.montoTotal).toFixed(2)+"</span><br><span style='font-size: 6px'>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</span></td></tr>      </table>            <div style='font-size: 10px; text-align: center'>Oruro, "+e.fechaEmision.substring(0,10)+"</div><br>      <div style='font-size: 6px'>'ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY'<br>      "+e.leyenda+"       </div><br>     </div>       <img src="+this.qrImage+" >      ",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},prevaloradaClickCreate(){this.prevalorada.montoTotal="",this.prevalorada.descripcion="",this.cantidad=1,this.saleDialog=!0,this.client={complemento:""}},printButton(){navigator.bluetooth.requestDevice({filters:[{name:"BlueTooth Printer",services:["000018f0-0000-1000-8000-00805f9b34fb"]}]},{optionalServices:["00002af1-0000-1000-8000-00805f9b34fb"]}).then((e=>(console.log("device",e),e.gatt.connected&&e.gatt.disconnect(),console.log("connect"),this.connect(e)))).catch(this.handleError)},connect(e){const t=this;return e.addEventListener("gattserverdisconnected",this.onDisconnected),e.gatt.connect().then((e=>e.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb"))).then((e=>e.getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"))).then((l=>{console.log("characteristic",l),t.printCharacteristic=l,t.sendTextData(e)})).catch((t=>{this.handleError(t,e)}))},handleError(e,t){console.error("handleError => error",e),null!=t&&t.gatt.disconnect();let l=JSON.stringify({code:e.code,message:e.message,name:e.name});console.log("handleError => erro",e),8!==l.code&&this.$q.notify("Could not connect with the printer. Try it again")},getBytes(e){console.log("text",e);let t="\n\r";e=void 0===e?t:e;let l=this.$languages.replace(e);console.log("replaced",l);let o=new TextEncoder("utf-8").encode(l+t);return console.log("bytes",o),o},addText(e){let t="cadena de prueba";if(e.push(t),this.isMobile)while(t.length>=20){let l=t.substring(20);e.push(l),t=l}},sendTextData(e){let t=[];this.addText(t),console.log("sendTextData => arrayText",t),this.loop(0,t,e)},loop(e,t,l){let o=this.getBytes(t[e]);this.write(l,o,(()=>{if(e++,e<t.length)this.loop(e,t,l);else{let e=this.getBytes();this.write(l,e,(()=>{l.gatt.disconnect()}))}}))},write(e,t,l){this.printCharacteristic.writeValue(t).then((()=>{console.log("Printed Array: "+t.length),setTimeout((()=>{l&&l()}),250)})).catch((t=>{this.handleError(t,e)}))},prevaloradaConsulta(){this.loading=!0,this.$api.post("prevaloradaConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.prevaloradas=e.data}))}}},sc=(0,r.Z)(ic,[["render",ac]]),nc=sc;A()(ic,"components",{QPage:D.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QSelect:qe.Z,QSeparator:Li.Z}),A()(ic,"directives",{ClosePopup:Oe.Z});const dc={class:"row"},rc={class:"col-3"},cc={class:"col-3"},uc={class:"col-3"},mc={key:0,class:"col-6"},pc=(0,s._)("div",{class:"text-h5"},"DATOS DE CLIENTE",-1);function hc(e,t,l,o,a,i){const n=(0,s.up)("q-input"),d=(0,s.up)("q-btn"),r=(0,s.up)("q-select"),c=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",dc,[(0,s._)("div",rc,[(0,s.Wm)(n,{modelValue:a.client.numeroDocumento,"onUpdate:modelValue":t[0]||(t[0]=e=>a.client.numeroDocumento=e),label:"NIT/CI/CEX",outlined:""},null,8,["modelValue"])]),(0,s._)("div",cc,[(0,s.Wm)(n,{modelValue:a.client.complemento,"onUpdate:modelValue":t[1]||(t[1]=e=>a.client.complemento=e),label:"COMPLEMENTO",outlined:""},null,8,["modelValue"])]),(0,s._)("div",uc,[(0,s.Wm)(d,{label:"Buscar Cliente",icon:"search",onClick:i.searchClient,color:"info"},null,8,["onClick"])]),void 0!=a.client.id?((0,s.wg)(),(0,s.iD)("div",mc,[pc,(0,s.Wm)(r,{modelValue:a.document,"onUpdate:modelValue":t[2]||(t[2]=e=>a.document=e),outlined:"",options:a.documents},null,8,["modelValue","options"]),(0,s.Wm)(n,{modelValue:a.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>a.client.nombreRazonSocial=e),label:"Nombre RazonSocial",outlined:""},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:a.client.email,"onUpdate:modelValue":t[4]||(t[4]=e=>a.client.email=e),label:"Email",type:"email",outlined:""},null,8,["modelValue"]),(0,s.Wm)(d,{label:"Modificar",icon:"edit",onClick:i.updateClient,color:"yellow"},null,8,["onClick"])])):(0,s.kq)("",!0)])])),_:1})}const gc={name:"Cliente",data(){return{client:{},document:{},documents:[]}},created(){this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{searchClient(){if(void 0==this.client.numeroDocumento)return!1;this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},updateClient(){if(void 0==this.client.id)return!1;this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.put("client/"+this.client.id,this.client).then((e=>{}))}}},fc=(0,r.Z)(gc,[["render",hc]]),bc=fc;A()(gc,"components",{QPage:D.Z,QInput:ve.Z,QBtn:V.Z,QSelect:qe.Z});const vc={class:"row"},wc={class:"col-2"},_c={class:"col-3"},yc={class:"col-3"},Cc={class:"col-2 flex flex-center"},Dc={class:"col-2 flex flex-center"},Vc={class:"col-12"},xc={class:"col-12"},Ac=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Ic(e,t,l,o,a,i){const n=(0,s.up)("q-select"),d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),u=(0,s.up)("q-table"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",vc,[(0,s._)("div",wc,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:a.user,"onUpdate:modelValue":t[0]||(t[0]=e=>a.user=e),options:a.users,label:"Usuario"},null,8,["modelValue","options"])]),(0,s._)("div",_c,[(0,s.Wm)(d,{dense:"",outlined:"",modelValue:a.ini,"onUpdate:modelValue":t[1]||(t[1]=e=>a.ini=e),label:"fecha ini",type:"date"},null,8,["modelValue"])]),(0,s._)("div",yc,[(0,s.Wm)(d,{dense:"",outlined:"",modelValue:a.fin,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fin=e),label:"fecha fin",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Cc,[(0,s.Wm)(r,{loading:a.loading,icon:"check",color:"green",label:"Consultar",onClick:i.consultar},null,8,["loading","onClick"])]),(0,s._)("div",Dc,[(0,s.Wm)(r,{loading:a.loading,icon:"print",color:"info",label:"Imprimir",onClick:i.impresion},null,8,["loading","onClick"])]),(0,s._)("div",Vc,[(0,s.Wm)(u,{dense:"",title:"Listado Venta Boleteria","rows-per-page-options":[20,50,100,0],rows:a.reporte,columns:a.columna,filter:a.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:a.productoFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>a.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"])]),(0,s._)("div",xc,[(0,s.Wm)(u,{title:"Ventas",rows:a.infouser,columns:a.columna2,"row-key":"name"},null,8,["rows","columns"])])]),Ac])),_:1})}const Tc={name:"CajaBoleteria",data(){return{ini:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),infouser:[],loading:!1,productoFilter:"",url:"http://10.200.100.19:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,reporte:[],user:{},users:[],store:(0,he.c)(),foto:"",tvip:0,tcredito:0,tbolR:0,tbolF:0,tbolRefectivo:0,tbolFefectivo:0,tcandyF:0,tcandyR:0,tefectivo:0,total:0,reportef:[],reporter:[],columna:[{label:"NOMBRE",field:"descripcion",name:"descripcion",sortable:!0},{label:"cantidad",field:"cantidad",name:"cantidad",sortable:!0},{label:"SUBTOTAL",field:"total",name:"subtotal",sortable:!0}],columna2:[{label:"USUARIO",field:"usuario",name:"usuario",sortable:!0},{label:"TOTAL",field:"total",name:"total",sortable:!0}],anulados:[]}},created(){this.listuser()},methods:{listuser(){this.users=[{id:0,label:"TODOS"}],this.$api.get("user").then((e=>{console.log(e.data),e.data.forEach((e=>{e.label=e.name,this.users.push(e)})),this.user=this.users[0]}))},consultar(){this.loading=!0,this.$api.post("cajaBol",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reporte=e.data,this.resumen(),this.datosuser(),this.datosfactura(),this.datosrecibo(),this.getAnulados()}))},getAnulados(){this.loading=!0,this.$api.post("reportGenAnulacion",{ini:this.ini,fin:this.fin,tipo:"BOLETERIA"}).then((e=>{console.log(e.data),this.anulados=e.data,this.loading=!1}))},datosuser(){this.loading=!0,this.$api.post("userbol",{ini:this.ini,fin:this.fin}).then((e=>{console.log(e.data),this.infouser=e.data}))},datosfactura(){this.loading=!0,this.$api.post("cajaBolF",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reportef=e.data}))},datosrecibo(){this.loading=!0,this.$api.post("cajaBolR",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reporter=e.data}))},resumen(){this.loading=!0,this.$api.post("resumenBol",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.tcredito=null==e.data[0].tarjeta?0:e.data[0].tarjeta,this.tvip=null==e.data[0].vip?0:e.data[0].vip,this.tefectivo=null==e.data[0].efectivo?0:e.data[0].efectivo,this.$api.post("resumenBolRF",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{this.tbolF=e.data[0].tarjetaF,this.tbolR=e.data[0].tarjetaR,this.tbolFefectivo=e.data[0].efectivoF,this.tbolRefectivo=e.data[0].efectivoR,this.loading=!1}))}))},impresion(){if(0==this.reporte.length)return!1;let e="<style>        .f-10{font-size:10px;}        .centro{text-align:center;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS DE BOLETERIA TOTAL</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reporte.forEach((t=>{e+="<tr><td class='f-10'>"+t.descripcion+"</td><td class='f-10'>"+t.cantidad+"</td><td class='f-10'>"+t.total+"</td></tr>"})),e+="</tbody>        </table>",0==this.user.id&&(e+="<table class='table'><tr><th class='f-10'>USUARIO</th><th class='f-10'>TOTAL</th></tr>",this.infouser.forEach((t=>{e+="<tr><td class='f-10'>"+t.usuario+"</td> <td class='f-10'>"+t.total+"</td></tr>"})),e+="</table>"),this.anulados.length>0&&(e+="<table class='table'>          <thead><tr><th class='f-10'>USUARIO</th><th class='f-10'>TOTAL ANULADOS</th><th class='f-10'>MONTO</th></tr></thead>          <tbody>",this.anulados.forEach((t=>{e+="<tr><td class='f-10 centro'>"+t.usuario+"</td><td class='f-10 centro'>"+t.total+"</td><td class='f-10 centro'>"+t.monto+"</td></tr>"})),e+="</tbody>          </table>"),e+="<div class='f-10' style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventatotal+" Bs</div>        <div class='f-10' style='text-align:right;'><span class='titulo3'>Total VIP: </span> "+this.tvip+" Bs</div>        <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Credito: </span> "+this.tcredito+" Bs</div>        <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tefectivo+" Bs</div>        ",document.getElementById("myelement").innerHTML=e;const t=new Ai.gR;t.print(document.getElementById("myelement"));let l="<style>        .f-10{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS DE BOLETERIA FACTURA</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reportef.forEach((e=>{l+="<tr><td class='f-10'>"+e.descripcion+"</td><td class='f-10'>"+e.cantidad+"</td><td class='f-10'>"+e.total+"</td></tr>"})),l+="</tbody>        </table>",null==this.tbolF&&(this.tbolF=0),null==this.tbolFefectivo&&(this.tbolFefectivo=0),l+="<div class='f-10' style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventafact+" Bs</div>                  <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tbolFefectivo+" Bs</div>                  <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Tarjeta: </span> "+this.tbolF+" Bs</div>        ",document.getElementById("myelement").innerHTML=l;const o=new Ai.gR;o.print(document.getElementById("myelement"));let a="<style>        .f-10{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS DE BOLETERIA RECIBO</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reporter.forEach((e=>{a+="<tr><td class='f-10'>"+e.descripcion+"</td><td class='f-10'>"+e.cantidad+"</td><td class='f-10'>"+e.total+"</td></tr>"})),a+="</tbody>        </table>",null==this.tbolR&&(this.tbolR=0),null==this.tbolRefectivo&&(this.tbolRefectivo=0),a+="<div class='f-10' style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventarecibo+" Bs</div>                <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tbolRefectivo+" Bs</div>                <div class='f-10' style='text-align:right;'><span class='titulo3'>Total Tarjeta: </span> "+this.tbolR+" Bs</div>        ",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))}},computed:{ventatotal(){let e=0;return this.reporte.forEach((t=>{e+=t.total})),e.toFixed(2)},ventarecibo(){let e=0;return this.reporter.forEach((t=>{e+=t.total})),e.toFixed(2)},ventafact(){let e=0;return this.reportef.forEach((t=>{e+=t.total})),e.toFixed(2)}}},Wc=(0,r.Z)(Tc,[["render",Ic]]),Ec=Wc;A()(Tc,"components",{QPage:D.Z,QSelect:qe.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QIcon:we.Z});const Mc={class:"row"},Sc={class:"col-2"},qc={class:"col-3"},Lc={class:"col-3"},jc={class:"col-2 flex flex-center"},Oc={class:"col-2 flex flex-center"},Nc={class:"col-12"},Uc={class:"col-12"},kc=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Fc(e,t,l,o,a,i){const n=(0,s.up)("q-select"),d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),u=(0,s.up)("q-table"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",Mc,[(0,s._)("div",Sc,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:a.user,"onUpdate:modelValue":t[0]||(t[0]=e=>a.user=e),options:a.users,label:"Usuario"},null,8,["modelValue","options"])]),(0,s._)("div",qc,[(0,s.Wm)(d,{dense:"",outlined:"",modelValue:a.ini,"onUpdate:modelValue":t[1]||(t[1]=e=>a.ini=e),label:"fecha ini",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Lc,[(0,s.Wm)(d,{dense:"",outlined:"",modelValue:a.fin,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fin=e),label:"fecha fin",type:"date"},null,8,["modelValue"])]),(0,s._)("div",jc,[(0,s.Wm)(r,{icon:"check",color:"green",label:"Consultar",onClick:i.consultar},null,8,["onClick"])]),(0,s._)("div",Oc,[(0,s.Wm)(r,{icon:"print",color:"info",label:"Imprimir",onClick:i.impresion},null,8,["onClick"])]),(0,s._)("div",Nc,[(0,s.Wm)(u,{dense:"",title:"Listado Venta Candy","rows-per-page-options":[20,50,100,0],rows:a.reporte,columns:a.columna,filter:a.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:a.productoFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>a.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"])]),(0,s._)("div",Uc,[(0,s.Wm)(u,{title:"Ventas",rows:a.infouser,columns:a.columna2,"row-key":"name"},null,8,["rows","columns"])])]),kc])),_:1})}const Zc={name:"CajaCandy",data(){return{ini:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),loading:!1,productoFilter:"",url:"http://10.200.100.19:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,reporte:[],reporter:[],reportef:[],user:{},users:[],infouser:[],tcandyR:0,tcandyF:0,tefectcandyR:0,tefectcandyF:0,store:(0,he.c)(),foto:"",tvip:0,tcredito:0,tefectivo:0,total:0,columna:[{label:"NOMBRE",field:"descripcion",name:"descripcion",sortable:!0},{label:"cantidad",field:"cantidad",name:"cantidad",sortable:!0},{label:"SUBTOTAL",field:"total",name:"subtotal",sortable:!0}],columna2:[{label:"USUARIO",field:"usuario",name:"usuario",sortable:!0},{label:"TOTAL",field:"total",name:"total",sortable:!0}],anulados:[]}},created(){this.listuser()},methods:{listuser(){this.users=[{id:0,label:"TODOS"}],this.$api.get("user").then((e=>{console.log(e.data),e.data.forEach((e=>{e.label=e.name,this.users.push(e)})),this.user=this.users[0]}))},consultar(){this.loading=!0,this.$api.post("cajaCandy",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reporte=e.data,this.resumen(),this.datosuser(),this.datofactura(),this.datorecibo(),this.getAnulados(),this.loading=!1}))},getAnulados(){this.loading=!0,this.$api.post("reportGenAnulacion",{ini:this.ini,fin:this.fin,tipo:"CANDY"}).then((e=>{console.log(e.data),this.anulados=e.data,this.loading=!1}))},datosuser(){this.loading=!0,this.$api.post("usercandy",{ini:this.ini,fin:this.fin}).then((e=>{console.log(e.data),this.infouser=e.data,this.loading=!1}))},datofactura(){this.loading=!0,this.$api.post("cajaCandyF",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reportef=e.data,this.loading=!1}))},datorecibo(){this.loading=!0,this.$api.post("cajaCandyR",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.reporter=e.data,this.loading=!1}))},resumen(){this.loading=!0,this.$api.post("resumenCandy",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.tcredito=null==e.data[0].tarjeta?0:e.data[0].tarjeta,this.tvip=null==e.data[0].vip?0:e.data[0].vip,this.tefectivo=null==e.data[0].efectivo?0:e.data[0].efectivo,this.$api.post("resumenCandyRF",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{this.tcandyF=e.data[0].tarjetaF,this.tcandyR=e.data[0].tarjetaR,this.tefectcandyR=e.data[0].efectivoR,this.tefectcandyF=e.data[0].efectivoF,this.loading=!1}))}))},impresion(){if(0==this.reporte.length)return!1;let e="<style>        .f-10{font-size:10px;}        .centro{text-align:center;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS CANDY TOTAL</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reporte.forEach((t=>{e+="<tr><td class='f-10'>"+t.descripcion+"</td><td class='f-10'>"+t.cantidad+"</td><td class='f-10'>"+t.total+"</td></tr>"})),e+="</tbody>        </table>",0==this.user.id&&(e+="<table class='table'><tr><th class='f-10'>USUARIO</th><th class='f-10'>TOTAL</th></tr>",this.infouser.forEach((t=>{e+="<tr><td class='f-10'>"+t.usuario+"</td> <td class='f-10'>"+t.total+"</td></tr>"})),e+="</table>"),this.anulados.length>0&&(e+="<table class='table'>          <thead><tr><th class='f-10'>USUARIO</th><th class='f-10'>TOTAL ANULADOS</th><th class='f-10'>MONTO</th></tr></thead>          <tbody>",this.anulados.forEach((t=>{e+="<tr><td class='f-10 centro'>"+t.usuario+"</td><td class='f-10 centro'>"+t.total+"</td><td class='f-10 centro'>"+t.monto+"</td></tr>"})),e+="</tbody>          </table>"),e+="<div style='text-align:right;'><span class='f-10 titulo3'>Total: </span> "+this.ventatotal+" Bs</div>        <div style='text-align:right;'><span class='f-10 titulo3'>Total VIP: </span> "+this.tvip+" Bs</div>        <div style='text-align:right;'><span class='f-10 titulo3'>Total Credito: </span> "+this.tcredito+" Bs</div>        <div style='text-align:right;'><span class='f-10 titulo3'>Total Efectivo: </span> "+this.tefectivo+" Bs</div>        ",document.getElementById("myelement").innerHTML=e;const t=new Ai.gR;t.print(document.getElementById("myelement"));let l="<style>        .f-10{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS CANDY FACTURA</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reportef.forEach((e=>{l+="<tr><td class='f-10'>"+e.descripcion+"</td><td class='f-10'>"+e.cantidad+"</td><td class='f-10'>"+e.total+"</td></tr>"})),l+="</tbody>        </table>",null==this.tcandyF&&(this.tcandyF=0),null==this.tefectcandyF&&(this.tefectcandyF=0),l+="<div style='text-align:right;'><span class='f-10 titulo3'>Total: </span> "+this.ventafactura+" Bs</div>                 <div style='text-align:right;'><span class='f-10 titulo3'>Total Efectivo: </span> "+this.tefectcandyF+" Bs</div>                 <div style='text-align:right;'><span class='f-10 titulo3'>Total Tarjeta: </span> "+this.tcandyF+" Bs</div>        ",document.getElementById("myelement").innerHTML=l;const o=new Ai.gR;o.print(document.getElementById("myelement"));let a="<style>        .f-10{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        .table{width:100%; border:0.2px solid;}        </style>        <div class='f-10 titulo' >MULTISALAS S.R.L.</div>        <div class='f-10 titulo' >ORURO - BOLIVIA</div>        <div class='f-10 titulo' >VENTAS CANDY RECIBO</div>        <hr>        <div class='f-10'><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div class='f-10'><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div class='f-10'><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table class='table'>        <thead><tr><th class='f-10'>DESCRIPCION</th><th class='f-10'>CANTIDAD</th><th class='f-10'>TOTAL</th></tr></thead>        <tbody>";this.reporter.forEach((e=>{a+="<tr><td class='f-10'>"+e.descripcion+"</td><td class='f-10'>"+e.cantidad+"</td><td class='f-10'>"+e.total+"</td></tr>"})),a+="</tbody>        </table>",null==this.tcandyR&&(this.tcandyR=0),null==this.tefectcandyR&&(this.tefectcandyR=0),a+="<div style='text-align:right;'><span class='f-10 titulo3'>Total: </span> "+this.ventarecibo+" Bs</div>        <div style='text-align:right;'><span class='f-10 titulo3'>Total Efectivo: </span> "+this.tefectcandyR+" Bs</div>        <div style='text-align:right;'><span class='f-10 titulo3'>Total Tarjeta: </span> "+this.tcandyR+" Bs</div>        ",document.getElementById("myelement").innerHTML=a;const i=new Ai.gR;i.print(document.getElementById("myelement"))}},computed:{ventatotal(){let e=0;return this.reporte.forEach((t=>{e+=t.total})),e.toFixed(2)},ventafactura(){let e=0;return this.reportef.forEach((t=>{e+=t.total})),e.toFixed(2)},ventarecibo(){let e=0;return this.reporter.forEach((t=>{e+=t.total})),e.toFixed(2)}}},Rc=(0,r.Z)(Zc,[["render",Fc]]),zc=Rc;A()(Zc,"components",{QPage:D.Z,QSelect:qe.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QIcon:we.Z});const Qc=e=>((0,s.dD)("data-v-47b084ec"),e=e(),(0,s.Cn)(),e),Pc={class:"row"},Yc=Qc((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1))),$c={class:"col-10 col-sm-4"},Bc=Qc((()=>(0,s._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),Hc=Qc((()=>(0,s._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),Gc={class:"row"},Kc={class:"col-12"},Jc={class:"col-12 q-pt-lg"},Xc={class:"col-12 q-py-xs"},eu={class:"col-12 q-pt-xs"},tu=Qc((()=>(0,s._)("div",{class:"col-12 q-pt-xs"},null,-1))),lu=Qc((()=>(0,s._)("div",{class:"col-12 text-center q-py-none"},[(0,s._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),ou=Qc((()=>(0,s._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,s.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,s._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,s.Uk)(" Y "),(0,s._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),au=Qc((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1)));function iu(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-checkbox"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-card"),g=(0,s.up)("q-page"),f=(0,s.up)("q-page-container"),b=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(b,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",Pc,[Yc,(0,s._)("div",$c,[Bc,Hc,(0,s.Wm)(h,{flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"q-pa-lg",onSubmit:(0,o.iM)(n.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Gc,[(0,s._)("div",Kc,[(0,s.Wm)(d,{outlined:"",modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,s._)("div",Jc,[(0,s.Wm)(d,{outlined:"",modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),label:"Contraseña",type:i.typePassword?"password":"text",required:""},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{onClick:t[1]||(t[1]=e=>i.typePassword=!i.typePassword),name:i.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",Xc,[(0,s.Wm)(c,{modelValue:i.remember,"onUpdate:modelValue":t[3]||(t[3]=e=>i.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,s._)("div",eu,[(0,s.Wm)(u,{size:"22px",loading:i.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),tu,lu])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),ou]),au])])),_:1})])),_:1})])),_:1})}const su={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,he.c)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),console.log(e.data),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,e.data.user.permisos.forEach((e=>{1==e.id&&(this.store.booluser=!0),2==e.id&&(this.store.boolcuis=!0),3==e.id&&(this.store.boolsincr=!0),4==e.id&&(this.store.boolcufd=!0),5==e.id&&(this.store.boolevento=!0),6==e.id&&(this.store.boolmovie=!0),7==e.id&&(this.store.booldistrib=!0),8==e.id&&(this.store.boolsala=!0),9==e.id&&(this.store.booltarifa=!0),10==e.id&&(this.store.boolrubro=!0),11==e.id&&(this.store.boolproducto=!0),12==e.id&&(this.store.boolprogram=!0),13==e.id&&(this.store.boolboleteria=!0),14==e.id&&(this.store.boollistbol=!0),15==e.id&&(this.store.boolcandy=!0),16==e.id&&(this.store.boollistcandy=!0),17==e.id&&(this.store.boolcajabol=!0),18==e.id&&(this.store.boolcajacandy=!0),19==e.id&&(this.store.boolalquiler=!0),20==e.id&&(this.store.boolcliente=!0),21==e.id&&(this.store.boolcortesia=!0),22==e.id&&(this.store.boolreporte=!0),23==e.id&&(this.store.boolsolicitud=!0),24==e.id&&(this.store.boolanulacion=!0),25==e.id&&(this.store.boolaprobar=!0),26==e.id&&(this.store.booltodoventa=!0),27==e.id&&(this.store.boolimpboleto=!0),28==e.id&&(this.store.boolimpfactura=!0)})),this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenMulti",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var nu=l(77605),du=l(12133);const ru=(0,r.Z)(su,[["render",iu],["__scopeId","data-v-47b084ec"]]),cu=ru;A()(su,"components",{QLayout:nu.Z,QPageContainer:du.Z,QPage:D.Z,QCard:We.Z,QCardSection:Ee.Z,QForm:Se.Z,QInput:ve.Z,QIcon:we.Z,QCheckbox:Yo.Z,QBtn:V.Z});const uu={class:"row"},mu={class:"col-12"},pu={key:0},hu=(0,s.Uk)("Actualizar"),gu=(0,s.Uk)("Eliminar"),fu=(0,s._)("div",{class:"text-h6"},"Registrar Cortesia",-1),bu={class:"row"},vu={class:"col-12"},wu={class:"col-12"},_u=(0,s._)("div",{class:"text-h6"},"Modificar Cortesia",-1),yu={class:"row"},Cu={class:"col-3"},Du={class:"col-3"},Vu={class:"col-3"},xu={class:"col-3"},Au={class:"col-12"};function Iu(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-item-label"),p=(0,s.up)("q-item-section"),h=(0,s.up)("q-item"),g=(0,s.up)("q-list"),b=(0,s.up)("q-btn-dropdown"),v=(0,s.up)("q-table"),w=(0,s.up)("q-space"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-form"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),V=(0,s.up)("q-toggle"),x=(0,s.up)("q-page"),A=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",uu,[(0,s._)("div",mu,[(0,s.Wm)(v,{dense:"",title:"Gestionar Cortesias","rows-per-page-options":[20,50,100,0],rows:i.cortesias,columns:i.cortesiaColumns,filter:i.cortesiaFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.cortesiaDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cortesiaFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cortesiaFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-user":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e},{default:(0,s.w5)((()=>[null!=e.row.user?((0,s.wg)(),(0,s.iD)("div",pu,(0,f.zw)(e.row.user.name),1)):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(u,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",onClick:t=>{i.cortesiaUpdateDialog=!0,i.cortesia2=e.row,this.store.cortesia=e.row.cortesia}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[hu])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",onClick:t=>n.cortesiaDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[gu])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.cortesiaDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cortesiaDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[fu,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.cortesiaCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",bu,[(0,s._)("div",vu,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Cantidad de cortesia",modelValue:i.cortesia.cantidad,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cortesia.cantidad=e)},null,8,["modelValue"])]),(0,s._)("div",wu,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.cortesiaUpdateDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.cortesiaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[_u,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.cortesiaUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",yu,[(0,s._)("div",Cu,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.cortesia2.serie,"onUpdate:modelValue":t[4]||(t[4]=e=>i.cortesia2.serie=e)},null,8,["modelValue"])]),(0,s._)("div",Du,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.cortesia2.precio,"onUpdate:modelValue":t[5]||(t[5]=e=>i.cortesia2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Vu,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.cortesia2.descripcion,"onUpdate:modelValue":t[6]||(t[6]=e=>i.cortesia2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",xu,[(0,s.Wm)(V,{"false-value":"NO",label:"Promo "+i.cortesia2.promo,"true-value":"SI",color:"green",modelValue:i.cortesia2.promo,"onUpdate:modelValue":t[7]||(t[7]=e=>i.cortesia2.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",Au,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Tu={name:"Cortesia",data(){return{loading:!1,cortesiaFilter:"",cortesia2:{},cortesiaDialog:!1,cortesiaUpdateDialog:!1,store:(0,he.c)(),cortesiaColumns:[{label:"ID",field:"id",name:"id",sortable:!0},{label:"Hora",field:"time",name:"time",sortable:!0},{label:"Fecha",field:"date",name:"date",sortable:!0},{label:"user",field:"user",name:"user"}],cortesias:[],cortesia:{}}},created(){this.cortesiaGet()},methods:{cortesiaGet(){this.$api.get("cortesia").then((e=>{this.cortesias=e.data})).catch((e=>{console.log(e)}))},cortesiaCreate(){this.loading=!0,this.$api.post("cortesia",this.cortesia).then((e=>{this.loading=!1,this.cortesiaGet(),this.cortesiaDialog=!1}))},cortesiaUpdate(){this.$q.loading.show(),this.$api.put("cortesia/"+this.cortesia2.id,this.cortesia2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.cortesia2={};let t=this.store.cortesias.findIndex((t=>t.id==e.data.id));this.store.cortesias[t]=e.data,this.cortesiaUpdateDialog=!1}))},cortesiaDelete(e,t){this.$q.dialog({title:"Eliminar Cortesia",message:"¿Esta seguro de eliminar la Cortesia?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("cortesia/"+e).then((e=>{this.store.cortesias.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Cortesia eliminada",color:"positive",icon:"done"})}))}))}}},Wu=(0,r.Z)(Tu,[["render",Iu]]),Eu=Wu;A()(Tu,"components",{QPage:D.Z,QTable:be.Z,QBtn:V.Z,QInput:ve.Z,QIcon:we.Z,QTd:_e.Z,QBtnDropdown:Ce.Z,QList:De.Z,QItem:Ve.Z,QItemSection:xe.Z,QItemLabel:Ae.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QSpace:Me.Z,QForm:Se.Z,QToggle:Le.Z}),A()(Tu,"directives",{ClosePopup:Oe.Z});const Mu={class:"q-pa-md"},Su={class:"text-h7"},qu=(0,s.Uk)(" REGISTRO DE NUEVO USUARIO"),Lu={class:"row"},ju={class:"col-6"},Ou={class:"col-6"},Nu=(0,s._)("div",{class:"text-5"},"Permisos",-1),Uu={class:"text-h7"},ku=(0,s.Uk)(" MODIFICAR DATOS DE USUARIO"),Fu=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),Zu={class:"text-h7 text-white"},Ru=(0,s.Uk)(" PERMISOS DE ACCESO");function zu(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-input"),m=(0,s.up)("q-checkbox"),p=(0,s.up)("q-form"),h=(0,s.up)("q-card"),g=(0,s.up)("q-dialog"),b=(0,s.up)("q-td"),v=(0,s.up)("q-table"),w=(0,s.up)("q-avatar"),_=(0,s.up)("q-card-actions"),y=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",Mu,[(0,s.Wm)(d,{label:"Nuevo usuario",color:"positive",onClick:n.regDialog,icon:"add_circle",class:"q-mb-xs"},null,8,["onClick"]),(0,s.Wm)(g,{modelValue:i.alert,"onUpdate:modelValue":t[5]||(t[5]=e=>i.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Su,[(0,s.Wm)(r,{name:"add_circle"}),qu])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Lu,[(0,s._)("div",ju,[(0,s.Wm)(u,{filled:"",modelValue:i.dato.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dato.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.nick,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dato.nick=e),type:"text",label:"Nick Name ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.email,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dato.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.password,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dato.password=e),type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.fechaLimite,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dato.fechaLimite=e),type:"date",label:"Fecha Limite","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"])]),(0,s._)("div",Ou,[Nu,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos,((e,t)=>((0,s.wg)(),(0,s.j4)(m,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[y]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(v,{filter:i.filter,title:"REGISTRO DE USUARIOS",rows:i.data,columns:i.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,{borderless:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":t[6]||(t[6]=e=>i.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-permisos":(0,s.w5)((e=>[(0,s.Wm)(b,{key:"permisos",props:e},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.permisos,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},(0,f.zw)(e.nombre),1)))),128))])])),_:2},1032,["props"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(b,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"yellow",onClick:t=>n.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"positive",onClick:t=>n.cambiopass(e),icon:"vpn_key"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"green-10",onClick:t=>n.mispermisos(e),icon:"post_add"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"red",onClick:t=>n.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(g,{modelValue:i.dialog_mod,"onUpdate:modelValue":t[11]||(t[11]=e=>i.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Uu,[(0,s.Wm)(r,{name:"edit"}),ku])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:n.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{filled:"",modelValue:i.dato2.name,"onUpdate:modelValue":t[7]||(t[7]=e=>i.dato2.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.nick,"onUpdate:modelValue":t[8]||(t[8]=e=>i.dato2.nick=e),type:"text",label:"Nick name ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.email,"onUpdate:modelValue":t[9]||(t[9]=e=>i.dato2.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.fechaLimite,"onUpdate:modelValue":t[10]||(t[10]=e=>i.dato2.fechaLimite=e),type:"date",label:"Fecah Limite","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[y]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.dialog_del,"onUpdate:modelValue":t[12]||(t[12]=e=>i.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{icon:"clear",color:"red","text-color":"white"}),Fu])),_:1}),(0,s.Wm)(_,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",label:"Eliminar",color:"deep-orange",onClick:n.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(d,{flat:"",label:"Cancelar",color:"primary"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.modelpermiso,"onUpdate:modelValue":t[13]||(t[13]=e=>i.modelpermiso=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s._)("div",Zu,[(0,s.Wm)(r,{name:"folder"}),Ru])])),_:1}),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.updatepermisos,["prevent"])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos2,((e,t)=>((0,s.wg)(),(0,s.j4)(m,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,s.Wm)(d,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:Qu}=ge.ZP,Pu={name:"User",data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,fecha:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),filter:"",dato:{fechaLimite:Qo()(this.fecha).add(36,"months").format("YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"NOMBRE ",field:"name",sortable:!0},{name:"nick",align:"left",label:"NICK ",field:"nick",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.$api.get("permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{regDialog(){this.dato={fechaLimite:Qo()(this.fecha).add(36,"months").format("YYYY-MM-DD")},this.alert=!0},updatepermisos(){this.$api.put("updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let t;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{t=this.dato2.permisos.find((t=>t.pivot.permiso_id==e.id)),e.estado=void 0!=t}))},misdatos(){this.$q.loading.show(),this.$api.get("user").then((e=>{console.log(e.data),this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$api.post("user",{name:this.dato.name,nick:this.dato.nick,password:this.dato.password,state:"active",email:this.dato.email,fechaLimite:this.dato.fechaLimite,permisos:this.permisos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={fechaLimite:Qo()(this.fecha).add(36,"months").format("YYYY-MM-DD")},this.alert=!1,this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$api.put("user/"+this.dato2.id,{name:this.dato2.name,email:this.dato2.email,nick:this.dato2.nick,fechaLimite:this.dato2.fechaLimite}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$api.delete("user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$q.loading.show(),this.$api.put("updatePassword/"+e.row.id,{password:t}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))}}};var Yu=l(61357);const $u=(0,r.Z)(Pu,[["render",zu]]),Bu=$u;A()(Pu,"components",{QBtn:V.Z,QDialog:Te.Z,QCard:We.Z,QCardSection:Ee.Z,QIcon:we.Z,QForm:Se.Z,QInput:ve.Z,QCheckbox:Yo.Z,QTable:be.Z,QTd:_e.Z,QAvatar:Yu.Z,QCardActions:$o.Z}),A()(Pu,"directives",{ClosePopup:Oe.Z});const Hu={class:"row"},Gu={class:"col-4"},Ku={class:"col-4"},Ju={class:"col-4 flex flex-center"},Xu={class:"col-12"},em=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function tm(e,t,l,o,a,i){const n=(0,s.up)("q-input"),d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-table"),u=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(u,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",Hu,[(0,s._)("div",Gu,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:a.ini,"onUpdate:modelValue":t[0]||(t[0]=e=>a.ini=e),label:"fecha ini",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Ku,[(0,s.Wm)(n,{dense:"",outlined:"",modelValue:a.fin,"onUpdate:modelValue":t[1]||(t[1]=e=>a.fin=e),label:"fecha fin",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Ju,[(0,s.Wm)(d,{icon:"check",color:"green",label:"Consultar",onClick:i.consultar},null,8,["onClick"])]),(0,s._)("div",Xu,[(0,s.Wm)(c,{dense:"",title:"Listado Venta Funcion","rows-per-page-options":[20,50,100,0],rows:a.reporte,filter:a.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{icon:"download",color:"green",label:"Excel",onClick:i.exportar},null,8,["onClick"]),(0,s.Wm)(n,{outlined:"",dense:"",debounce:"300",modelValue:a.productoFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>a.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","filter"])])]),em])),_:1})}const lm={name:"CajaBoleteria",data(){return{ini:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),fin:ge.ZP.formatDate(new Date,"YYYY-MM-DD"),infouser:[],loading:!1,productoFilter:"",url:"http://10.200.100.19:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,reporte:[],user:{},users:[],columns:[],store:(0,he.c)(),foto:"",tvip:0,tcredito:0,tefectivo:0,total:0,columna:[{label:"NOMBRE",field:"descripcion",name:"descripcion",sortable:!0},{label:"cantidad",field:"cantidad",name:"cantidad",sortable:!0},{label:"SUBTOTAL",field:"total",name:"subtotal",sortable:!0}]}},created(){},methods:{exportar(){let e=[{sheet:"Adults",columns:[{label:"id",value:"id"},{label:"fec",value:"fec"},{label:"titulo",value:"titulo"},{label:"sala",value:"sala"},{label:"horaInicio",value:"horaInicio"},{label:"ff",value:"ff"},{label:"serie",value:"serie"},{label:"precio",value:"precio"},{label:"cantf",value:"cantf"},{label:"total",value:"total"},{label:"cantr",value:"cantr"},{label:"cantc",value:"cantc"},{label:"canttotal",value:"canttotal"}],content:this.reporte}],t={fileName:"ventasfuncion"+ge.ZP.formatDate(new Date,"YYYY-MM-DD"),writeOptions:{}};(0,vd.ZP)(e,t)},consultar(){this.loading=!0,this.$api.post("reporteFuncion",{ini:this.ini,fin:this.fin}).then((e=>{console.log(e.data),this.loading=!1,this.reporte=e.data}))},impresion(){if(0==this.reporte.length)return!1;let e="<style>        *{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        table{width:100%; border:0.2px solid;}        </style>        <div class='titulo'>MULTISALAS S.R.L.</div>        <div class='titulo'>ORURO - BOLIVIA</div>        <div class='titulo'>VENTAS DE BOLETERIA</div>        <hr>        <div><span class='titulo2'>Fecha: </span> "+ge.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table>        <thead><tr><th>DESCRIPCION</th><th>CANTIDAD</th><th>TOTAL</th></tr></thead>        <tbody>";this.reporte.forEach((t=>{e+="<tr><td>"+t.descripcion+"</td><td>"+t.cantidad+"</td><td>"+t.total+"</td></tr>"})),e+="</tbody>        </table>",0==this.user.id&&(e+="<table><tr><th>USUARIO</th><th>TOTAL</th></tr>",this.infouser.forEach((t=>{e+="<tr><td>"+t.usuario+"</td> <td>"+t.total+"</td><\tr>"})),e+="</table>"),e+="<div style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventatotal+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total VIP: </span> "+this.tvip+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Credito: </span> "+this.tcredito+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tefectivo+" Bs</div>        ",document.getElementById("myelement").innerHTML=e;const t=new Ai.gR;t.print(document.getElementById("myelement"))}},computed:{ventatotal(){let e=0;return this.reporte.forEach((t=>{e+=t.total})),e.toFixed(2)}}},om=(0,r.Z)(lm,[["render",tm]]),am=om;A()(lm,"components",{QPage:D.Z,QInput:ve.Z,QBtn:V.Z,QTable:be.Z,QIcon:we.Z});const im={class:"q-pa-md"},sm={class:"row"},nm={class:"col-2"},dm={class:"col-2"},rm={class:"col-2 flex flex-center"},cm={class:"col-2"},um={class:"col-2 flex flex-center"},mm={class:"col-12"};function pm(e,t,l,o,a,i){const n=(0,s.up)("q-select"),d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-file"),u=(0,s.up)("q-input"),m=(0,s.up)("q-table"),p=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",im,[(0,s._)("div",sm,[(0,s._)("div",nm,[(0,s.Wm)(n,{outlined:"",dense:"",modelValue:a.mes,"onUpdate:modelValue":t[0]||(t[0]=e=>a.mes=e),options:a.meses,label:"Mes",class:"col-12 col-sm-6 col-md-4","map-options":"","emit-value":"",hint:"Seleccione el mes de la factura"},null,8,["modelValue","options"])]),(0,s._)("div",dm,[(0,s.Wm)(n,{outlined:"",dense:"",modelValue:a.anio,"onUpdate:modelValue":t[1]||(t[1]=e=>a.anio=e),options:a.anios,label:"Año",class:"col-12 col-sm-6 col-md-4","map-options":"","emit-value":"",hint:"Seleccione el año de la factura"},null,8,["modelValue","options"])]),(0,s._)("div",rm,[(0,s.Wm)(d,{onClick:i.buscarFacturas,loading:a.loading,color:"primary",label:"Buscar",icon:"search","no-caps":"",class:"col-12 col-sm-6 col-md-4"},null,8,["onClick","loading"])]),(0,s._)("div",cm,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:a.archivo,"onUpdate:modelValue":t[2]||(t[2]=e=>a.archivo=e),label:"Archivo",class:"col-12 col-sm-6 col-md-4",hint:"Seleccione el archivo de la factura"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"attach_file"})])),_:1},8,["modelValue"])]),(0,s._)("div",um,[(0,s.Wm)(d,{loading:a.loading,color:"primary",label:"Subir",icon:"cloud_upload","no-caps":"",onClick:i.subirFactura,class:"col-12 col-sm-6 col-md-4"},null,8,["loading","onClick"]),(0,s.Uk)(" "+(0,f.zw)(a.tiempo),1)]),(0,s._)("div",mm,[(0,s.Wm)(m,{title:"Facturas",loading:a.loading,rows:a.facturas,"rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,{modelValue:a.filter,"onUpdate:modelValue":t[3]||(t[3]=e=>a.filter=e),filled:"",dense:"",debounce:"300",hint:"Buscar",class:"q-mb-md"},null,8,["modelValue"])])),_:1},8,["loading","rows"])])])])])),_:1})}const hm={name:"FacturaPage",data(){return{filter:"",anios:[],facturas:[],factura:{},tiempo:"00:00",archivo:null,anio:(new Date).getFullYear(),mes:(new Date).getMonth(),loading:!1,meses:[{label:"Enero",value:1},{label:"Febrero",value:2},{label:"Marzo",value:3},{label:"Abril",value:4},{label:"Mayo",value:5},{label:"Junio",value:6},{label:"Julio",value:7},{label:"Agosto",value:8},{label:"Septiembre",value:9},{label:"Octubre",value:10},{label:"Noviembre",value:11},{label:"Diciembre",value:12}]}},mounted(){this.getYearMonthFacturas();for(let e=2019;e<=this.anio;e++)this.anios.push({label:e,value:e})},methods:{buscarFacturas(){this.$api.get("buscarFacturas").then((e=>{this.facturas=e.data})).catch((e=>{console.log(e),this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})}))},getYearMonthFacturas(){this.loading=!0,this.$api.post("getYearMonthFacturas",{anio:this.anio,mes:this.mes}).then((e=>{this.facturas=e.data})).catch((e=>{console.log(e),this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})).finally((()=>{this.loading=!1}))},subirFactura(){if(!this.archivo)return void this.$q.notify({color:"negative",message:"Debe seleccionar un archivo",icon:"report_problem",position:"top"});this.tiempo="00:00";let e=setInterval((()=>{let e=parseInt(this.tiempo.split(":")[0]),t=parseInt(this.tiempo.split(":")[1]);t++,60==t&&(t=0,e++),this.tiempo=`${e<10?"0"+e:e}:${t<10?"0"+t:t}`}),1e3);const t=new FormData;t.append("archivo",this.archivo),this.loading=!0,this.$api.post("import",t).then((t=>{console.log(t.data),clearInterval(e)})).catch((e=>{console.log(e),this.$q.notify({color:"negative",message:e.response.data.message,icon:"report_problem",position:"top"})})).finally((()=>{clearInterval(e),this.loading=!1}))}}};var gm=l(33837);const fm=(0,r.Z)(hm,[["render",pm]]),bm=fm;A()(hm,"components",{QPage:D.Z,QSelect:qe.Z,QBtn:V.Z,QFile:gm.Z,QIcon:we.Z,QTable:be.Z,QInput:ve.Z});const vm=[{path:"/",component:()=>Promise.all([l.e(736),l.e(39)]).then(l.bind(l,35039)),children:[{path:"",component:T,meta:{requiresAuth:!0}},{path:"peliculas",component:Ue,meta:{requiresAuth:!0}},{path:"distribuidores",component:mt,meta:{requiresAuth:!0}},{path:"cuis",component:Ct,meta:{requiresAuth:!0}},{path:"cufd",component:ao,meta:{requiresAuth:!0}},{path:"sincronizacion",component:Zt,meta:{requiresAuth:!0}},{path:"salas",component:vl,meta:{requiresAuth:!0}},{path:"tarifas",component:Fl,meta:{requiresAuth:!0}},{path:"sale",component:Ni,meta:{requiresAuth:!0}},{path:"programa",component:Ho,meta:{requiresAuth:!0}},{path:"rubro",component:cs,meta:{requiresAuth:!0}},{path:"productos",component:ks,meta:{requiresAuth:!0}},{path:"candy",component:zn,meta:{requiresAuth:!0}},{path:"listaVenta",component:Dd,meta:{requiresAuth:!0}},{path:"listaVentaCandy",component:er,meta:{requiresAuth:!0}},{path:"eventoSignificativo",component:mr,meta:{requiresAuth:!0}},{path:"rental",component:Zr,meta:{requiresAuth:!0}},{path:"prevalorada",component:nc,meta:{requiresAuth:!0}},{path:"cliente",component:bc,meta:{requiresAuth:!0}},{path:"cajaboleteria",component:Ec,meta:{requiresAuth:!0}},{path:"cajacandy",component:zc,meta:{requiresAuth:!0}},{path:"cortesia",component:Eu,meta:{requiresAuth:!0}},{path:"usuarios",component:Bu,meta:{requiresAuth:!0}},{path:"reportefuncion",component:am,meta:{requiresAuth:!0}},{path:"factura",component:bm,meta:{requiresAuth:!0}},{path:"anulaciones",component:()=>l.e(640).then(l.bind(l,8640)),meta:{requiresAuth:!0}}]},{path:"/login",component:cu},{path:"/:catchAll(.*)*",component:()=>l.e(862).then(l.bind(l,91862))}],wm=vm,_m=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:wm,history:e("")});return t.beforeEach(((e,t,l)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,he.c)().isLoggedIn)return void l();l("/login")}else l()})),t}));async function ym(e,t){const l=e(u);l.use(a.Z,t);const o="function"===typeof h?await h({}):h;l.use(o);const s=(0,i.Xl)("function"===typeof _m?await _m({store:o}):_m);return o.use((({store:e})=>{e.router=s})),{app:l,store:o,router:s}}var Cm=l(8934),Dm=l(97286),Vm=l(6827),xm=l(26950),Am=l(5917);const Im={config:{},lang:Cm.Z,plugins:{Dialog:Dm.Z,Notify:Vm.Z,Loading:xm.Z,LoadingBar:Am.Z}};var Tm=l(70368);(0,Tm.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&l.e(736).then(l.t.bind(l,84848,23));const Wm="";async function Em({app:e,router:t,store:l},o){let a=!1;const i=e=>{try{return t.resolve(e).href}catch(l){}return Object(e)===e?null:e},s=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let r=0;!1===a&&r<o.length;r++)try{await o[r]({app:e,router:t,store:l,ssrContext:null,redirect:s,urlPath:n,publicPath:Wm})}catch(d){return d&&d.url?void s(d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&(e.use(t),e.mount("#q-app"))}ym(o.ri,Im).then((e=>Promise.all([Promise.resolve().then(l.bind(l,91569))]).then((t=>{const l=t.map((e=>e.default)).filter((e=>"function"===typeof e));Em(e,l)}))))},91569:(e,t,l)=>{"use strict";l.r(t),l.d(t,{api:()=>n,default:()=>d});var o=l(23340),a=l(39981),i=l.n(a),s=l(73285);const n=i().create({baseURL:"http://10.200.100.19:81/api/"}),d=(0,o.xr)((({app:e,router:t})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=n,e.config.globalProperties.$filters={textCapitalize(e){return e?(e=e.toLowerCase(),e.charAt(0).toUpperCase()+e.slice(1)):""}};const l=localStorage.getItem("tokenMulti");l?(n.defaults.headers.common.Authorization=`Bearer ${l}`,n.post("me").then((e=>{console.log(e.data.user),(0,s.c)().user=e.data.user,(0,s.c)().cine=e.data.datocine,(0,s.c)().isLoggedIn=!0,e.data.user.permisos.forEach((e=>{1==e.id&&((0,s.c)().booluser=!0),2==e.id&&((0,s.c)().boolcuis=!0),3==e.id&&((0,s.c)().boolsincr=!0),4==e.id&&((0,s.c)().boolcufd=!0),5==e.id&&((0,s.c)().boolevento=!0),6==e.id&&((0,s.c)().boolmovie=!0),7==e.id&&((0,s.c)().booldistrib=!0),8==e.id&&((0,s.c)().boolsala=!0),9==e.id&&((0,s.c)().booltarifa=!0),10==e.id&&((0,s.c)().boolrubro=!0),11==e.id&&((0,s.c)().boolproducto=!0),12==e.id&&((0,s.c)().boolprogram=!0),13==e.id&&((0,s.c)().boolboleteria=!0),14==e.id&&((0,s.c)().boollistbol=!0),15==e.id&&((0,s.c)().boolcandy=!0),16==e.id&&((0,s.c)().boollistcandy=!0),17==e.id&&((0,s.c)().boolcajabol=!0),18==e.id&&((0,s.c)().boolcajacandy=!0),19==e.id&&((0,s.c)().boolalquiler=!0),20==e.id&&((0,s.c)().boolcliente=!0),21==e.id&&((0,s.c)().boolcortesia=!0),22==e.id&&((0,s.c)().boolreporte=!0),23==e.id&&((0,s.c)().boolsolicitud=!0),24==e.id&&((0,s.c)().boolautorizar=!0),25==e.id&&((0,s.c)().boolaprobar=!0),26==e.id&&((0,s.c)().booltodoventa=!0),27==e.id&&((0,s.c)().boolimpboleto=!0),28==e.id&&((0,s.c)().boolimpfactura=!0)}))})).catch((l=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,s.c)().user={},localStorage.removeItem("tokenMulti"),(0,s.c)().isLoggedIn=!1,(0,s.c)().booluser=!1,(0,s.c)().boolcuis=!1,(0,s.c)().boolsincr=!1,(0,s.c)().boolcufd=!1,(0,s.c)().boolevento=!1,(0,s.c)().boolmovie=!1,(0,s.c)().booldistrib=!1,(0,s.c)().boolsala=!1,(0,s.c)().booltarifa=!1,(0,s.c)().boolrubro=!1,(0,s.c)().boolproducto=!1,(0,s.c)().boolprogram=!1,(0,s.c)().boolboleteria=!1,(0,s.c)().boollistbol=!1,(0,s.c)().boolcandy=!1,(0,s.c)().boollistcandy=!1,(0,s.c)().boolcajabol=!1,(0,s.c)().boolcajacandy=!1,(0,s.c)().boolalquiler=!1,(0,s.c)().boolcliente=!1,(0,s.c)().boolcortesia=!1,(0,s.c)().boolreporte=!1,(0,s.c)().boolsolicitud=!1,(0,s.c)().boolautorizar=!1,(0,s.c)().boolaprobar=!1,(0,s.c)().booltodoventa=!1,(0,s.c)().boolimpboleto=!1,(0,s.c)().boolimpfactura=!1,t.push("/login")}))):(t.push("/login"),(0,s.c)().user={},(0,s.c)().isLoggedIn=!1,(0,s.c)().booluser=!1,(0,s.c)().boolcuis=!1,(0,s.c)().boolsincr=!1,(0,s.c)().boolcufd=!1,(0,s.c)().boolevento=!1,(0,s.c)().boolmovie=!1,(0,s.c)().booldistrib=!1,(0,s.c)().boolsala=!1,(0,s.c)().booltarifa=!1,(0,s.c)().boolrubro=!1,(0,s.c)().boolproducto=!1,(0,s.c)().boolprogram=!1,(0,s.c)().boolboleteria=!1,(0,s.c)().boollistbol=!1,(0,s.c)().boolcandy=!1,(0,s.c)().boollistcandy=!1,(0,s.c)().boolcajabol=!1,(0,s.c)().boolcajacandy=!1,(0,s.c)().boolalquiler=!1,(0,s.c)().boolcliente=!1,(0,s.c)().boolcortesia=!1,(0,s.c)().boolreporte=!1,(0,s.c)().boolsolicitud=!1,(0,s.c)().boolautorizar=!1,(0,s.c)().boolaprobar=!1,(0,s.c)().booltodoventa=!1,(0,s.c)().boolimpboleto=!1,(0,s.c)().boolimpfactura=!1,localStorage.removeItem("tokenMulti"),(0,s.c)().isLoggedIn=!1)}))},73285:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});var o=l(12502);const a=(0,o.Q_)("global",{state:()=>({counter:0,movies:[],user:{},cine:{},eventNumber:0,movieSingleTon:!1,isLoggedIn:!!localStorage.getItem("tokenMulti"),distributors:[],distributor:{},distributorSingleTon:!1,salas:[],salaSingleTon:!1,prices:[],priceSingleTon:!1,rubros:[],rubroSingleTon:!1,rubro:{},productos:[],productoSingleTon:!1,detallecandy:[],salas2:[],salas3:[],movies2:[],movies3:[],prices2:[],prices3:[],booluser:!1,boolcuis:!1,boolsincr:!1,boolcufd:!1,boolevento:!1,boolmovie:!1,booldistrib:!1,boolsala:!1,booltarifa:!1,boolrubro:!1,boolproducto:!1,boolprogram:!1,boolboleteria:!1,boollistbol:!1,boolcandy:!1,boollistcandy:!1,boolcajabol:!1,boolcajacandy:!1,boolalquiler:!1,boolcliente:!1,boolcortesia:!1,boolreporte:!1,boolsolicitud:!1,boolautorizar:!1,boolaprobar:!1,booltodoventa:!1,boolimpboleto:!1,boolimpfactura:!1}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})},46700:(e,t,l)=>{var o={"./af":73902,"./af.js":73902,"./ar":36314,"./ar-dz":75666,"./ar-dz.js":75666,"./ar-kw":76591,"./ar-kw.js":76591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":36335,"./ar-sa.js":36335,"./ar-tn":86916,"./ar-tn.js":86916,"./ar.js":36314,"./az":1699,"./az.js":1699,"./be":98988,"./be.js":98988,"./bg":97437,"./bg.js":97437,"./bm":97947,"./bm.js":97947,"./bn":12851,"./bn-bd":34905,"./bn-bd.js":34905,"./bn.js":12851,"./bo":97346,"./bo.js":97346,"./br":1711,"./br.js":1711,"./bs":63706,"./bs.js":63706,"./ca":70112,"./ca.js":70112,"./cs":36406,"./cs.js":36406,"./cv":41853,"./cv.js":41853,"./cy":39766,"./cy.js":39766,"./da":36836,"./da.js":36836,"./de":59320,"./de-at":14904,"./de-at.js":14904,"./de-ch":26710,"./de-ch.js":26710,"./de.js":59320,"./dv":73274,"./dv.js":73274,"./el":80286,"./el.js":80286,"./en-au":30143,"./en-au.js":30143,"./en-ca":237,"./en-ca.js":237,"./en-gb":82428,"./en-gb.js":82428,"./en-ie":53349,"./en-ie.js":53349,"./en-il":13764,"./en-il.js":13764,"./en-in":67809,"./en-in.js":67809,"./en-nz":59851,"./en-nz.js":59851,"./en-sg":95594,"./en-sg.js":95594,"./eo":4483,"./eo.js":4483,"./es":62184,"./es-do":25777,"./es-do.js":25777,"./es-mx":89356,"./es-mx.js":89356,"./es-us":68496,"./es-us.js":68496,"./es.js":62184,"./et":97578,"./et.js":97578,"./eu":2092,"./eu.js":2092,"./fa":15927,"./fa.js":15927,"./fi":50171,"./fi.js":50171,"./fil":82416,"./fil.js":82416,"./fo":89937,"./fo.js":89937,"./fr":55172,"./fr-ca":77495,"./fr-ca.js":77495,"./fr-ch":97541,"./fr-ch.js":97541,"./fr.js":55172,"./fy":37907,"./fy.js":37907,"./ga":66361,"./ga.js":66361,"./gd":2282,"./gd.js":2282,"./gl":52630,"./gl.js":52630,"./gom-deva":80680,"./gom-deva.js":80680,"./gom-latn":66220,"./gom-latn.js":66220,"./gu":57506,"./gu.js":57506,"./he":5540,"./he.js":5540,"./hi":46067,"./hi.js":46067,"./hr":79669,"./hr.js":79669,"./hu":13396,"./hu.js":13396,"./hy-am":36678,"./hy-am.js":36678,"./id":44812,"./id.js":44812,"./is":94193,"./is.js":94193,"./it":67863,"./it-ch":959,"./it-ch.js":959,"./it.js":67863,"./ja":41809,"./ja.js":41809,"./jv":28657,"./jv.js":28657,"./ka":33290,"./ka.js":33290,"./kk":98418,"./kk.js":98418,"./km":77687,"./km.js":77687,"./kn":21375,"./kn.js":21375,"./ko":32641,"./ko.js":32641,"./ku":83518,"./ku.js":83518,"./ky":85459,"./ky.js":85459,"./lb":91978,"./lb.js":91978,"./lo":86915,"./lo.js":86915,"./lt":8948,"./lt.js":8948,"./lv":12548,"./lv.js":12548,"./me":98608,"./me.js":98608,"./mi":50333,"./mi.js":50333,"./mk":76611,"./mk.js":76611,"./ml":10999,"./ml.js":10999,"./mn":54098,"./mn.js":54098,"./mr":86111,"./mr.js":86111,"./ms":73717,"./ms-my":90265,"./ms-my.js":90265,"./ms.js":73717,"./mt":28980,"./mt.js":28980,"./my":96895,"./my.js":96895,"./nb":15348,"./nb.js":15348,"./ne":31493,"./ne.js":31493,"./nl":34419,"./nl-be":85576,"./nl-be.js":85576,"./nl.js":34419,"./nn":46907,"./nn.js":46907,"./oc-lnc":12321,"./oc-lnc.js":12321,"./pa-in":89239,"./pa-in.js":89239,"./pl":97627,"./pl.js":97627,"./pt":15703,"./pt-br":91623,"./pt-br.js":91623,"./pt.js":15703,"./ro":22747,"./ro.js":22747,"./ru":64420,"./ru.js":64420,"./sd":52148,"./sd.js":52148,"./se":12461,"./se.js":12461,"./si":12783,"./si.js":12783,"./sk":93306,"./sk.js":93306,"./sl":341,"./sl.js":341,"./sq":8608,"./sq.js":8608,"./sr":72451,"./sr-cyrl":73371,"./sr-cyrl.js":73371,"./sr.js":72451,"./ss":8812,"./ss.js":8812,"./sv":53820,"./sv.js":53820,"./sw":43615,"./sw.js":43615,"./ta":12869,"./ta.js":12869,"./te":12044,"./te.js":12044,"./tet":65861,"./tet.js":65861,"./tg":66999,"./tg.js":66999,"./th":20926,"./th.js":20926,"./tk":97443,"./tk.js":97443,"./tl-ph":59786,"./tl-ph.js":59786,"./tlh":92812,"./tlh.js":92812,"./tr":16952,"./tr.js":16952,"./tzl":9573,"./tzl.js":9573,"./tzm":55990,"./tzm-latn":92851,"./tzm-latn.js":92851,"./tzm.js":55990,"./ug-cn":52610,"./ug-cn.js":52610,"./uk":9498,"./uk.js":9498,"./ur":83970,"./ur.js":83970,"./uz":19006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":19006,"./vi":9962,"./vi.js":9962,"./x-pseudo":68407,"./x-pseudo.js":68407,"./yo":91962,"./yo.js":91962,"./zh-cn":28909,"./zh-cn.js":28909,"./zh-hk":34014,"./zh-hk.js":34014,"./zh-mo":90996,"./zh-mo.js":90996,"./zh-tw":36327,"./zh-tw.js":36327};function a(e){var t=i(e);return l(t)}function i(e){if(!l.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=46700},37370:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNTYgMzYwIj4NCgk8cGF0aA0KCQlkPSJNNDMuNCAzMDMuNGMwIDMuOC0yLjMgNi4zLTcuMSA2LjNoLTE1di0yMmgxNC40YzQuMyAwIDYuMiAyLjIgNi4yIDUuMiAwIDIuNi0xLjUgNC40LTMuNCA1IDIuOC40IDQuOSAyLjUgNC45IDUuNXptLTgtMTNIMjQuMXY2LjlIMzVjMi4xIDAgNC0xLjMgNC0zLjggMC0yLjItMS4zLTMuMS0zLjctMy4xem01LjEgMTIuNmMwLTIuMy0xLjgtMy43LTQtMy43SDI0LjJ2Ny43aDExLjdjMy40IDAgNC42LTEuOCA0LjYtNHptMzYuMyA0djIuN0g1NnYtMjJoMjAuNnYyLjdINTguOXY2LjhoMTQuNnYyLjNINTguOXY3LjVoMTcuOXptMjMtNS44djguNUg5N3YtOC41bC0xMS0xMy40aDMuNGw4LjkgMTEgOC44LTExaDMuNGwtMTAuOCAxMy40em0xOS4xLTEuOFYyOThjMC03LjkgNS4yLTEwLjcgMTIuNy0xMC43IDcuNSAwIDEzIDIuOCAxMyAxMC43djEuNGMwIDcuOS01LjUgMTAuOC0xMyAxMC44cy0xMi43LTMtMTIuNy0xMC44em0yMi43IDBWMjk4YzAtNS43LTMuOS04LTEwLTgtNiAwLTkuOCAyLjMtOS44IDh2MS40YzAgNS44IDMuOCA4LjEgOS44IDguMSA2IDAgMTAtMi4zIDEwLTguMXptMzcuMi0xMS42djIxLjloLTIuOWwtMTUuOC0xNy45djE3LjloLTIuOHYtMjJoM2wxNS42IDE4di0xOGgyLjl6bTM3LjkgMTAuMnYxLjNjMCA3LjgtNS4yIDEwLjQtMTIuNCAxMC40SDE5M3YtMjJoMTEuMmM3LjIgMCAxMi40IDIuOCAxMi40IDEwLjN6bS0zIDBjMC01LjMtMy4zLTcuNi05LjQtNy42aC04LjRWMzA3aDguNGM2IDAgOS41LTIgOS41LTcuN1YyOTh6bTUwLjgtNy42aC05Ljd2MTkuM2gtM3YtMTkuM2gtOS43di0yLjZoMjIuNHYyLjZ6bTM0LjQtMi42djIxLjloLTN2LTEwLjFoLTE2Ljh2MTBoLTIuOHYtMjEuOGgyLjh2OS4ySDI5NnYtOS4yaDIuOXptMzQuOSAxOS4ydjIuN2gtMjAuN3YtMjJoMjAuNnYyLjdIMzE2djYuOGgxNC41djIuM0gzMTZ2Ny41aDE3Ljh6TTI0IDM0MC4ydjcuM2gxMy45djIuNGgtMTR2OS42SDIxdi0yMmgyMHYyLjdIMjR6bTQxLjUgMTEuNGgtOS44djcuOUg1M3YtMjJoMTMuM2M1LjEgMCA4IDEuOSA4IDYuOCAwIDMuNy0yIDYuMy01LjYgN2w2IDguMmgtMy4zbC01LjgtOHptLTkuOC0yLjZINjZjMy4xIDAgNS4zLTEuNSA1LjMtNC43IDAtMy4zLTIuMi00LjEtNS4zLTQuMUg1NS43djguOHptNDcuOSA2LjJIODlsLTIgNC4zaC0zLjJsMTAuNy0yMi4ySDk4bDEwLjcgMjIuMmgtMy4ybC0yLTQuM3ptLTEtMi4zbC02LjMtMTMtNiAxM2gxMi4yem00Ni4zLTE1LjN2MjEuOUgxNDZ2LTE3LjJMMTM1LjcgMzU4aC0yLjFsLTEwLjItMTUuNnYxN2gtMi44di0yMS44aDNsMTEgMTYuOSAxMS4zLTE3aDN6bTM1IDE5LjN2Mi42aC0yMC43di0yMmgyMC42djIuN0gxNjZ2Ni44aDE0LjV2Mi4zSDE2NnY3LjZoMTcuOHptNDctMTkuM2wtOC4zIDIyaC0zbC03LjEtMTguNi03IDE4LjZoLTNsLTguMi0yMmgzLjNMMjA0IDM1Nmw2LjgtMTguNWgzLjRMMjIxIDM1Nmw2LjYtMTguNWgzLjN6bTEwIDExLjZ2LTEuNGMwLTcuOCA1LjItMTAuNyAxMi43LTEwLjcgNy42IDAgMTMgMi45IDEzIDEwLjd2MS40YzAgNy45LTUuNCAxMC44LTEzIDEwLjgtNy41IDAtMTIuNy0zLTEyLjctMTAuOHptMjIuOCAwdi0xLjRjMC01LjctNC04LTEwLThzLTkuOSAyLjMtOS45IDh2MS40YzAgNS44IDMuOCA4LjIgOS44IDguMiA2LjEgMCAxMC0yLjQgMTAtOC4yem0yOC4zIDIuNGgtOS44djcuOWgtMi44di0yMmgxMy4yYzUuMiAwIDggMS45IDggNi44IDAgMy43LTIgNi4zLTUuNiA3bDYgOC4yaC0zLjNsLTUuOC04em0tOS44LTIuNmgxMC4yYzMgMCA1LjItMS41IDUuMi00LjcgMC0zLjMtMi4xLTQuMS01LjItNC4xaC0xMC4ydjguOHptNDAuMy0xLjVsLTYuOCA1LjZ2Ni40aC0yLjl2LTIyaDIuOXYxMi4zbDE1LjItMTIuMmgzLjdsLTkuOSA4LjEgMTAuMyAxMy44aC0zLjZsLTguOS0xMnoiIC8+DQoJPHBhdGggZmlsbD0iIzA1MEExNCINCgkJZD0iTTE4OC40IDcxLjdhMTAuNCAxMC40IDAgMDEtMjAuOCAwIDEwLjQgMTAuNCAwIDExMjAuOCAwek0yMjQuMiA0NWMtMi4yLTMuOS01LTcuNS04LjItMTAuN2wtMTIgN2MtMy43LTMuMi04LTUuNy0xMi42LTcuM2E0OS40IDQ5LjQgMCAwMC05LjcgMTMuOSA1OSA1OSAwIDAxNDAuMSAxNGw3LjYtNC40YTU3IDU3IDAgMDAtNS4yLTEyLjV6TTE3OCAxMjUuMWM0LjUgMCA5LS42IDEzLjQtMS43di0xNGE0MCA0MCAwIDAwMTIuNS03LjIgNDcuNyA0Ny43IDAgMDAtNy4xLTE1LjMgNTkgNTkgMCAwMS0zMi4yIDI3Ljd2OC43YzQuNCAxLjIgOC45IDEuOCAxMy40IDEuOHpNMTMxLjggNDVjLTIuMyA0LTQgOC4xLTUuMiAxMi41bDEyIDdhNDAgNDAgMCAwMDAgMTQuNGM1LjcgMS41IDExLjMgMiAxNi45IDEuNWE1OSA1OSAwIDAxLTgtNDEuN2wtNy41LTQuM2MtMy4yIDMuMi02IDYuNy04LjIgMTAuNnoiIC8+DQoJPHBhdGggZmlsbD0iIzAwQjRGRiINCgkJZD0iTTIyNC4yIDk4LjRjMi4zLTMuOSA0LTggNS4yLTEyLjRsLTEyLTdhNDAgNDAgMCAwMDAtMTQuNWMtNS43LTEuNS0xMS4zLTItMTYuOS0xLjVhNTkgNTkgMCAwMTggNDEuN2w3LjUgNC40YzMuMi0zLjIgNi02LjggOC4yLTEwLjd6bS05Mi40IDBjMi4yIDQgNSA3LjUgOC4yIDEwLjdsMTItN2E0MCA0MCAwIDAwMTIuNiA3LjNjNC00LjEgNy4zLTguOCA5LjctMTMuOGE1OSA1OSAwIDAxLTQwLTE0bC03LjcgNC40YzEuMiA0LjMgMyA4LjUgNS4yIDEyLjR6bTQ2LjItODBjLTQuNSAwLTkgLjUtMTMuNCAxLjdWMzRhNDAgNDAgMCAwMC0xMi41IDcuMmMxLjUgNS43IDQgMTAuOCA3LjEgMTUuNGE1OSA1OSAwIDAxMzIuMi0yNy43VjIwYTUzLjMgNTMuMyAwIDAwLTEzLjQtMS44eiIgLz4NCgk8cGF0aCBmaWxsPSIjMDBCNEZGIg0KCQlkPSJNMTc4IDkuMmE2Mi42IDYyLjYgMCAxMS0uMSAxMjUuMkE2Mi42IDYyLjYgMCAwMTE3OCA5LjJtMC05LjJhNzEuNyA3MS43IDAgMTAwIDE0My41QTcxLjcgNzEuNyAwIDAwMTc4IDB6IiAvPg0KCTxwYXRoIGZpbGw9IiMwNTBBMTQiDQoJCWQ9Ik05Ni42IDIxMnY0LjNjLTkuMi0uOC0xNS40LTUuOC0xNS40LTE3LjhWMTgwaDQuNnYxOC40YzAgOC42IDQgMTIuNiAxMC44IDEzLjV6bTE2LTMxLjl2MTguNGMwIDguOS00LjMgMTIuOC0xMC45IDEzLjV2NC40YzkuMi0uNyAxNS41LTUuNiAxNS41LTE4di0xOC4zaC00Ljd6TTYyLjIgMTk5di0yLjJjMC0xMi43LTguOC0xNy40LTIxLTE3LjQtMTIuMSAwLTIwLjcgNC43LTIwLjcgMTcuNHYyLjJjMCAxMi44IDguNiAxNy42IDIwLjcgMTcuNiAxLjUgMCAzLS4xIDQuNC0uM2wxMS44IDYuMiAyLTMuMy04LjItNC02LjQtMy4xYTMyIDMyIDAgMDEtMy42LjJjLTkuOCAwLTE2LTMuOS0xNi0xMy4zdi0yLjJjMC05LjMgNi4yLTEzLjEgMTYtMTMuMSA5LjkgMCAxNi4zIDMuOCAxNi4zIDEzLjF2Mi4yYzAgNS4zLTIuMSA4LjctNS42IDEwLjhsNC44IDIuNGMzLjQtMi44IDUuNS03IDUuNS0xMy4yek0xNjggMjE1LjZoNS4xTDE1NiAxNzkuN2gtNC44bDE3IDM2ek0xNDMgMjA1bDcuNC0xNS43LTIuNC01LTE1LjEgMzEuNGg1LjFsMy4zLTdoMTguM2wtMS44LTMuN0gxNDN6bTEzMy43IDEwLjdoNS4ybC0xNy4zLTM1LjloLTQuOGwxNyAzNnptLTI1LTEwLjdsNy40LTE1LjctMi40LTUtMTUuMSAzMS40aDUuMWwzLjMtN2gxOC4zbC0xLjctMy43aC0xNC44em03My44LTIuNWM2LTEuMiA5LTUuNCA5LTExLjQgMC04LTQuNS0xMC45LTEyLjktMTAuOWgtMjEuNHYzNS41aDQuNnYtMzEuM2gxNi41YzUgMCA4LjUgMS40IDguNSA2LjcgMCA1LjItMy41IDcuNy04LjUgNy43aC0xMS40djQuMWgxMC43bDkuMyAxMi44aDUuNWwtOS45LTEzLjJ6bS0xMTcuNCA5LjljLTkuNyAwLTE0LjctMi41LTE4LjYtNi4zbC0yLjIgMy44YzUuMSA1IDExIDYuNyAyMSA2LjcgMS42IDAgMy4xLS4xIDQuNi0uM2wtMS45LTRoLTN6bTE4LjQtN2MwLTYuNC00LjctOC42LTEzLjgtOS40bC0xMC4xLTFjLTYuNy0uNy05LjMtMi4yLTkuMy01LjYgMC0yLjUgMS40LTQgNC42LTVsLTEuOC0zLjhjLTQuNyAxLjQtNy41IDQuMi03LjUgOC45IDAgNS4yIDMuNCA4LjcgMTMgOS42bDExLjMgMS4yYzYuNC42IDguOSAyIDguOSA1LjQgMCAyLjctMi4xIDQuNy02IDUuOGwxLjggMy45YzUuMy0xLjYgOC45LTQuNyA4LjktMTB6bS0yMC4zLTIxLjljNy45IDAgMTMuMyAxLjggMTguMSA1LjdsMS44LTMuOWEzMCAzMCAwIDAwLTE5LjYtNS45Yy0yIDAtNCAuMS01LjcuM2wxLjkgNCAzLjUtLjJ6IiAvPg0KCTxwYXRoIGZpbGw9IiMwMEI0RkYiDQoJCWQ9Ik0uNSAyNTEuOWMyOS42LS41IDU5LjItLjggODguOC0xbDg4LjctLjMgODguNy4zIDQ0LjQuNCA0NC40LjYtNDQuNC42LTQ0LjQuNC04OC43LjMtODguNy0uM2E3OTgxIDc5ODEgMCAwMS04OC44LTF6IiAvPg0KCTxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tNTY1LjIgMzI0SC0yNTJ2MTUuOGgtMzEzLjJ6IiAvPg0KPC9zdmc+"}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,(()=>{var e=[];l.O=(t,o,a,i)=>{if(!o){var s=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],n=!0,d=0;d<o.length;d++)(!1&i||s>=i)&&Object.keys(l.O).every((e=>l.O[e](o[d])))?o.splice(d--,1):(n=!1,i<s&&(s=i));if(n){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;l.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var i=Object.create(null);l.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&a&&o;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>o[e]));return s["default"]=()=>o,l.d(i,s),i}})(),(()=>{l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,o)=>(l.f[o](e,t),t)),[]))})(),(()=>{l.u=e=>"js/"+e+"."+{39:"14c0ccac",640:"0d369a6b",862:"9170d5fa"}[e]+".js"})(),(()=>{l.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"9b69dbd4",640:"1d2cfd73",736:"d658fb31"}[e]+".css"})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";l.l=(o,a,i,s)=>{if(e[o])e[o].push(a);else{var n,d;if(void 0!==i)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var u=r[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){n=u;break}}n||(d=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",t+i),n.src=o),e[o]=[a];var m=(t,l)=>{n.onerror=n.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((e=>e(l))),t)return t(l)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),d&&document.head.appendChild(n)}}})(),(()=>{l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{l.p=""})(),(()=>{var e=(e,t,l,o)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=i=>{if(a.onerror=a.onload=null,"load"===i.type)l();else{var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=s,d.request=n,a.parentNode.removeChild(a),o(d)}};return a.onerror=a.onload=i,a.href=t,document.head.appendChild(a),a},t=(e,t)=>{for(var l=document.getElementsByTagName("link"),o=0;o<l.length;o++){var a=l[o],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){a=s[o],i=a.getAttribute("data-href");if(i===e||i===t)return a}},o=o=>new Promise(((a,i)=>{var s=l.miniCssF(o),n=l.p+s;if(t(s,n))return a();e(o,n,a,i)})),a={143:0};l.f.miniCss=(e,t)=>{var l={640:1};a[e]?t.push(a[e]):0!==a[e]&&l[e]&&t.push(a[e]=o(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))}})(),(()=>{var e={143:0};l.f.j=(t,o)=>{var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise(((l,o)=>a=e[t]=[l,o]));o.push(a[2]=i);var s=l.p+l.u(t),n=new Error,d=o=>{if(l.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,a[1](n)}};l.l(s,d,"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[s,n,d]=o,r=0;if(s.some((t=>0!==e[t]))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(d)var c=d(l)}for(t&&t(o);r<s.length;r++)i=s[r],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},o=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=l.O(void 0,[736],(()=>l(76187)));o=l.O(o)})();