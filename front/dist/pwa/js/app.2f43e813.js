(()=>{var e={1843:(e,t,l)=>{"use strict";l(702),l(8964);var o=l(1957),a=l(1947),i=l(499),n=l(9835);function s(e,t,l,o,a,i){const s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(s)}const d=(0,n.aZ)({name:"App"});var r=l(1639);const c=(0,r.Z)(d,[["render",s]]),u=c;var m=l(3340),p=l(2502);const h=(0,m.h)((()=>{const e=(0,p.WB)();return e}));var g=l(8339),b=l(7370),f=l.n(b);const v=(0,n._)("img",{alt:"Quasar logo",src:f(),style:{width:"200px",height:"200px"}},null,-1);function w(e,t,l,o,a,i){const s=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(s,{class:"flex flex-center"},{default:(0,n.w5)((()=>[v])),_:1})}const _=(0,n.aZ)({name:"IndexPage"});var y=l(9885),C=l(9984),D=l.n(C);const I=(0,r.Z)(_,[["render",w]]),x=I;D()(_,"components",{QPage:y.Z});const T={class:"row"},M={class:"col-12"},W=(0,n.Uk)("Actualizar"),V=(0,n.Uk)("Actualizar Imagen"),A=(0,n.Uk)("Eliminar"),E=(0,n._)("div",{class:"text-h6"},"Registrar Pelicula",-1),S={class:"row"},L={class:"col-3"},j={class:"col-3"},N={class:"col-3"},q={class:"col-3"},O={class:"col-3"},U={class:"col-3"},k={class:"col-3"},F={class:"col-3"},z={class:"col-3"},Z={class:"col-3"},Q={class:"col-12 text-center flex flex-center"},R={class:"col-12"},P=(0,n._)("div",{class:"text-h6"},"Modificar Pelicula",-1),Y={class:"row"},$={class:"col-3"},B={class:"col-3"},G={class:"col-3"},H={class:"col-3"},K={class:"col-3"},J={class:"col-3"},X={class:"col-3"},ee={class:"col-3"},te={class:"col-3"},le={class:"col-3"},oe={class:"col-12"},ae=(0,n._)("div",{class:"text-h6"},"Modificar imagen",-1),ie={class:"col-12 text-center flex flex-center"};function ne(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-img"),m=(0,n.up)("q-td"),p=(0,n.up)("q-item-label"),h=(0,n.up)("q-item-section"),g=(0,n.up)("q-item"),b=(0,n.up)("q-list"),f=(0,n.up)("q-btn-dropdown"),v=(0,n.up)("q-table"),w=(0,n.up)("q-space"),_=(0,n.up)("q-card-section"),y=(0,n.up)("q-select"),C=(0,n.up)("q-toggle"),D=(0,n.up)("q-uploader"),I=(0,n.up)("q-form"),x=(0,n.up)("q-card"),ne=(0,n.up)("q-dialog"),se=(0,n.up)("q-page"),de=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(se,null,{default:(0,n.w5)((()=>[(0,n._)("div",T,[(0,n._)("div",M,[(0,n.Wm)(v,{dense:"",title:"Gestionar peliculas","rows-per-page-options":[20,50,100,0],rows:i.store.movies,columns:i.movieColumns,filter:i.movieFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.movieDialog=!0)}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.movieFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.movieFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])])),_:2},1032,["props"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.movieUpdateDialog=!0,i.movie2=e.row,this.store.distributor=e.row.distributor}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[W])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.movie2=e.row}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[V])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>s.movieDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[A])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(ne,{modelValue:i.movieDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.movieDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[E,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[de]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:(0,o.iM)(s.movieCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",S,[(0,n._)("div",L,[(0,n.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.movie.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",j,[(0,n.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie.duracion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.movie.duracion=e)},null,8,["modelValue"])]),(0,n._)("div",N,[(0,n.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie.paisOrigen,"onUpdate:modelValue":t[4]||(t[4]=e=>i.movie.paisOrigen=e)},null,8,["modelValue"])]),(0,n._)("div",q,[(0,n.Wm)(y,{dense:"",outlined:"",label:"genero",modelValue:i.movie.genero,"onUpdate:modelValue":t[5]||(t[5]=e=>i.movie.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,n._)("div",O,[(0,n.Wm)(C,{modelValue:i.movie.formato,"onUpdate:modelValue":t[6]||(t[6]=e=>i.movie.formato=e),color:"green",label:i.movie.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,n._)("div",U,[(0,n.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie.sipnosis,"onUpdate:modelValue":t[7]||(t[7]=e=>i.movie.sipnosis=e)},null,8,["modelValue"])]),(0,n._)("div",k,[(0,n.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie.urlTrailer,"onUpdate:modelValue":t[8]||(t[8]=e=>i.movie.urlTrailer=e)},null,8,["modelValue"])]),(0,n._)("div",F,[(0,n.Wm)(y,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie.clasificacion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.movie.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,n._)("div",z,[(0,n.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie.fechaEstreno,"onUpdate:modelValue":t[10]||(t[10]=e=>i.movie.fechaEstreno=e)},null,8,["modelValue"])]),(0,n._)("div",Z,[(0,n.Wm)(y,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[11]||(t[11]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,n._)("div",Q,[(0,n.Wm)(D,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",R,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(ne,{modelValue:i.movieUpdateDialog,"onUpdate:modelValue":t[23]||(t[23]=e=>i.movieUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[P,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[de]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:(0,o.iM)(s.movieUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Y,[(0,n._)("div",$,[(0,n.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie2.nombre,"onUpdate:modelValue":t[13]||(t[13]=e=>i.movie2.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",B,[(0,n.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie2.duracion,"onUpdate:modelValue":t[14]||(t[14]=e=>i.movie2.duracion=e)},null,8,["modelValue"])]),(0,n._)("div",G,[(0,n.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie2.paisOrigen,"onUpdate:modelValue":t[15]||(t[15]=e=>i.movie2.paisOrigen=e)},null,8,["modelValue"])]),(0,n._)("div",H,[(0,n.Wm)(y,{dense:"",outlined:"",label:"genero",modelValue:i.movie2.genero,"onUpdate:modelValue":t[16]||(t[16]=e=>i.movie2.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,n._)("div",K,[(0,n.Wm)(C,{modelValue:i.movie2.formato,"onUpdate:modelValue":t[17]||(t[17]=e=>i.movie2.formato=e),color:"green",label:i.movie2.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,n._)("div",J,[(0,n.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie2.sipnosis,"onUpdate:modelValue":t[18]||(t[18]=e=>i.movie2.sipnosis=e)},null,8,["modelValue"])]),(0,n._)("div",X,[(0,n.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie2.urlTrailer,"onUpdate:modelValue":t[19]||(t[19]=e=>i.movie2.urlTrailer=e)},null,8,["modelValue"])]),(0,n._)("div",ee,[(0,n.Wm)(y,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie2.clasificacion,"onUpdate:modelValue":t[20]||(t[20]=e=>i.movie2.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,n._)("div",te,[(0,n.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie2.fechaEstreno,"onUpdate:modelValue":t[21]||(t[21]=e=>i.movie2.fechaEstreno=e)},null,8,["modelValue"])]),(0,n._)("div",le,[(0,n.Wm)(y,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[22]||(t[22]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,n._)("div",oe,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(ne,{modelValue:i.dialog_img,"onUpdate:modelValue":t[24]||(t[24]=e=>i.dialog_img=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,n.w5)((()=>[ae])),_:1}),(0,n.Wm)(_,{class:"q-pt-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:s.onModImagen,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n._)("div",ie,[(0,n.Wm)(D,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",null,[(0,n.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,n.wy)((0,n.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[de]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var se=l(3285),de=l(4376);const re={name:"Peliculas",data(){return{loading:!1,movieFilter:"",url:"https://bplaza.miganancia.cf/api/",dialog_img:!1,movie:{clasificacion:"+13",formato:"2D",genero:"Accion",fechaEstreno:de.ZP.formatDate(new Date,"YYYY-MM-DD")},movie2:{},movieDialog:!1,movieUpdateDialog:!1,store:(0,se.c)(),foto:"",movieColumns:[{label:"opciones",field:"opciones",name:"opciones"},{label:"nombre",field:"nombre",name:"nombre",sortable:!0},{label:"duracion",field:"duracion",name:"duracion",sortable:!0},{label:"paisOrigen",field:"paisOrigen",name:"paisOrigen",sortable:!0},{label:"genero",field:"genero",name:"genero",sortable:!0},{label:"formato",field:"formato",name:"formato",sortable:!0},{label:"clasificacion",field:"clasificacion",name:"clasificacion",sortable:!0},{label:"fechaEstreno",field:"fechaEstreno",name:"fechaEstreno",sortable:!0},{label:"Imagen",field:"imagen",name:"imagen",sortable:!0},{label:"distributor_id",field:e=>e.distributor.nombre,name:"distributor_id",sortable:!0}]}},created(){this.store.movieSingleTon||(this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()}))),this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.store.distributor=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.movie2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenmovie",this.movie2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.movie2={},this.foto="";let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},movieCreate(){this.movie.imagen=this.foto,this.loading=!0,this.movie.distributor_id=this.store.distributor.id,this.$api.post("movie",this.movie).then((e=>{this.loading=!1,this.store.movies.push(e.data),this.foto="",this.movieDialog=!1,this.movie={clasificacion:"+13",formmato:"2D",genero:"Accion",fechaEstreno:de.ZP.formatDate(new Date,"YYYY-MM-DD")}}))},movieUpdate(){this.$q.loading.show(),this.$api.put("movie/"+this.movie2.id,this.movie2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.movie2={};let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.movieUpdateDialog=!1}))},movieDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("movie/"+e).then((e=>{this.store.movies.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}};var ce=l(7580),ue=l(8879),me=l(6611),pe=l(2857),he=l(7220),ge=l(335),be=l(8479),fe=l(3246),ve=l(490),we=l(1233),_e=l(3115),ye=l(2074),Ce=l(4458),De=l(3190),Ie=l(136),xe=l(8326),Te=l(6384),Me=l(3175),We=l(7534),Ve=l(2146);const Ae=(0,r.Z)(re,[["render",ne]]),Ee=Ae;D()(re,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z,QToggle:Me.Z,QUploader:We.Z}),D()(re,"directives",{ClosePopup:Ve.Z});const Se={class:"row"},Le={class:"col-12"},je=(0,n.Uk)("Actualizar"),Ne=(0,n.Uk)("Eliminar"),qe=(0,n._)("div",{class:"text-h6"},"Registrar Distribuidor",-1),Oe={class:"row"},Ue={class:"col-3"},ke={class:"col-3"},Fe={class:"col-3"},ze={class:"col-3"},Ze={class:"col-3"},Qe={class:"col-3"},Re={class:"col-3"},Pe={class:"col-12"},Ye=(0,n._)("div",{class:"text-h6"},"Modificar Distribuidor",-1),$e={class:"row"},Be={class:"col-3"},Ge={class:"col-3"},He={class:"col-3"},Ke={class:"col-3"},Je={class:"col-3"},Xe={class:"col-3"},et={class:"col-3"},tt={class:"col-12"};function lt(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-item-label"),m=(0,n.up)("q-item-section"),p=(0,n.up)("q-item"),h=(0,n.up)("q-list"),g=(0,n.up)("q-btn-dropdown"),b=(0,n.up)("q-td"),f=(0,n.up)("q-table"),v=(0,n.up)("q-space"),w=(0,n.up)("q-card-section"),_=(0,n.up)("q-form"),y=(0,n.up)("q-card"),C=(0,n.up)("q-dialog"),D=(0,n.up)("q-page"),I=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",Se,[(0,n._)("div",Le,[(0,n.Wm)(f,{dense:"",title:"Gestionar Distribuidor","rows-per-page-options":[0],rows:i.store.distributors,columns:i.distributorColumns,filter:i.distributorFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.distributorDialog=!0)}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.distributorFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.distributorFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(b,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>{i.distributorUpdateDialog=!0,i.distributor2=e.row,this.store.distributor=e.row.distributor}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[je])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>s.distributorDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[Ne])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(C,{modelValue:i.distributorDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>i.distributorDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[qe,(0,n.Wm)(v),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{onSubmit:(0,o.iM)(s.distributorCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Oe,[(0,n._)("div",Ue,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.distributor.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",ke,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor.dir,"onUpdate:modelValue":t[3]||(t[3]=e=>i.distributor.dir=e)},null,8,["modelValue"])]),(0,n._)("div",Fe,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor.loc,"onUpdate:modelValue":t[4]||(t[4]=e=>i.distributor.loc=e)},null,8,["modelValue"])]),(0,n._)("div",ze,[(0,n.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor.nit,"onUpdate:modelValue":t[5]||(t[5]=e=>i.distributor.nit=e)},null,8,["modelValue"])]),(0,n._)("div",Ze,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor.tel,"onUpdate:modelValue":t[6]||(t[6]=e=>i.distributor.tel=e)},null,8,["modelValue"])]),(0,n._)("div",Qe,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.distributor.email=e)},null,8,["modelValue"])]),(0,n._)("div",Re,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor.responsable,"onUpdate:modelValue":t[8]||(t[8]=e=>i.distributor.responsable=e)},null,8,["modelValue"])]),(0,n._)("div",Pe,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(C,{modelValue:i.distributorUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>i.distributorUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Ye,(0,n.Wm)(v),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{onSubmit:(0,o.iM)(s.distributorUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",$e,[(0,n._)("div",Be,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor2.nombre,"onUpdate:modelValue":t[10]||(t[10]=e=>i.distributor2.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",Ge,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor2.dir,"onUpdate:modelValue":t[11]||(t[11]=e=>i.distributor2.dir=e)},null,8,["modelValue"])]),(0,n._)("div",He,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor2.loc,"onUpdate:modelValue":t[12]||(t[12]=e=>i.distributor2.loc=e)},null,8,["modelValue"])]),(0,n._)("div",Ke,[(0,n.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor2.nit,"onUpdate:modelValue":t[13]||(t[13]=e=>i.distributor2.nit=e)},null,8,["modelValue"])]),(0,n._)("div",Je,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor2.tel,"onUpdate:modelValue":t[14]||(t[14]=e=>i.distributor2.tel=e)},null,8,["modelValue"])]),(0,n._)("div",Xe,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor2.email,"onUpdate:modelValue":t[15]||(t[15]=e=>i.distributor2.email=e)},null,8,["modelValue"])]),(0,n._)("div",et,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor2.responsable,"onUpdate:modelValue":t[16]||(t[16]=e=>i.distributor2.responsable=e)},null,8,["modelValue"])]),(0,n._)("div",tt,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ot={name:"Distribuidores",data(){return{loading:!1,distributorFilter:"",distributor:{},distributor2:{},distributorDialog:!1,distributorUpdateDialog:!1,store:(0,se.c)(),distributorColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DIRECCION",field:"dir",name:"dir",sortable:!0},{label:"LOCALIZACION",field:"loc",name:"loc",sortable:!0},{label:"NIT",field:"nit",name:"nit",sortable:!0},{label:"TELEFONO",field:"tel",name:"tel",sortable:!0},{label:"EMAIL",field:"email",name:"email",sortable:!0},{label:"RESPONSABLE",field:"responsable",name:"responsable",sortable:!0}]}},created(){this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.$q.loading.hide()})))},methods:{distributorCreate(){this.loading=!0,this.$api.post("distributor",this.distributor).then((e=>{this.loading=!1,this.store.distributors.push(e.data),this.distributorDialog=!1}))},distributorUpdate(){this.$q.loading.show(),this.$api.put("distributor/"+this.distributor2.id,this.distributor2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.distributor2={};let t=this.store.distributors.findIndex((t=>t.id==e.data.id));this.store.distributors[t]=e.data,this.distributorUpdateDialog=!1}))},distributorDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("distributor/"+e).then((e=>{this.store.distributors.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}},at=(0,r.Z)(ot,[["render",lt]]),it=at;D()(ot,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z}),D()(ot,"directives",{ClosePopup:Ve.Z});const nt={class:"row"},st={class:"col-12"},dt=(0,n._)("div",{class:"text-h6"},"Registrar Cuis",-1),rt={class:"row"},ct={class:"col-12"},ut={class:"col-12 flex flex-center"};function mt(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-table"),m=(0,n.up)("q-space"),p=(0,n.up)("q-card-section"),h=(0,n.up)("q-select"),g=(0,n.up)("q-form"),b=(0,n.up)("q-card"),f=(0,n.up)("q-dialog"),v=(0,n.up)("q-page"),w=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(v,null,{default:(0,n.w5)((()=>[(0,n._)("div",nt,[(0,n._)("div",st,[(0,n.Wm)(u,{rows:i.cuis,dense:"",title:"Gestionar cuis",columns:i.cuisColums,"rows-per-page-options":[0]},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cuiFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns"])])]),(0,n.Wm)(f,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cuiDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[dt,(0,n.Wm)(m),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[w]])])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,{onSubmit:(0,o.iM)(s.cuiCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",rt,[(0,n._)("div",ct,[(0,n.Wm)(h,{options:[0,1],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,n._)("div",ut,[(0,n.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const pt={name:"Cuis",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.getCuis()},methods:{getCuis(){this.loading=!0,this.$api.get("cui").then((e=>{this.loading=!1,this.cuis=e.data}))},cuiCreate(){this.loading=!0,this.$api.post("cui",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.getCuis(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},ht=(0,r.Z)(pt,[["render",mt]]),gt=ht;D()(pt,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z}),D()(pt,"directives",{ClosePopup:Ve.Z});const bt={class:"row"},ft={class:"col-12"},vt={class:"col-12"},wt={class:"col-12"},_t={class:"col-12"},yt={class:"col-12"},Ct={class:"col-12"},Dt={class:"col-12"},It={class:"col-12"},xt={class:"col-12"},Tt={class:"col-12"},Mt={class:"col-12"},Wt=(0,n._)("div",{class:"text-h6"},"Registrar Sincronizacion",-1),Vt={class:"row"},At={class:"col-12 flex flex-center"};function Et(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-table"),c=(0,n.up)("q-space"),u=(0,n.up)("q-card-section"),m=(0,n.up)("q-form"),p=(0,n.up)("q-card"),h=(0,n.up)("q-dialog"),g=(0,n.up)("q-page"),b=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(g,null,{default:(0,n.w5)((()=>[(0,n._)("div",bt,[(0,n._)("div",ft,[(0,n.Wm)(d,{class:"q-mt-xs full-width",color:"green",icon:"add_circle",label:"Sincronizar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"])]),(0,n._)("div",vt,[(0,n.Wm)(r,{rows:i.activities,dense:"",title:"Actividades"},null,8,["rows"])]),(0,n._)("div",wt,[(0,n.Wm)(r,{rows:i.documents,dense:"",title:"Documentos"},null,8,["rows"])]),(0,n._)("div",_t,[(0,n.Wm)(r,{rows:i.documentsectors,dense:"",title:"Documento Sector"},null,8,["rows"])]),(0,n._)("div",yt,[(0,n.Wm)(r,{rows:i.events,dense:"",title:"Eventos"},null,8,["rows"])]),(0,n._)("div",Ct,[(0,n.Wm)(r,{rows:i.leyendas,dense:"",title:"Leyendas"},null,8,["rows"])]),(0,n._)("div",Dt,[(0,n.Wm)(r,{rows:i.medidas,dense:"",title:"Medidas"},null,8,["rows"])]),(0,n._)("div",It,[(0,n.Wm)(r,{rows:i.messages,dense:"",title:"Mensajes"},null,8,["rows"])]),(0,n._)("div",xt,[(0,n.Wm)(r,{rows:i.sectors,dense:"",title:"Sectores"},null,8,["rows"])]),(0,n._)("div",Tt,[(0,n.Wm)(r,{rows:i.servicios,dense:"",title:"Servicios"},null,8,["rows"])]),(0,n._)("div",Mt,[(0,n.Wm)(r,{rows:i.tipopagos,dense:"",title:"Tipo Pagos"},null,8,["rows"])])]),(0,n.Wm)(h,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Wt,(0,n.Wm)(c),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{onSubmit:(0,o.iM)(s.activityCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Vt,[(0,n._)("div",At,[(0,n.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Sincronizar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const St={name:"Sincronizacion",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",activities:[],documents:[],documentsectors:[],events:[],leyendas:[],medidas:[],messages:[],motivos:[],sectors:[],servicios:[],tipopagos:[],cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.datosGet()},methods:{datosGet(){this.loading=!0,this.$api.get("activity").then((e=>{this.loading=!1,this.activities=e.data.activities,this.documents=e.data.documents,this.documentsectors=e.data.documentsectors,this.events=e.data.events,this.leyendas=e.data.leyendas,this.medidas=e.data.medidas,this.messages=e.data.messages,this.motivos=e.data.motivos,this.sectors=e.data.sectors,this.servicios=e.data.servicios,this.tipopagos=e.data.tipopagos}))},activityCreate(){this.loading=!0,this.$api.post("activity",this.cui).then((e=>{this.datosGet(),this.loading=!1,this.cuiDialog=!1,this.$q.notify({color:"positive",message:"Registro creado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},Lt=(0,r.Z)(St,[["render",Et]]),jt=Lt;D()(St,"components",{QPage:y.Z,QBtn:ue.Z,QTable:ce.Z,QInput:me.Z,QIcon:pe.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z}),D()(St,"directives",{ClosePopup:Ve.Z});var Nt=l(6970);const qt=e=>((0,n.dD)("data-v-6bd9df8d"),e=e(),(0,n.Cn)(),e),Ot={class:"row"},Ut={class:"col-12"},kt=(0,n.Uk)("Actualizar"),Ft=(0,n.Uk)("Eliminar"),zt=qt((()=>(0,n._)("div",{class:"text-h6"}," Registrar Sala ",-1))),Zt={class:"text-h6 text-grey"},Qt={class:"row"},Rt={class:"col-3"},Pt={class:"col-3"},Yt={class:"col-3"},$t={class:"col-3"},Bt={class:"col-12"},Gt=qt((()=>(0,n._)("th",null,null,-1))),Ht=["onClick"],Kt={class:"col-12"},Jt=qt((()=>(0,n._)("div",{class:"text-h6"},"Modificar Sala",-1))),Xt={class:"row"},el={class:"col-3"},tl={class:"col-3"},ll={class:"col-3"},ol={class:"col-3"},al={class:"col-12"},il=qt((()=>(0,n._)("th",null,null,-1))),nl=["onClick"],sl={class:"col-12"};function dl(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-item-label"),m=(0,n.up)("q-item-section"),p=(0,n.up)("q-item"),h=(0,n.up)("q-list"),g=(0,n.up)("q-btn-dropdown"),b=(0,n.up)("q-td"),f=(0,n.up)("q-table"),v=(0,n.up)("q-space"),w=(0,n.up)("q-card-section"),_=(0,n.up)("q-badge"),y=(0,n.up)("q-form"),C=(0,n.up)("q-card"),D=(0,n.up)("q-dialog"),I=(0,n.up)("q-page"),x=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(I,null,{default:(0,n.w5)((()=>[(0,n._)("div",Ot,[(0,n._)("div",Ut,[(0,n.Wm)(f,{dense:"",title:"Gestionar Salas","rows-per-page-options":[0],rows:i.store.salas,columns:i.salaColumns,filter:i.salaFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>{i.salaDialog=!0,i.columnas=1,i.filas=1,s.tablacine()})}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.salaFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.salaFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(b,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>{i.salaUpdateDialog=!0,i.sala2=e.row,i.columnas=e.row.columnas,i.filas=e.row.filas,i.asientos=e.row.seats}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[kt])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>s.salaDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[Ft])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(D,{modelValue:i.salaDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.salaDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row q-pb-none"},{default:(0,n.w5)((()=>[zt,(0,n.Wm)(v),(0,n._)("div",Zt,"Capacidad: "+(0,Nt.zw)(s.total),1),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onSubmit:(0,o.iM)(s.salaCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Qt,[(0,n._)("div",Rt,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala.nro,"onUpdate:modelValue":t[2]||(t[2]=e=>i.sala.nro=e),type:"number"},null,8,["modelValue"])]),(0,n._)("div",Pt,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala.nombre,"onUpdate:modelValue":t[3]||(t[3]=e=>i.sala.nombre=e),required:""},null,8,["modelValue"])]),(0,n._)("div",Yt,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[4]||(t[4]=e=>i.filas=e),onChange:s.tablacine},null,8,["modelValue","onChange"])]),(0,n._)("div",$t,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[5]||(t[5]=e=>i.columnas=e),onChange:s.tablacine},null,8,["modelValue","onChange"])]),(0,n._)("div",Bt,[(0,n._)("table",null,[(0,n._)("thead",null,[(0,n._)("tr",null,[Gt,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.columnas),((e,t)=>((0,n.wg)(),(0,n.iD)("th",{key:t},(0,Nt.zw)(i.columnas-e+1),1)))),128))])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.filas),((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("th",null,(0,Nt.zw)(i.letra[t+1]),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.columnas),((l,o)=>((0,n.wg)(),(0,n.iD)("td",{onClick:t=>s.cambio(e,l),key:o,class:"text-center tdx"},[(0,n.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==i.asientos[i.columnas*(e-1)+(l-1)]["activo"]?"green-6":"grey-9"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{color:"primary",floating:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Nt.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,Ht)))),128))])))),128))])])]),(0,n._)("div",Kt,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(D,{modelValue:i.salaUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.salaUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Jt,(0,n.Wm)(v),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onSubmit:(0,o.iM)(s.salaUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Xt,[(0,n._)("div",el,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala2.nro,"onUpdate:modelValue":t[7]||(t[7]=e=>i.sala2.nro=e),type:"number"},null,8,["modelValue"])]),(0,n._)("div",tl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala2.nombre,"onUpdate:modelValue":t[8]||(t[8]=e=>i.sala2.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",ll,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[9]||(t[9]=e=>i.filas=e),readonly:"",onChange:s.tablacine},null,8,["modelValue","onChange"])]),(0,n._)("div",ol,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[10]||(t[10]=e=>i.columnas=e),readonlysa:"",onChange:s.tablacine},null,8,["modelValue","onChange"])]),(0,n._)("div",al,[(0,n._)("table",null,[(0,n._)("thead",null,[(0,n._)("tr",null,[il,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.columnas),((e,t)=>((0,n.wg)(),(0,n.iD)("th",{key:t},(0,Nt.zw)(i.columnas-e+1),1)))),128))])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.filas),((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("th",null,(0,Nt.zw)(i.letra[t+1]),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.columnas),((l,o)=>((0,n.wg)(),(0,n.iD)("td",{onClick:t=>s.cambio(e,l),key:o,class:"text-center tdx"},[(0,n.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==s.valorindice(l,e)?"green-6":"grey-9"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{color:"primary",floating:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Nt.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,nl)))),128))])))),128))])])]),(0,n._)("div",sl,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const rl={name:"Salas",data(){return{contador:0,loading:!1,salaFilter:"",filas:5,columnas:5,colnuminv:[],ingresar:0,sala:{},sala2:{},salaDialog:!1,salaUpdateDialog:!1,store:(0,se.c)(),asientos:[],seat:{fila:0,columna:0,letra:"",activo:""},letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],salaColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NRO",field:"nro",name:"nro",sortable:!0},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"FILAS",field:"filas",name:"filas",sortable:!0},{label:"COLUMNAS",field:"columnas",name:"columnas",sortable:!0},{label:"CAPACIDAD",field:"capacidad",name:"capacidad",sortable:!0}]}},created(){this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.tablacine()},methods:{valorindice(e,t){return this.asientos[this.columnas*(t-1)+(e-1)].activo},cambio(e,t){let l=this.columnas*(e-1)+(t-1);this.asientos[l].activo="ACTIVO"==this.asientos[l].activo?"INACTIVO":"ACTIVO"},cargarimagen(e){return"ACTIVO"==e.activo?"../assets/img/1.png":"../assets/img/0.png"},activar(e){this.asientos.forEach((function(t){t.fila==e.fila&&t.columna==e.columna&&("ACTIVO"==t.activo?t.activo="INACTIVO":t.activo="ACTIVO")}))},invertir(){this.colnuminv=[];for(let e=parseInt(this.columnas);e>=1;e--)console.log(e),this.colnuminv.push(e);console.log(this.columnas),this.tablacine()},tablacine(){if(""!=this.filas&&void 0!=this.filas||(this.filas=1),""!=this.columnas&&void 0!=this.columnas||(this.columnas=1),this.asientos=[],this.filas>0&&this.columnas>0)for(let e=1;e<=this.filas;e++)for(let t=this.columnas;t>=1;t--)this.asientos.push({fila:parseInt(e),columna:parseInt(t),letra:this.letra[e],activo:"ACTIVO"})},salaCreate(){return""!=this.sala.nombre&&void 0!=this.sala.nombre&&(""!=this.filas&&void 0!=this.filas&&0!=this.filas&&(""!=this.columnas&&void 0!=this.columnas&&0!=this.columnas&&(this.sala.filas=parseInt(this.filas),this.sala.columnas=parseInt(this.columnas),this.sala.capacidad=this.total,this.sala.seats=this.asientos,this.loading=!0,void this.$api.post("sala",this.sala).then((e=>{this.loading=!1,this.store.salas.push(e.data),this.salaDialog=!1})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3}),this.loading=!1})))))},salaUpdate(){this.sala2.seats=this.asientos,this.$q.loading.show(),this.$api.put("sala/"+this.sala2.id,this.sala2).then((e=>{this.$q.loading.hide(),this.sala2={};let t=this.store.salas.findIndex((t=>t.id==e.data.id));this.store.salas[t]=e.data,this.salaUpdateDialog=!1}))},salaDelete(e,t){this.$q.dialog({title:"Eliminar Sala",message:"¿Esta seguro de eliminar la sala?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("sala/"+e).then((e=>{this.store.salas.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Sala eliminada",color:"positive",icon:"done"})}))}))}},computed:{total(){let e=0;return this.asientos.forEach((function(t){"ACTIVO"==t.activo&&e++})),e}}};var cl=l(990);const ul=(0,r.Z)(rl,[["render",dl],["__scopeId","data-v-6bd9df8d"]]),ml=ul;D()(rl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QBadge:cl.Z}),D()(rl,"directives",{ClosePopup:Ve.Z});const pl={class:"row"},hl={class:"col-12"},gl=(0,n.Uk)("Actualizar"),bl=(0,n.Uk)("Eliminar"),fl=(0,n._)("div",{class:"text-h6"},"Registrar Tarifa",-1),vl={class:"row"},wl={class:"col-3"},_l={class:"col-3"},yl={class:"col-3"},Cl={class:"col-3"},Dl={class:"col-12"},Il=(0,n._)("div",{class:"text-h6"},"Modificar Tarifa",-1),xl={class:"row"},Tl={class:"col-3"},Ml={class:"col-3"},Wl={class:"col-3"},Vl={class:"col-3"},Al={class:"col-12"};function El(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-item-label"),m=(0,n.up)("q-item-section"),p=(0,n.up)("q-item"),h=(0,n.up)("q-list"),g=(0,n.up)("q-btn-dropdown"),b=(0,n.up)("q-td"),f=(0,n.up)("q-table"),v=(0,n.up)("q-space"),w=(0,n.up)("q-card-section"),_=(0,n.up)("q-toggle"),y=(0,n.up)("q-form"),C=(0,n.up)("q-card"),D=(0,n.up)("q-dialog"),I=(0,n.up)("q-page"),x=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(I,null,{default:(0,n.w5)((()=>[(0,n._)("div",pl,[(0,n._)("div",hl,[(0,n.Wm)(f,{dense:"",title:"Gestionar Tarifas","rows-per-page-options":[100,50,20,0],rows:i.store.prices,columns:i.priceColumns,filter:i.priceFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.priceDialog=!0)}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.priceFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.priceFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(b,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>{i.priceUpdateDialog=!0,i.price2=e.row,this.store.price=e.row.price}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[gl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{clickable:"",onClick:t=>s.priceDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[bl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(D,{modelValue:i.priceDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.priceDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[fl,(0,n.Wm)(v),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onSubmit:(0,o.iM)(s.priceCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",vl,[(0,n._)("div",wl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price.serie,"onUpdate:modelValue":t[2]||(t[2]=e=>i.price.serie=e)},null,8,["modelValue"])]),(0,n._)("div",_l,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price.precio,"onUpdate:modelValue":t[3]||(t[3]=e=>i.price.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,n._)("div",yl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price.descripcion,"onUpdate:modelValue":t[4]||(t[4]=e=>i.price.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",Cl,[(0,n.Wm)(_,{"false-value":"NO",label:"Promo "+i.price.promo,"true-value":"SI",color:"green",modelValue:i.price.promo,"onUpdate:modelValue":t[5]||(t[5]=e=>i.price.promo=e)},null,8,["label","modelValue"])]),(0,n._)("div",Dl,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(D,{modelValue:i.priceUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.priceUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Il,(0,n.Wm)(v),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onSubmit:(0,o.iM)(s.priceUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",xl,[(0,n._)("div",Tl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price2.serie,"onUpdate:modelValue":t[7]||(t[7]=e=>i.price2.serie=e)},null,8,["modelValue"])]),(0,n._)("div",Ml,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price2.precio,"onUpdate:modelValue":t[8]||(t[8]=e=>i.price2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,n._)("div",Wl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price2.descripcion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.price2.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",Vl,[(0,n.Wm)(_,{"false-value":"NO",label:"Promo "+i.price2.promo,"true-value":"SI",color:"green",modelValue:i.price2.promo,"onUpdate:modelValue":t[10]||(t[10]=e=>i.price2.promo=e)},null,8,["label","modelValue"])]),(0,n._)("div",Al,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Sl={name:"Distribuidores",data(){return{loading:!1,priceFilter:"",price:{promo:"NO"},price2:{},priceDialog:!1,priceUpdateDialog:!1,store:(0,se.c)(),priceColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"SERIE",field:"serie",name:"serie",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"PROMO",field:"promo",name:"promo",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion"}]}},created(){this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()})))},methods:{priceCreate(){this.loading=!0,this.$api.post("price",this.price).then((e=>{this.loading=!1,this.store.prices.push(e.data),this.priceDialog=!1}))},priceUpdate(){this.$q.loading.show(),this.$api.put("price/"+this.price2.id,this.price2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.price2={};let t=this.store.prices.findIndex((t=>t.id==e.data.id));this.store.prices[t]=e.data,this.priceUpdateDialog=!1}))},priceDelete(e,t){this.$q.dialog({title:"Eliminar Tarifa",message:"¿Esta seguro de eliminar la Tarifa?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("price/"+e).then((e=>{this.store.prices.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Tarifa eliminada",color:"positive",icon:"done"})}))}))}}},Ll=(0,r.Z)(Sl,[["render",El]]),jl=Ll;D()(Sl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QToggle:Me.Z}),D()(Sl,"directives",{ClosePopup:Ve.Z});const Nl={class:"row"},ql={class:"col-12"},Ol=(0,n._)("div",{class:"text-h6"},"Registrar Cufd",-1),Ul={class:"row"},kl={class:"col-12"},Fl={class:"col-12 flex flex-center"},zl=(0,n._)("div",{class:"text-h6"},"Registrar evento significativo",-1),Zl={class:"row"},Ql={class:"col-12"},Rl={class:"col-12"},Pl={class:"col-12"},Yl={class:"col-12 flex flex-center"};function $l(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-td"),m=(0,n.up)("q-table"),p=(0,n.up)("q-space"),h=(0,n.up)("q-card-section"),g=(0,n.up)("q-select"),b=(0,n.up)("q-form"),f=(0,n.up)("q-card"),v=(0,n.up)("q-dialog"),w=(0,n.up)("q-page"),_=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(w,null,{default:(0,n.w5)((()=>[(0,n._)("div",Nl,[(0,n._)("div",ql,[(0,n.Wm)(m,{rows:i.cufds,dense:"",title:"Gestionar cufd",columns:i.cufdsColums,"rows-per-page-options":[0],filter:i.cudfFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cudfFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cudfFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-Opciones":(0,n.w5)((e=>[(0,n.Wm)(u,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{size:"10px",icon:"add_circle_outline",onClick:t=>s.eventoSignificativoClick(e.row),color:"primary",label:"Evento significativo","no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),"body-cell-sales":(0,n.w5)((e=>[(0,n.Wm)(u,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Nt.zw)(e.row.sales.length),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(v,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cuiDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Ol,(0,n.Wm)(p),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[_]])])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{onSubmit:(0,o.iM)(s.cuiCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Ul,[(0,n._)("div",kl,[(0,n.Wm)(g,{options:[0,1],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,n._)("div",Fl,[(0,n.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(v,{modelValue:i.eventoSignificativoDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>i.eventoSignificativoDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[zl,(0,n.Wm)(p),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[_]])])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{onSubmit:(0,o.iM)(s.eventoSignificativoCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Zl,[(0,n._)("div",Ql,[(0,n.Wm)(g,{options:i.events,dense:"",outlined:"",label:"codigoMotivoEvento",modelValue:i.event,"onUpdate:modelValue":t[4]||(t[4]=e=>i.event=e)},null,8,["options","modelValue"])]),(0,n._)("div",Rl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"fechaHoraInicioEvento",modelValue:i.fechaHoraInicioEvento,"onUpdate:modelValue":t[5]||(t[5]=e=>i.fechaHoraInicioEvento=e)},null,8,["modelValue"])]),(0,n._)("div",Pl,[(0,n.Wm)(c,{dense:"",outlined:"",label:"fechaHoraFinEvento",modelValue:i.fechaHoraFinEvento,"onUpdate:modelValue":t[6]||(t[6]=e=>i.fechaHoraFinEvento=e)},null,8,["modelValue"])]),(0,n._)("div",Yl,[(0,n.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Crear evento significativo"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Bl={name:"Cuis",data(){return{loading:!1,eventoSignificativoDialog:!1,fechaHoraInicioEvento:de.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),fechaHoraFinEvento:de.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),cufd:{},cufdEvento:{},cufds:[],events:[],event:{},cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cudfFilter:"",cufdsColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"sales",label:"sales",field:"sales",sortable:!0},{name:"fechaCreacion",label:"fechaCreacion",field:"fechaCreacion",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"codigoControl",label:"codigoControl",field:"codigoControl",sortable:!0}]}},created(){this.cufdGet(),this.$api.get("event").then((e=>{e.data.forEach((e=>{e.label=e.codigoClasificador+" "+e.descripcion})),this.events=e.data,this.event=this.events[0]}))},methods:{eventoSignificativoClick(e){this.eventoSignificativoDialog=!0,this.cufdEvento=e,this.fechaHoraInicioEvento=this.cufdEvento.fechaCreacion,this.fechaHoraFinEvento=this.cufdEvento.fechaVigencia},cufdGet(){this.loading=!0,this.$api.get("cufd").then((e=>{e.data.forEach((e=>{e.label="Punto venta"+e.codigoPuntoVenta+" ID:"+e.id+" Fecha:"+e.fechaCreacion+"-"+e.fechaVigencia})),this.loading=!1,this.cufds=e.data}))},cuiCreate(){this.loading=!0,this.$api.post("cufd",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.cufdGet(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))},eventoSignificativoCreate(){this.loading=!0,this.$api.post("eventoSignificativo",{codigoPuntoVenta:this.cufdEvento.codigoPuntoVenta,codigoSucursal:this.cufdEvento.codigoSucursal,fechaHoraFinEvento:this.fechaHoraFinEvento,fechaHoraInicioEvento:this.fechaHoraInicioEvento,codigoMotivoEvento:this.event.codigoClasificador,descripcion:this.event.descripcion,cufdEvento:this.cufdEvento.codigo,cufdEventoId:this.cufdEvento.id}).then((e=>{this.loading=!1,this.cuiDialog=!1,this.eventoSignificativoDialog=!1,this.$q.notify({color:"positive",message:"Evento significativo  registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},Gl=(0,r.Z)(Bl,[["render",$l]]),Hl=Gl;D()(Bl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z}),D()(Bl,"directives",{ClosePopup:Ve.Z});const Kl={class:"row q-pa-xs"},Jl={class:"col-12"},Xl=(0,n._)("div",{class:"text-h5"},"PROGRAMACION DE FUNCIONES",-1),eo={class:"col-12"},to={class:"row"},lo={class:"col q-ma-xs"},oo=(0,n._)("div",{class:"text-h6"},"REGISTRAR DE FUNCION PELICULA",-1),ao={class:"row"},io=(0,n._)("div",{class:"col-12"},null,-1),no={class:"col-4"},so=(0,n.Uk)(" No results "),ro={class:"col-4"},co=(0,n.Uk)(" No results "),uo={class:"col-4"},mo=(0,n.Uk)(" No results "),po={class:"col-4"},ho={class:"col-4"},go={class:"col-4"},bo={class:"col-4"},fo=(0,n._)("div",{class:"text-h6"},"MODIFICAR FUNCION",-1),vo={class:"row"},wo={class:"col-4"},_o=(0,n.Uk)(" No results "),yo={class:"col-4"},Co=(0,n.Uk)(" No results "),Do={class:"col-4"},Io=(0,n.Uk)(" No results "),xo={class:"col-6"},To={class:"col-6"},Mo={class:"col-4"},Wo={class:"col-4"};function Vo(e,t,l,o,a,i){const s=(0,n.up)("q-btn"),d=(0,n.up)("FullCalendar"),r=(0,n.up)("q-card-section"),c=(0,n.up)("q-item-section"),u=(0,n.up)("q-item"),m=(0,n.up)("q-select"),p=(0,n.up)("q-input"),h=(0,n.up)("q-checkbox"),g=(0,n.up)("q-card-actions"),b=(0,n.up)("q-card"),f=(0,n.up)("q-dialog"),v=(0,n.up)("q-toggle"),w=(0,n.up)("q-page"),_=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(w,null,{default:(0,n.w5)((()=>[(0,n._)("div",Kl,[(0,n._)("div",Jl,[Xl,(0,n.Wm)(s,{label:"Registrar",icon:"add_circle",color:"primary",onClick:t[0]||(t[0]=e=>{a.programaDialog=!0})}),(0,n._)("div",eo,[(0,n._)("div",to,[(0,n._)("div",lo,[(0,n.Wm)(s,{icon:"list",class:"full-width",label:"TODOS",color:a.color[0],onClick:t[1]||(t[1]=e=>i.listado(0))},null,8,["color"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.store.salas,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col q-ma-xs",key:e},[(0,n.Wm)(s,{class:"full-width",icon:"play_circle_outline",label:e.nombre,color:a.color[e.nro],onClick:t=>i.listado(e.id)},null,8,["label","color","onClick"])])))),128))])]),(0,n.Wm)(d,{class:"full-height",options:a.calendarOptions},null,8,["options"])]),(0,n.Wm)(f,{modelValue:a.programaDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>a.programaDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[oo])),_:1}),(0,n.Wm)(r,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n._)("div",ao,[io,(0,n._)("div",no,[(0,n.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[2]||(t[2]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[so])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",ro,[(0,n.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[3]||(t[3]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[co])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",uo,[(0,n.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[4]||(t[4]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[mo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",po,[(0,n.Wm)(p,{outlined:"",modelValue:a.programa.fechaini,"onUpdate:modelValue":[t[5]||(t[5]=e=>a.programa.fechaini=e),i.cambioFecha],label:"Fecha Inicial",type:"date"},null,8,["modelValue","onUpdate:modelValue"])]),(0,n._)("div",ho,[(0,n.Wm)(p,{outlined:"",modelValue:a.programa.fechafin,"onUpdate:modelValue":t[6]||(t[6]=e=>a.programa.fechafin=e),label:"Fecha Final",type:"date"},null,8,["modelValue"])]),(0,n._)("div",go,[(0,n.Wm)(p,{outlined:"",modelValue:a.programa.hora,"onUpdate:modelValue":t[7]||(t[7]=e=>a.programa.hora=e),required:"",label:"Hora",type:"time"},null,8,["modelValue"])]),(0,n._)("div",bo,[(0,n.Wm)(h,{modelValue:a.programa.subtitulada,"onUpdate:modelValue":t[8]||(t[8]=e=>a.programa.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])])])])),_:1}),(0,n.Wm)(g,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(s,{color:"red ",icon:"o_delete",label:"CANCELAR"},null,512),[[_]]),(0,n.Wm)(s,{color:"green",icon:"o_check_circle",loading:a.loading,label:"REGISTRAR",onClick:i.registrarFuncion},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(f,{modelValue:a.programaUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>a.programaUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[fo])),_:1}),(0,n.Wm)(r,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n._)("div",vo,[(0,n._)("div",wo,[(0,n.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[10]||(t[10]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[_o])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",yo,[(0,n.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[11]||(t[11]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[Co])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",Do,[(0,n.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[12]||(t[12]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-grey"},{default:(0,n.w5)((()=>[Io])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,n._)("div",xo,[(0,n.Wm)(p,{outlined:"",modelValue:a.programa2.fecha,"onUpdate:modelValue":t[13]||(t[13]=e=>a.programa2.fecha=e),label:"Fecha ",type:"date",readonly:""},null,8,["modelValue"])]),(0,n._)("div",To,[(0,n.Wm)(p,{outlined:"",modelValue:a.programa2.hora,"onUpdate:modelValue":t[14]||(t[14]=e=>a.programa2.hora=e),label:"Hora",type:"time"},null,8,["modelValue"])]),(0,n._)("div",Mo,[(0,n.Wm)(h,{modelValue:a.programa2.subtitulada,"onUpdate:modelValue":t[15]||(t[15]=e=>a.programa2.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])]),(0,n._)("div",Wo,[(0,n.Wm)(v,{modelValue:a.programa2.activo,"onUpdate:modelValue":t[16]||(t[16]=e=>a.programa2.activo=e),color:"purple",label:a.programa2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])])])])),_:1}),(0,n.Wm)(g,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(s,{color:"red-10",label:"Atras",loading:a.loading,icon:"arrow_back"},null,8,["loading"]),[[_]]),(0,n.Wm)(s,{color:"red",label:"Eliminar",loading:a.loading,onClick:i.eliminarFuncion,icon:"delete"},null,8,["loading","onClick"]),(0,n.Wm)(s,{label:"Modificar",loading:a.loading,onClick:i.modificarFuncion,icon:"edit",color:"yellow"},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var Ao=l(5553),Eo=l(7238),So=l(886),Lo=l(4005),jo=l(8658),No=l(3878),qo=l.n(No);const Oo={name:"Programa",components:{FullCalendar:Ao.ZPm},data(){return{loading:!1,events:[],sala:{label:"",value:{}},pelicula:{label:"",value:{}},tarifa:{label:"",value:{}},funcion:[],programa:{fechaini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},programa2:{},listpelis:[],listsalas:[],filsala:[],filpelis:[],filtarifa:[],listtarifa:[],programaUpdateDialog:!1,color:["indigo","blue","green","cyan-4","orange","light-green","lime","amber","light-blue","purple","pink","teal","lime","deep-orange","#1b5e20","#ff5722","#795548","#e65100","#827717","#01579b","#006064","#1b5e20","#ff5722","#795548"],programaDialog:!1,store:(0,se.c)(),calendarOptions:{selectable:!0,plugins:[Eo.ZP,Lo.ZP,So.ZP],headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",locale:jo.Z,allDaySlot:!1,editable:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:this.eventTitleClick,dateClick:this.dateClick,events:[],height:"auto",weekends:!0}}},mounted(){this.cambioFecha(this.programa.fechaini),this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()}))),this.store.movieSingleTon||(this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()}))),this.listado(0)},methods:{cambioFecha(e){this.programa.fechafin=qo()(e).add(7,"days").format("YYYY-MM-DD")},eventTitleClick:function(e){this.funcion.forEach((t=>{t.id==e.event.id&&(this.programa2=t)})),this.pelicula=this.programa2.movie,this.pelicula.label=this.pelicula.nombre,this.tarifa=this.programa2.price,this.tarifa.label=this.tarifa.serie+" "+this.tarifa.precio+" Bs",this.sala=this.programa2.sala,this.sala.label=this.sala.nombre,this.programa2.hora=de.ZP.formatDate(this.programa2.horaInicio,"HH:mm"),this.programaUpdateDialog=!0},registrarFuncion(){this.programa.movie=this.pelicula,this.programa.price=this.tarifa,this.programa.sala=this.sala,this.loading=!0,this.$api.post("programa",this.programa).then((e=>{console.log(e.data),this.listado(0),this.loading=!1,this.programa={fechaini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},this.programaDialog=!1})).catch((e=>{console.error(e),this.$q.notify({color:"negative",textColor:"white",icon:"report_problem",message:e.response.data.message,position:"top"}),this.loading=!1}))},modificarFuncion(){this.programa2.movie=this.pelicula,this.programa2.price=this.tarifa,this.programa2.sala=this.sala,this.loading=!0,this.$api.put("programa/"+this.programa2.id,this.programa2).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))},eliminarFuncion(){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar la función?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("programa/"+this.programa2.id).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},cargar(){this.listtarifa=[],this.listsalas=[],this.listpelis=[],this.store.prices.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs.",this.listtarifa.push(e)})),this.store.movies.forEach((e=>{e.label=e.nombre,this.listpelis.push(e)})),this.store.salas.forEach((e=>{e.label=e.nombre,this.listsalas.push(e)})),this.filsala=this.listsalas,this.filpelis=this.listpelis,this.filtarifa=this.listtarifa},filterSala(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.salas2=this.store.salas3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.salas2=this.store.salas3})},filterPelicula(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.movies2=this.store.movies3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.movies2=this.store.movies3})},filterTarifa(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.prices2=this.store.prices3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.prices2=this.store.prices3})},listado(e){this.events=[],this.funcion=[],this.$api.get("programa").then((t=>{let l=0;t.data.forEach((t=>{this.funcion.push(t),l=t.sala.nro,(0==e||e==t.sala.id)&&this.events.push({title:t.movie.nombre+" "+t.movie.formato,start:t.horaInicio,end:t.horaFin,color:this.color[l],id:t.id})})),console.log(this.events),this.calendarOptions.events=this.events}))}},computed:{listapelis(){return 0}}};var Uo=l(1221),ko=l(1821);const Fo=(0,r.Z)(Oo,[["render",Vo]]),zo=Fo;D()(Oo,"components",{QPage:y.Z,QBtn:ue.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSelect:Te.Z,QItem:ve.Z,QItemSection:we.Z,QInput:me.Z,QCheckbox:Uo.Z,QCardActions:ko.Z,QToggle:Me.Z}),D()(Oo,"directives",{ClosePopup:Ve.Z});const Zo=e=>((0,n.dD)("data-v-4a1a9cef"),e=e(),(0,n.Cn)(),e),Qo={class:"row"},Ro={class:"col-2 flex flex-center"},Po=(0,n.Uk)(" PANEL DE VENTAS "),Yo={class:"col-2"},$o={class:"row"},Bo={class:"col-6"},Go={class:"text-h6"},Ho=(0,n.Uk)(" PELICULAS"),Ko={class:"col-6 text-right"},Jo={class:"text-subtitle2"},Xo={class:"row"},ea={class:"absolute-bottom text-subtitle2 text-center",style:{padding:"0px",margin:"0px",border:"0px"}},ta={class:"row"},la={class:"col-6 q-pa-none q-ma-none"},oa={class:"col-6 text-right flex flex-center"},aa={class:"row"},ia={class:"col-4"},na={class:"text-bold text-center"},sa=Zo((()=>(0,n._)("div",{class:"col-4"},null,-1))),da={class:"col-4"},ra={class:"text-bold q-pa-xs bg-grey-8 text-white"},ca={class:"row"},ua=Zo((()=>(0,n._)("div",{class:"col-4"},"Detalle venta",-1))),ma={class:"col-4"},pa={class:"col-4"},ha=Zo((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{colspan:"4"},"Detalle de venta")]),(0,n._)("tr",null,[(0,n._)("th",null,"Fecha"),(0,n._)("th",null,"Cantidad"),(0,n._)("th",null,"Pelicula"),(0,n._)("th",null,"Subtotal")])],-1))),ga={class:"tdx"},ba={class:"tdx"},fa={class:"tdx"},va={class:"tdx text-right"},wa=Zo((()=>(0,n._)("td",{colspan:"3",class:"tdx text-right text-bold"},"TOTAL: ",-1))),_a={class:"text-right tdx"},ya={class:"row"},Ca={class:"col-12 row items-center q-pb-none"},Da={class:"col-4 text-bold"},Ia={class:"q-pa-xs flex flex-center"},xa={style:{"font-size":"12px","font-weight":"bold"}},Ta=(0,n.Uk)(" Disponibles: "),Ma={style:{"font-size":"14px","font-weight":"bolder"}},Wa=(0,n.Uk)(" Vendidas: "),Va={style:{"font-size":"14px","font-weight":"bolder"}},Aa=(0,n.Uk)(" Devueltas: "),Ea={style:{"font-size":"14px","font-weight":"bolder"}},Sa=(0,n.Uk)("Capacidad:"),La={style:{"font-size":"14px","font-weight":"bolder"}},ja={class:"text-bold"},Na=(0,n.Uk)("CANTIDAD: "),qa={class:"text-red text-bold text-h4"},Oa=(0,n.Uk)(" SUBTOTAL: "),Ua={class:"text-red text-bold text-h4"},ka={class:"col-12"},Fa=["colspan"],za=Zo((()=>(0,n._)("th",null,null,-1))),Za={class:"col-12 text-center"},Qa=Zo((()=>(0,n._)("div",{class:"text-h6"},"Realizar venta",-1))),Ra={class:"row"},Pa={class:"col-2"},Ya={class:"col-2"},$a={class:"col-3"},Ba={class:"col-3"},Ga={class:"col-2"},Ha={class:"row"},Ka={class:"col-3"},Ja={class:"col-3"},Xa={class:"col-2"},ei={class:"col-2 flex flex-center"},ti={class:"col-2 flex flex-center"},li={key:0,class:"col-12 text-red text-bold"},oi={class:"row"},ai={class:"col-6"},ii={class:"col-6"},ni=Zo((()=>(0,n._)("div",{id:"myelement",class:"hidden"},null,-1)));function si(e,t,l,a,i,s){const d=(0,n.up)("q-icon"),r=(0,n.up)("q-input"),c=(0,n.up)("q-card-section"),u=(0,n.up)("q-separator"),m=(0,n.up)("q-img"),p=(0,n.up)("q-card"),h=(0,n.up)("q-badge"),g=(0,n.up)("q-btn"),b=(0,n.up)("q-space"),f=(0,n.up)("q-dialog"),v=(0,n.up)("q-select"),w=(0,n.up)("q-checkbox"),_=(0,n.up)("q-form"),y=(0,n.up)("q-page"),C=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"q-py-xs bg-green-7 text-white text-bold"},{default:(0,n.w5)((()=>[(0,n._)("div",Qo,[(0,n._)("div",Ro,[(0,n.Wm)(d,{name:"live_tv",left:""}),Po]),(0,n._)("div",Yo,[(0,n.Wm)(r,{label:"fecha","onUpdate:modelValue":[s.myMovies,t[0]||(t[0]=e=>i.fecha=e)],min:i.now,type:"date","label-color":"white",outlined:"",dense:"",modelValue:i.fecha},null,8,["onUpdate:modelValue","min","modelValue"])])])])),_:1}),(0,n.Wm)(c,{class:"q-py-none"},{default:(0,n.w5)((()=>[(0,n._)("div",$o,[(0,n._)("div",Bo,[(0,n._)("div",Go,[(0,n.Wm)(d,{name:"o_confirmation_number"}),Ho])]),(0,n._)("div",Ko,[(0,n._)("div",Jo,"Venta de boletos vendidos: "+(0,Nt.zw)(i.totalventa),1)])])])),_:1}),(0,n.Wm)(u),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Xo,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.movies,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-2",key:e.id},[(0,n.Wm)(p,{onClick:t=>s.myHours(e),style:{height:"100px"},class:"q-ma-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{src:i.url+"../imagen/"+e.imagen,height:"100px"},{default:(0,n.w5)((()=>[(0,n._)("div",ea,[(0,n._)("div",ta,[(0,n._)("div",la,(0,Nt.zw)(e.nombre)+" "+(0,Nt.zw)(e.formato),1),(0,n._)("div",oa,(0,Nt.zw)(e.cantidad),1)])])])),_:2},1032,["src"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,n.Wm)(u),(0,n.Wm)(c),(0,n.Wm)(u),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",aa,[(0,n._)("div",ia,[(0,n._)("div",na,(0,Nt.zw)(i.movie.nombre),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.hours,(e=>((0,n.wg)(),(0,n.j4)(g,{onClick:t=>s.clickSala(e),loading:i.loading,size:"12px",class:"q-ma-xs full-width flex flex-center",color:"primary",key:e.id},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{name:"schedule",left:""}),(0,n.Wm)(h,{color:"red"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Nt.zw)(e.sala.nombre),1)])),_:2},1024),(0,n.Uk)(" "+(0,Nt.zw)(e.horaInicio.substring(10,16))+" - "+(0,Nt.zw)(e.price.precio+"Bs"),1)])),_:2},1032,["onClick","loading"])))),128))]),sa,(0,n._)("div",da,[(0,n._)("div",ra,[(0,n._)("div",ca,[ua,(0,n._)("div",ma,[(0,n.Wm)(g,{color:"red",loading:i.loading,onClick:s.momentaneoDeleteAll,dense:"",label:"Cancelar Venta","no-caps":"",icon:"o_delete"},null,8,["loading","onClick"])]),(0,n._)("div",pa,[(0,n.Wm)(g,{color:"green",disable:0==s.detalleVenta.length,loading:i.loading,onClick:s.saleCreate,dense:"",label:"Terminar Venta","no-caps":"",icon:"check_circle"},null,8,["disable","loading","onClick"])])])]),(0,n._)("table",null,[ha,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.detalleVenta,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",ga,(0,Nt.zw)(e.fecha),1),(0,n._)("td",ba,(0,Nt.zw)(e.cantidad),1),(0,n._)("td",fa,(0,Nt.zw)(e.pelicula),1),(0,n._)("td",va,(0,Nt.zw)(e.subtotal)+" Bs",1)])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[wa,(0,n._)("td",_a,(0,Nt.zw)(s.total)+"Bs",1)])])])])])])),_:1})])),_:1}),(0,n.Wm)(f,{"full-width":"",modelValue:i.salaDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.salaDialog=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",ya,[(0,n._)("div",Ca,[(0,n._)("div",Da,[(0,n.Uk)((0,Nt.zw)(i.movie.nombre)+" "+(0,Nt.zw)(i.movie.formato),1),(0,n.Wm)(d,{name:"schedule",left:""}),(0,n.Wm)(h,{color:"red"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Nt.zw)(i.hour.sala.nombre),1)])),_:1}),(0,n.Uk)(" "+(0,Nt.zw)(i.hour.horaInicio.substring(10,16))+" - "+(0,Nt.zw)(i.hour.price.precio+"Bs"),1)]),(0,n._)("div",Ia,[(0,n._)("div",xa,[(0,n.Wm)(d,{name:"event_seat"}),Ta,(0,n._)("span",Ma,(0,Nt.zw)(i.disponible)+"|",1),(0,n.Wm)(d,{name:"credit_card"}),Wa,(0,n._)("span",Va,(0,Nt.zw)(i.vendido)+"|",1),(0,n.Wm)(d,{name:"settings_backup_restore"}),Aa,(0,n._)("span",Ea,(0,Nt.zw)(i.devueltos)+"|",1),(0,n.Wm)(d,{name:"apartment"}),Sa,(0,n._)("span",La,(0,Nt.zw)(i.capacidad),1)])]),(0,n.Wm)(b),(0,n._)("div",ja,[Na,(0,n._)("span",qa,(0,Nt.zw)(s.seleccionados.length),1),Oa,(0,n._)("span",Ua,(0,Nt.zw)(s.seleccionados.length*i.hour.price.precio)+"Bs. ",1)]),(0,n.Wm)(g,{icon:"highlight_off",color:"red",flat:"",round:"",dense:"",onClick:s.salaDialogClose},null,8,["onClick"])]),(0,n._)("div",ka,[(0,n._)("table",null,[(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{colspan:parseInt(i.hour.sala.columnas)+1,class:"bg-blue-10 text-bold text-white"},"PANTALLA",8,Fa)]),(0,n._)("tr",null,[za,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.hour.sala.columnas),((e,t)=>((0,n.wg)(),(0,n.iD)("th",{key:t},(0,Nt.zw)(i.hour.sala.columnas-e+1),1)))),128))])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.hour.sala.filas),((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("th",null,(0,Nt.zw)(i.letra[t+1]),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(parseInt(i.hour.sala.columnas),((l,o)=>((0,n.wg)(),(0,n.iD)("td",{click:"cambio(f,c)",key:o,class:"text-center tdx",style:{padding:"0px",margin:"0px",border:"0px"}},["LIBRE"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,n.wg)(),(0,n.j4)(g,{key:0,color:"green-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>s.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):"OCUPADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,n.wg)(),(0,n.j4)(g,{key:1,color:"red-6",class:"full-width"})):"RESERVADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,n.wg)(),(0,n.j4)(g,{key:2,color:"yellow-6",class:"full-width"})):"SELECCIONADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,n.wg)(),(0,n.j4)(g,{key:3,color:"blue-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>s.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):((0,n.wg)(),(0,n.j4)(g,{key:4,color:"grey-6",class:"full-width"}))])))),128))])))),128))])])]),(0,n._)("div",Za,[(0,n.Wm)(g,{icon:"check_circle",class:"q-ml-lg",disable:0==s.seleccionados.length,color:"primary",loading:i.loading,label:"Agregar",onClick:t[1]||(t[1]=e=>{s.myMomentaneo(),i.salaDialog=!1})},null,8,["disable","loading"]),(0,n.Wm)(g,{icon:"highlight_off",class:"q-ml-lg",color:"red",label:"Cancelar",onClick:s.salaDialogClose},null,8,["onClick"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(f,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[14]||(t[14]=e=>i.saleDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Qa,(0,n.Wm)(b),(0,n.wy)((0,n.Wm)(g,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])])),_:1}),(0,n.Wm)(_,{onSubmit:(0,o.iM)(s.saleInsert,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Ra,[(0,n._)("div",Pa,[(0,n.Wm)(r,{outlined:"",label:"NIT/CARNET",onKeyup:s.searchClient,required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.numeroDocumento=e)},null,8,["onKeyup","modelValue"])]),(0,n._)("div",Ya,[(0,n.Wm)(r,{outlined:"",label:"Complemento",onKeyup:s.searchClient,modelValue:i.client.complemento,"onUpdate:modelValue":t[4]||(t[4]=e=>i.client.complemento=e),style:{"text-transform":"uppercase"}},null,8,["onKeyup","modelValue"])]),(0,n._)("div",$a,[(0,n.Wm)(r,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.nombreRazonSocial=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,n._)("div",Ba,[(0,n.Wm)(v,{modelValue:i.document,"onUpdate:modelValue":t[6]||(t[6]=e=>i.document=e),outlined:"",options:i.documents},null,8,["modelValue","options"])]),(0,n._)("div",Ga,[(0,n.Wm)(r,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.client.email=e),type:"email"},null,8,["modelValue"])])])])),_:1}),(0,n.Wm)(u),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",Ha,[(0,n._)("div",Ka,[(0,n.Wm)(r,{outlined:"",label:"TOTAL A PAGAR:",disable:"",modelValue:s.total,"onUpdate:modelValue":t[8]||(t[8]=e=>s.total=e)},null,8,["modelValue"])]),(0,n._)("div",Ja,[(0,n.Wm)(r,{outlined:"",label:"EFECTIVO BS.",onKeyup:s.cambio,modelValue:i.efectivo,"onUpdate:modelValue":t[9]||(t[9]=e=>i.efectivo=e)},null,8,["onKeyup","modelValue"])]),(0,n._)("div",Xa,[(0,n.Wm)(r,{outlined:"",label:"CAMBIO:",disable:"",modelValue:s.cambio,"onUpdate:modelValue":t[10]||(t[10]=e=>s.cambio=e)},null,8,["modelValue"])]),(0,n._)("div",ei,[(0,n.Wm)(w,{outlined:"",label:"T CREDITO",modelValue:i.credito,"onUpdate:modelValue":t[11]||(t[11]=e=>i.credito=e),color:"primary"},null,8,["modelValue"])]),(0,n._)("div",ti,[(0,n.Wm)(w,{outlined:"",label:"N CORTESIA",modelValue:i.cortesia,"onUpdate:modelValue":t[12]||(t[12]=e=>i.cortesia=e),color:"primary"},null,8,["modelValue"])]),""!=i.error?((0,n.wg)(),(0,n.iD)("div",li,(0,Nt.zw)(i.error),1)):(0,n.kq)("",!0)])])),_:1}),(0,n.Wm)(u),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",oi,[(0,n._)("div",ai,[(0,n.Wm)(g,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,n._)("div",ii,[(0,n.Wm)(g,{class:"full-width",icon:"undo",onClick:t[13]||(t[13]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),ni])),_:1})}l(4110);var di=l(2995),ri=l(8746),ci=l.n(ri),ui=l(2316);const mi={name:"Sale",data(){return{store:(0,se.c)(),saleDialog:!1,letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],url:"https://bplaza.miganancia.cf/api/",salaDialog:!1,now:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha:de.ZP.formatDate(new Date,"YYYY-MM-DD"),movies:[],movie:{},hours:[],efectivo:"",hour:{},momentaneos:[],momentaneo:{},seats:[],seat:{},client:{complemento:""},temporal:[],numeroboleto:0,loading:!1,documents:[],document:{},credito:!1,cortesia:!1,disponible:0,vendido:0,devueltos:0,capacidad:0,totalventa:0,cine:{},leyendas:[],totventa:[],error:"",opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.encabezado(),this.cargarLeyenda(),this.myMovies(this.fecha),this.tventa(),this.myMomentaneo(),this.eventSearch(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{movieVenta(e){this.$api.post("movietotal",{fecha:e}).then((e=>{this.totventa=e.data,this.movies.forEach((e=>{}))}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},tventa(){this.$api.post("totalventa",{fecha:this.fecha}).then((e=>{this.totalventa=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},saleInsert(){if(0==this.client.numeroDocumento)return this.$q.notify({color:"red",textColor:"white",message:"Debe ingresar un numero de documento"}),!1;this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("sale",{client:this.client,montoTotal:this.total,detalleVenta:this.detalleVenta}).then((e=>{console.log(e.data),""!=e.data.error&&this.$q.notify({color:"negative",textColor:"white",message:e.data.error,position:"top",timeout:5e3}),1==e.data.sale.siatEnviado&&this.printFactura(e.data.sale),e.data.tickets.forEach((e=>{this.boletoprint(e)})),this.momentaneoDeleteAll(),this.tventa(),this.client={complemento:""},this.saleDialog=!1,this.myMovies(this.fecha),this.loading=!1,this.eventSearch()})).finally((()=>{this.loading=!1})).catch((e=>{this.error=e.response.data.message,this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},boletoprint(e){let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.sale_id+"</div>",document.getElementById("myelement").innerHTML=t;const l=new di.gR;l.print(document.getElementById("myelement"))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=ci().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await ui.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.programa_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},saleCreate(){this.saleDialog=!0,this.client={complemento:""}},momentaneoDeleteAll(){this.loading=!0,this.$api.post("momentaneoDeleteall").then((e=>{this.loading=!1,this.myMomentaneo()}))},myMomentaneo(){this.$api.get("momentaneo").then((e=>{this.momentaneos=e.data}))},salaDialogClose(){this.$api.post("momentaneoDeleteUser",{programa_id:this.hour.id}).then((e=>{this.myMomentaneo()})),this.salaDialog=!1},clickSala(e){this.hour=e,this.loading=!0,this.$api.post("mySeats",{id:e.id}).then((t=>{this.seats=t.data,this.$api.post("disponibleSeats",{id:e.id}).then((e=>{let t=e.data[0];this.disponible=parseInt(t.salatotal)-parseInt(t.venta)-parseInt(t.temp),this.vendido=parseInt(t.venta),this.devueltos=parseInt(t.dev),this.capacidad=parseInt(t.salatotal),this.salaDialog=!0,this.loading=!1}))}))},myMovies(e){this.movie={},this.hours=[],this.$api.post("movies",{fecha:e}).then((t=>{console.log(t.data),this.movies=t.data,this.tventa(),this.movieVenta(e)}))},myHours(e){this.movie=e,this.loading=!0,this.$api.post("hours",{fecha:this.fecha,id:e.id}).then((e=>{this.loading=!1,this.hours=e.data,this.hour=this.hours[0]}))},seleccionar(e,t){this.loading=!0,"SELECCIONADO"==t.activo?(t.activo="LIBRE",this.$api.post("momentaneoDelete",{user_id:1,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra}).then((e=>{this.loading=!1,this.myMomentaneo()}))):(t.activo="SELECCIONADO",this.$api.post("momentaneo",{user_id:1,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra,fecha:e.horaInicio,pelicula:e.movie.nombre+" "+e.movie.formato,precio:e.price.precio}).then((t=>{this.loading=!1,this.myMomentaneo(),1==t.data&&this.clickSala(e)})))}},computed:{cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},seleccionados(){let e=[];return this.seats.forEach((t=>{"SELECCIONADO"==t.activo&&e.push(t)})),e},detalleVenta(){let e,t=[];return this.momentaneos.forEach((l=>{e=t.find((e=>e.programa_id===l.programa_id)),void 0==e?t.push({fecha:l.fecha,precio:l.precio,cantidad:1,pelicula:l.pelicula,subtotal:l.precio,programa_id:l.programa_id}):(e.cantidad=e.cantidad+1,e.subtotal=e.cantidad*l.precio)})),t},total(){let e=0;return this.detalleVenta.forEach((t=>{e+=parseFloat(t.subtotal)})),e.toFixed(2)}}};var pi=l(926);const hi=(0,r.Z)(mi,[["render",si],["__scopeId","data-v-4a1a9cef"]]),gi=hi;D()(mi,"components",{QPage:y.Z,QCard:Ce.Z,QCardSection:De.Z,QIcon:pe.Z,QInput:me.Z,QSeparator:pi.Z,QImg:ge.Z,QBtn:ue.Z,QBadge:cl.Z,QDialog:ye.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z,QCheckbox:Uo.Z}),D()(mi,"directives",{ClosePopup:Ve.Z});const bi={class:"row"},fi={class:"col-12"},vi=(0,n.Uk)("Actualizar"),wi=(0,n.Uk)("Cambiar Imagen"),_i=(0,n.Uk)("Eliminar"),yi=(0,n._)("div",{class:"text-h6"},"Registrar Rubro",-1),Ci={class:"row"},Di={class:"col-3"},Ii={class:"col-3"},xi={class:"col-3"},Ti={class:"col-12 text-center flex flex-center"},Mi={class:"col-12"},Wi=(0,n._)("div",{class:"text-h6"},"Modificar Rubro",-1),Vi={class:"row"},Ai={class:"col-3"},Ei={class:"col-3"},Si={class:"col-3"},Li={class:"col-3"},ji={class:"col-12"},Ni=(0,n._)("div",{class:"text-h6"},"Modificar imagen",-1),qi={class:"col-12 text-center flex flex-center"};function Oi(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-img"),m=(0,n.up)("q-td"),p=(0,n.up)("q-item-label"),h=(0,n.up)("q-item-section"),g=(0,n.up)("q-item"),b=(0,n.up)("q-list"),f=(0,n.up)("q-btn-dropdown"),v=(0,n.up)("q-table"),w=(0,n.up)("q-space"),_=(0,n.up)("q-card-section"),y=(0,n.up)("q-color"),C=(0,n.up)("q-popup-proxy"),D=(0,n.up)("q-uploader"),I=(0,n.up)("q-form"),x=(0,n.up)("q-card"),T=(0,n.up)("q-dialog"),M=(0,n.up)("q-toggle"),W=(0,n.up)("q-page"),V=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(W,null,{default:(0,n.w5)((()=>[(0,n._)("div",bi,[(0,n._)("div",fi,[(0,n.Wm)(v,{dense:"",title:"Gestionar Rubro","rows-per-page-options":[20,50,100,0],rows:i.store.rubros,columns:i.rubroColumns,filter:i.rubroFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.rubroDialog=!0)}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.rubroFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.rubroFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n._)("div",{style:(0,Nt.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,n.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.rubroUpdateDialog=!0,i.rubro2=e.row,this.store.rubro=e.row.rubro}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[vi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[V]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.rubro2=e.row,i.dialog_img=!0}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[wi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[V]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>s.rubroDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[_i])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[V]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(T,{modelValue:i.rubroDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.rubroDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[yi,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:(0,o.iM)(s.rubroCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Ci,[(0,n._)("div",Di,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.rubro.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,n._)("div",Ii,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.rubro.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",xi,[(0,n.Wm)(c,{label:"Color Fondo",outlined:"",dense:"","no-header":"",modelValue:i.rubro.color,"onUpdate:modelValue":t[5]||(t[5]=e=>i.rubro.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:i.rubro.color,"onUpdate:modelValue":t[4]||(t[4]=e=>i.rubro.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,n._)("div",Ti,[(0,n.Wm)(D,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",Mi,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(T,{modelValue:i.rubroUpdateDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.rubroUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Wi,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:(0,o.iM)(s.rubroUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Vi,[(0,n._)("div",Ai,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro2.nombre,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rubro2.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,n._)("div",Ei,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro2.descripcion,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rubro2.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",Si,[(0,n.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.rubro2.color,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rubro2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:i.rubro2.color,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rubro2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,n._)("div",Li,[(0,n.Wm)(M,{modelValue:i.rubro2.activo,"onUpdate:modelValue":t[11]||(t[11]=e=>i.rubro2.activo=e),color:"green",label:i.rubro2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,n._)("div",ji,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(T,{modelValue:i.dialog_img,"onUpdate:modelValue":t[13]||(t[13]=e=>i.dialog_img=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,n.w5)((()=>[Ni])),_:1}),(0,n.Wm)(_,{class:"q-pt-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{onSubmit:s.onModImagen,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n._)("div",qi,[(0,n.Wm)(D,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",null,[(0,n.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,n.wy)((0,n.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[V]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Ui={name:"Distribuidores",data(){return{loading:!1,rubroFilter:"",rubro:{},url:"https://bplaza.miganancia.cf/api/",rubro2:{},rubroDialog:!1,rubroUpdateDialog:!1,dialog_img:!1,store:(0,se.c)(),foto:"",rubroColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo"}]}},created(){this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.$q.loading.hide()})))},methods:{onModImagen(){this.rubro2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenrubro",this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},rubroCreate(){this.rubro.imagen=this.foto,this.loading=!0,this.$api.post("rubro",this.rubro).then((e=>{this.loading=!1,this.store.rubros.push(e.data),this.rubroDialog=!1,this.rubro={}}))},rubroUpdate(){this.$q.loading.show(),this.$api.put("rubro/"+this.rubro2.id,this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.rubroUpdateDialog=!1,this.rubro2={}}))},rubroDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("rubro/"+e).then((e=>{this.store.rubros.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}};var ki=l(2765),Fi=l(3385);const zi=(0,r.Z)(Ui,[["render",Oi]]),Zi=zi;D()(Ui,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QPopupProxy:ki.Z,QColor:Fi.Z,QUploader:We.Z,QToggle:Me.Z}),D()(Ui,"directives",{ClosePopup:Ve.Z});const Qi={class:"row"},Ri={class:"col-12"},Pi=(0,n.Uk)("Actualizar"),Yi=(0,n.Uk)("Actualizar Imagen"),$i=(0,n.Uk)("Eliminar"),Bi=(0,n._)("div",{class:"text-h6"},"Registrar Pelicula",-1),Gi={class:"row"},Hi={class:"col-3"},Ki={class:"col-3"},Ji={class:"col-3"},Xi={class:"col-3"},en={class:"col-3"},tn={class:"col-12 text-center flex flex-center"},ln={class:"col-12"},on=(0,n._)("div",{class:"text-h6"},"Modificar Pelicula",-1),an={class:"row"},nn={class:"col-3"},sn={class:"col-3"},dn={class:"col-3"},rn={class:"col-3"},cn={class:"col-3"},un={class:"col-3"},mn={class:"col-12"},pn=(0,n._)("div",{class:"text-h6"},"Modificar imagen",-1),hn={class:"col-12 text-center flex flex-center"};function gn(e,t,l,a,i,s){const d=(0,n.up)("q-btn"),r=(0,n.up)("q-icon"),c=(0,n.up)("q-input"),u=(0,n.up)("q-img"),m=(0,n.up)("q-td"),p=(0,n.up)("q-item-label"),h=(0,n.up)("q-item-section"),g=(0,n.up)("q-item"),b=(0,n.up)("q-list"),f=(0,n.up)("q-btn-dropdown"),v=(0,n.up)("q-table"),w=(0,n.up)("q-space"),_=(0,n.up)("q-card-section"),y=(0,n.up)("q-select"),C=(0,n.up)("q-color"),D=(0,n.up)("q-popup-proxy"),I=(0,n.up)("q-uploader"),x=(0,n.up)("q-form"),T=(0,n.up)("q-card"),M=(0,n.up)("q-dialog"),W=(0,n.up)("q-toggle"),V=(0,n.up)("q-page"),A=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(V,null,{default:(0,n.w5)((()=>[(0,n._)("div",Qi,[(0,n._)("div",Ri,[(0,n.Wm)(v,{dense:"",title:"Gestionar Productos","rows-per-page-options":[20,50,100,0],rows:i.store.productos,columns:i.productoColumns,filter:i.productoFilter},{"top-right":(0,n.w5)((()=>[(0,n.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.productoDialog=!0)}),(0,n.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.productoFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.productoFilter=e),placeholder:"Buscar"},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n._)("div",{style:(0,Nt.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,n.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,n.w5)((e=>[(0,n.Wm)(m,{"auto-width":"",props:e},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.productoUpdateDialog=!0,i.producto2=e.row,this.store.rubro=e.row.rubro}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[Pi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.producto2=e.row}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[Yi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(g,{clickable:"",onClick:t=>s.productoDelete(e.row.id,e.pageIndex)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[$i])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,n.Wm)(M,{modelValue:i.productoDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.productoDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[Bi,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{onSubmit:(0,o.iM)(s.productoCreate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Gi,[(0,n._)("div",Hi,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.producto.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",Ki,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.producto.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",Ji,[(0,n.Wm)(c,{dense:"",outlined:"",label:"precio",modelValue:i.producto.precio,"onUpdate:modelValue":t[4]||(t[4]=e=>i.producto.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,n._)("div",Xi,[(0,n.Wm)(y,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[5]||(t[5]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,n._)("div",en,[(0,n.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto.color,"onUpdate:modelValue":t[7]||(t[7]=e=>i.producto.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{modelValue:i.producto.color,"onUpdate:modelValue":t[6]||(t[6]=e=>i.producto.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,n._)("div",tn,[(0,n.Wm)(I,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",ln,[(0,n.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(M,{modelValue:i.productoUpdateDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>i.productoUpdateDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[on,(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{onSubmit:(0,o.iM)(s.productoUpdate,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",an,[(0,n._)("div",nn,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto2.nombre,"onUpdate:modelValue":t[9]||(t[9]=e=>i.producto2.nombre=e)},null,8,["modelValue"])]),(0,n._)("div",sn,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto2.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.producto2.descripcion=e)},null,8,["modelValue"])]),(0,n._)("div",dn,[(0,n.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.producto2.precio,"onUpdate:modelValue":t[11]||(t[11]=e=>i.producto2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,n._)("div",rn,[(0,n.Wm)(y,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[12]||(t[12]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,n._)("div",cn,[(0,n.Wm)(W,{modelValue:i.producto2.activo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.producto2.activo=e),color:"green",label:i.producto2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,n._)("div",un,[(0,n.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto2.color,"onUpdate:modelValue":t[15]||(t[15]=e=>i.producto2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,n.w5)((()=>[(0,n.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{modelValue:i.producto2.color,"onUpdate:modelValue":t[14]||(t[14]=e=>i.producto2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,n._)("div",mn,[(0,n.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(M,{modelValue:i.dialog_img,"onUpdate:modelValue":t[17]||(t[17]=e=>i.dialog_img=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,n.w5)((()=>[pn])),_:1}),(0,n.Wm)(_,{class:"q-pt-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{onSubmit:s.onModImagen,class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n._)("div",hn,[(0,n.Wm)(I,{accept:".jpg, .png",onAdded:s.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:s.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,n._)("div",null,[(0,n.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,n.wy)((0,n.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[A]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const bn={name:"Peliculas",data(){return{loading:!1,productoFilter:"",url:"https://bplaza.miganancia.cf/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,store:(0,se.c)(),foto:"",productoColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"RUBRO",field:e=>e.rubro.nombre,name:"rubro",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo",sortable:!0}]}},created(){this.store.productoSingleTon||(this.$q.loading.show(),this.store.productoSingleTon=!0,this.$api.get("producto").then((e=>{this.store.productos=e.data,this.$q.loading.hide()}))),this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.store.rubro=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.producto2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenproducto",this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={},this.foto="";let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},productoCreate(){this.producto.imagen=this.foto,this.loading=!0,this.producto.rubro_id=this.store.rubro.id,this.$api.post("producto",this.producto).then((e=>{this.loading=!1,this.store.productos.push(e.data),this.foto="",this.productoDialog=!1,this.producto={}}))},productoUpdate(){this.$q.loading.show(),this.$api.put("producto/"+this.producto2.id,this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={};let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.productoUpdateDialog=!1,this.producto2={}}))},productoDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("producto/"+e).then((e=>{this.store.productos.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}},fn=(0,r.Z)(bn,[["render",gn]]),vn=fn;D()(bn,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z,QPopupProxy:ki.Z,QColor:Fi.Z,QUploader:We.Z,QToggle:Me.Z}),D()(bn,"directives",{ClosePopup:Ve.Z});const wn=e=>((0,n.dD)("data-v-d83865f0"),e=e(),(0,n.Cn)(),e),_n={class:"row"},yn={class:"col-12 flex flex-center text-h5"},Cn=(0,n.Uk)(" CANDY BAR "),Dn={class:"row"},In={class:"col-6"},xn={class:"text-h6"},Tn=(0,n.Uk)(" RUBROS"),Mn={class:"row"},Wn={class:"col-12 col-md-8"},Vn={class:"row"},An={class:"absolute-bottom text-subtitle2 text-center"},En={class:"row"},Sn={class:"col-6"},Ln={class:"text-h6"},jn=(0,n.Uk)(" PRODUCTOS"),Nn={class:"row"},qn={class:"absolute-bottom text-subtitle2 text-center"},On={class:"row"},Un={class:"col-6"},kn={class:"col-6"},Fn={class:"col-12 col-md-4"},zn={class:"row"},Zn={class:"col-4 flex flex-center"},Qn=(0,n.Uk)(" VENTA "),Rn={class:"col-4 text-center"},Pn={class:"col-4 text-center"},Yn=wn((()=>(0,n._)("thead",null,[(0,n._)("tr",{class:"bg-accent text-white"},[(0,n._)("th",null,"#"),(0,n._)("th",null,"Nombre producto"),(0,n._)("th",null,"Cant."),(0,n._)("th",null,"Subt."),(0,n._)("th",null,"Opc")])],-1))),$n={class:"text-center"},Bn={class:"text-right"},Gn=wn((()=>(0,n._)("th",null,null,-1))),Hn=wn((()=>(0,n._)("th",null,null,-1))),Kn=wn((()=>(0,n._)("th",null,"TOTAL",-1))),Jn={class:"text-right"},Xn={class:"text-h6"},es=(0,n.Uk)(" Realizar venta"),ts={class:"row"},ls={class:"col-12"},os={class:"row"},as={class:"col-2"},is={class:"col-2"},ns={class:"col-3"},ss={class:"col-3"},ds={class:"col-2"},rs={class:"col-3 q-pa-xs"},cs={class:"col-3 q-pa-xs"},us={class:"col-3 q-pa-xs"},ms={class:"col-2"},ps={class:"col-2"},hs=wn((()=>(0,n._)("div",{id:"myelement",class:"hidden"},null,-1)));function gs(e,t,l,a,i,s){const d=(0,n.up)("q-icon"),r=(0,n.up)("q-card-section"),c=(0,n.up)("q-separator"),u=(0,n.up)("q-img"),m=(0,n.up)("q-card"),p=(0,n.up)("q-btn"),h=(0,n.up)("q-space"),g=(0,n.up)("q-input"),b=(0,n.up)("q-select"),f=(0,n.up)("q-checkbox"),v=(0,n.up)("q-form"),w=(0,n.up)("q-dialog"),_=(0,n.up)("q-page"),y=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"q-py-xs bg-purple-7 text-white text-bold"},{default:(0,n.w5)((()=>[(0,n._)("div",_n,[(0,n._)("div",yn,[(0,n.Wm)(d,{name:"storefront",left:""}),Cn])])])),_:1}),(0,n.Wm)(r,{class:"q-py-none"},{default:(0,n.w5)((()=>[(0,n._)("div",Dn,[(0,n._)("div",In,[(0,n._)("div",xn,[(0,n.Wm)(d,{name:"store"}),Tn])])])])),_:1}),(0,n.Wm)(c),(0,n._)("div",Mn,[(0,n._)("div",Wn,[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n._)("div",Vn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.rubros,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"col-2 col-md-2"},[(0,n.Wm)(m,{onClick:t=>i.productos=e.productos,class:"q-pa-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{style:(0,Nt.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,n.w5)((()=>[(0,n._)("div",An,(0,Nt.zw)(e.nombre),1)])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,n.Wm)(c),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n._)("div",En,[(0,n._)("div",Sn,[(0,n._)("div",Ln,[(0,n.Wm)(d,{name:"shopping_cart"}),jn])])]),(0,n._)("div",Nn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.productos,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-2 col-md-2",key:e.id},[(0,n.Wm)(m,{onClick:t=>s.miventa(e),class:"q-ma-xs",style:(0,Nt.j5)("background: "+e.color)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{style:(0,Nt.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,n.w5)((()=>[(0,n._)("div",qn,[(0,n._)("div",On,[(0,n._)("div",Un,(0,Nt.zw)(e.nombre),1),(0,n._)("div",kn,(0,Nt.zw)(e.precio)+"Bs",1)])])])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick","style"])])))),128))])])),_:1}),(0,n.Wm)(c)]),(0,n._)("div",Fn,[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"bg-accent text-white q-pa-xs"},{default:(0,n.w5)((()=>[(0,n._)("div",zn,[(0,n._)("div",Zn,[(0,n.Wm)(d,{name:"point_of_sale"}),Qn]),(0,n._)("div",Rn,[(0,n.Wm)(p,{onClick:s.reset,color:"negative",size:"14px",icon:"restart_alt",label:"cancelar"},null,8,["onClick"])]),(0,n._)("div",Pn,[(0,n.Wm)(p,{onClick:t[0]||(t[0]=t=>{i.icon=!0,e.tienerebaja=!1}),color:"positive",label:"Venta",size:"14px",icon:"add_circle"})])])])),_:1}),(0,n.Wm)(r,{class:"q-pa-xs"},{default:(0,n.w5)((()=>[(0,n._)("table",null,[Yn,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.store.detallecandy,((e,t)=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",null,(0,Nt.zw)(t+1),1),(0,n._)("td",null,(0,Nt.zw)(e.nombre),1),(0,n._)("td",$n,(0,Nt.zw)(e.cantidad),1),(0,n._)("td",Bn,(0,Nt.zw)(e.subtotal)+"Bs",1),(0,n._)("td",null,[(0,n.Wm)(p,{onClick:e=>s.agregar(t),size:"12px",icon:"add_circle_outline",color:"green"},null,8,["onClick"]),(0,n.Wm)(p,{onClick:e=>s.disminuir(t),size:"12px",icon:"remove_circle_outline",color:"warning"},null,8,["onClick"]),(0,n.Wm)(p,{onClick:e=>s.quitar(t),size:"12px",icon:"o_delete",color:"negative"},null,8,["onClick"])])])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[Gn,Hn,Kn,(0,n._)("th",Jn,(0,Nt.zw)(s.total)+"Bs",1)])])])])),_:1})])),_:1})])])])),_:1}),(0,n.Wm)(w,{modelValue:i.icon,"onUpdate:modelValue":t[12]||(t[12]=e=>i.icon=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{style:{width:"700px","max-width":"80vw"}},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"row items-center q-pa-xs bg-green-14 text-white"},{default:(0,n.w5)((()=>[(0,n._)("div",Xn,[(0,n.Wm)(d,{name:"send"}),es]),(0,n.Wm)(h),(0,n.wy)((0,n.Wm)(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[y]])])),_:1}),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n._)("div",ts,[(0,n._)("div",ls,[(0,n.Wm)(v,{onSubmit:(0,o.iM)(s.saleInsert,["prevent"]),class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n._)("div",os,[(0,n._)("div",as,[(0,n.Wm)(g,{required:"",onKeyup:s.searchClient,outlined:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[1]||(t[1]=e=>i.client.numeroDocumento=e),label:"CI / NIT *",hint:"Carnet o nit","lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"]},null,8,["onKeyup","modelValue","rules"])]),(0,n._)("div",is,[(0,n.Wm)(g,{onKeyup:s.searchClient,outlined:"",modelValue:i.client.complemento,"onUpdate:modelValue":t[2]||(t[2]=e=>i.client.complemento=e),label:"COMPLEMENTO"},null,8,["onKeyup","modelValue"])]),(0,n._)("div",ns,[(0,n.Wm)(g,{required:"",outlined:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.nombreRazonSocial=e),label:"Nombre y razon *",hint:"Razon social",style:{"text-transform":"uppercase"},"lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"]},null,8,["modelValue","rules"])]),(0,n._)("div",ss,[(0,n.Wm)(b,{modelValue:i.document,"onUpdate:modelValue":t[4]||(t[4]=e=>i.document=e),outlined:"",options:i.documents},null,8,["modelValue","options"])]),(0,n._)("div",ds,[(0,n.Wm)(g,{outlined:"",modelValue:i.client.email,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.email=e),label:"Email",type:"email"},null,8,["modelValue"])]),(0,n._)("div",rs,[(0,n.Wm)(g,{required:"",outlined:"",disable:"",modelValue:s.total,"onUpdate:modelValue":t[6]||(t[6]=e=>s.total=e),label:"Total*","lazy-rules":""},null,8,["modelValue"])]),(0,n._)("div",cs,[(0,n.Wm)(g,{modelValue:i.efectivo,"onUpdate:modelValue":t[7]||(t[7]=e=>i.efectivo=e),outlined:"",label:"Monto recibido"},null,8,["modelValue"])]),(0,n._)("div",us,[(0,n.Wm)(g,{outlined:"",disable:"",label:"Cambio",modelValue:s.cambio,"onUpdate:modelValue":t[8]||(t[8]=e=>s.cambio=e)},null,8,["modelValue"])]),(0,n._)("div",ms,[(0,n.Wm)(f,{modelValue:i.credito,"onUpdate:modelValue":t[9]||(t[9]=e=>i.credito=e),label:"T Credito"},null,8,["modelValue"])]),(0,n._)("div",ps,[(0,n.Wm)(f,{onInput:s.verificar,modelValue:i.tarjeta,"onUpdate:modelValue":t[10]||(t[10]=e=>i.tarjeta=e),label:"Tarjeta"},null,8,["onInput","modelValue"])])]),(0,n._)("div",null,[(0,n.Wm)(p,{label:"venta",icon:"send",type:"submit",color:"positive",disable:i.btn},null,8,["disable"]),(0,n.Wm)(p,{label:"Cerrar",type:"button",size:"md",icon:"delete",color:"negative",class:"q-ml-sm",onClick:t[11]||(t[11]=e=>i.icon=!1)})])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),hs])),_:1})}const bs={name:"Sale",data(){return{saleDialog:!1,url:"https://bplaza.miganancia.cf/api/",now:de.ZP.formatDate(new Date,"YYYY-MM-DD"),efectivo:"",btn:!1,rubros:[],productos:[],client:{complemento:""},temporal:[],loading:!1,documents:[],document:{},credito:!1,store:(0,se.c)(),icon:!1,tarjeta:!1,cine:{},leyendas:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.listado(),this.encabezado(),this.cargarLeyenda(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{verificar(){this.codigo="",this.nombresaldo="",this.booltargeta||this.tienerebaja&&(this.$store.state.products.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1)},reset(){this.store.detallecandy=[]},quitar(e){this.store.detallecandy.splice(e,1)},agregar(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad++,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2)},disminuir(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad--,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2),0==this.store.detallecandy[e].cantidad&&this.store.detallecandy.splice(e,1)},miventa(e){let t=this.store.detallecandy.findIndex((t=>t.product_id===e.id));-1==t?this.store.detallecandy.push({product_id:e.id,nombre:e.nombre,precio:e.precio,cantidad:1,subtotal:e.precio}):(this.store.detallecandy[t].cantidad++,this.store.detallecandy[t].subtotal=(parseFloat(e.precio)*parseFloat(this.store.detallecandy[t].cantidad)).toFixed(2))},listado(){this.$api.post("listadoprod").then((e=>{console.log(e.data),this.rubros=e.data}))},saleInsert(){if(0==this.client.numeroDocumento)return this.$q.notify({color:"red",textColor:"white",message:"Debe ingresar un numero de documento"}),!1;this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("salecandy",{client:this.client,montoTotal:this.total,detalleVenta:this.store.detallecandy}).then((e=>{this.reset(),1==e.data.sale.siatEnviado&&this.printFactura(e.data.sale),this.printComanda(e.data.sale),this.icon=!1,this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=ci().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await ui.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},async printComanda(e){this.facturadetalle=e;let t=ci().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))}},computed:{cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},total:function(){let e=0;return this.store.detallecandy.forEach((t=>{e+=parseFloat(t.precio)*parseFloat(t.cantidad)})),e.toFixed(2)}}},fs=(0,r.Z)(bs,[["render",gs],["__scopeId","data-v-d83865f0"]]),vs=fs;D()(bs,"components",{QPage:y.Z,QCard:Ce.Z,QCardSection:De.Z,QIcon:pe.Z,QSeparator:pi.Z,QImg:ge.Z,QBtn:ue.Z,QDialog:ye.Z,QSpace:Ie.Z,QForm:xe.Z,QInput:me.Z,QSelect:Te.Z,QCheckbox:Uo.Z}),D()(bs,"directives",{ClosePopup:Ve.Z});const ws={class:"row"},_s={class:"col-12"},ys={class:"row"},Cs={class:"col-4 q-pa-xs"},Ds={class:"col-4 q-pa-xs"},Is={class:"col-4 q-pa-xs flex flex-center"},xs={class:"col-12"},Ts=(0,n._)("div",{class:"text-h6"},"Boletos",-1),Ms=["src"],Ws={id:"myelement",class:"hidden"},Vs=(0,n._)("div",{class:"text-h6"},"ANULAR FACTURA",-1);function As(e,t,l,a,i,s){const d=(0,n.up)("q-input"),r=(0,n.up)("q-btn"),c=(0,n.up)("q-form"),u=(0,n.up)("q-badge"),m=(0,n.up)("q-td"),p=(0,n.up)("q-item-section"),h=(0,n.up)("q-item"),g=(0,n.up)("q-list"),b=(0,n.up)("q-btn-dropdown"),f=(0,n.up)("q-table"),v=(0,n.up)("q-card-section"),w=(0,n.up)("q-card-actions"),_=(0,n.up)("q-card"),y=(0,n.up)("q-dialog"),C=(0,n.up)("q-select"),D=(0,n.up)("q-page"),I=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",ws,[(0,n._)("div",_s,[(0,n.Wm)(c,{onSubmit:(0,o.iM)(s.listaVentaBoleteriaGet,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",ys,[(0,n._)("div",Cs,[(0,n.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,n._)("div",Ds,[(0,n.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,n._)("div",Is,[(0,n.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,n._)("div",xs,[(0,n.Wm)(f,{rows:i.listaVentaBoleteria,columns:i.listaColums},{"body-cell-siatAnulado":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{color:"primary",label:"Opciones"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>s.printFactura(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Imp Boletos","no-caps":"",onClick:t=>s.detalleimp(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>s.anularSale(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{label:"Enviar Correo ",class:"full-width",color:"teal",onClick:t=>s.correo(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,n.Wm)(y,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[Ts])),_:1}),(0,n.Wm)(v,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e},{default:(0,n.w5)((()=>[0==e.row.devuelto?((0,n.wg)(),(0,n.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>s.boletoprint(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,n.Wm)(w,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",label:"Cancel"},null,512),[[I]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,Ms)]),(0,n._)("div",Ws,(0,Nt.zw)(i.lorem),1),(0,n.Wm)(y,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialogAnular=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{style:{"min-width":"350px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[Vs])),_:1}),(0,n.Wm)(v,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[3]||(t[3]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,n.Wm)(w,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",label:"Cancel"},null,512),[[I]]),(0,n.Wm)(r,{flat:"",label:"ANULAR",onClick:s.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Es=l(8746),Ss=l(2316),Ls={name:"LisaVenta",data(){return{lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaBoleteria:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:"numeroFactura",sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.listaVentaBoleteriaGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{correo(e){console.log(e),this.$api.post("enviarCorreo",{client:e.client,sale:e}).then((e=>{e.data&&this.$q.notify({color:"green",textColor:"white",message:"enviado al correo"})}))},enviarAnular(){this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data)}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",document.getElementById("myelement").innerHTML=t;const l=new di.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=Es.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Ss.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.programa_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},listaVentaBoleteriaGet(){this.loading=!0,this.$api.post("listaVentaBoleteria",{fechaIni:this.fechaIni,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.listaVentaBoleteria=e.data}))}}},js=(0,r.Z)(Ls,[["render",As]]),Ns=js;D()(Ls,"components",{QPage:y.Z,QForm:xe.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBadge:cl.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QCardActions:ko.Z,QSelect:Te.Z}),D()(Ls,"directives",{ClosePopup:Ve.Z});const qs={class:"row"},Os={class:"col-12"},Us={class:"row"},ks={class:"col-4 q-pa-xs"},Fs={class:"col-4 q-pa-xs"},zs={class:"col-4 q-pa-xs flex flex-center"},Zs={class:"col-12"},Qs=(0,n._)("div",{class:"text-h6"},"Boletos",-1),Rs=["src"],Ps={id:"myelement",class:"hidden"},Ys=(0,n._)("div",{class:"text-h6"},"ANULAR FACTURA",-1);function $s(e,t,l,a,i,s){const d=(0,n.up)("q-input"),r=(0,n.up)("q-btn"),c=(0,n.up)("q-form"),u=(0,n.up)("q-badge"),m=(0,n.up)("q-td"),p=(0,n.up)("q-item-section"),h=(0,n.up)("q-item"),g=(0,n.up)("q-list"),b=(0,n.up)("q-btn-dropdown"),f=(0,n.up)("q-table"),v=(0,n.up)("q-card-section"),w=(0,n.up)("q-card-actions"),_=(0,n.up)("q-card"),y=(0,n.up)("q-dialog"),C=(0,n.up)("q-select"),D=(0,n.up)("q-page"),I=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",qs,[(0,n._)("div",Os,[(0,n.Wm)(c,{onSubmit:(0,o.iM)(s.listaVentaCandyGet,["prevent"])},{default:(0,n.w5)((()=>[(0,n._)("div",Us,[(0,n._)("div",ks,[(0,n.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,n._)("div",Fs,[(0,n.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,n._)("div",zs,[(0,n.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,n._)("div",Zs,[(0,n.Wm)(f,{rows:i.listaVentaCandy,columns:i.listaColums},{"body-cell-siatAnulado":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{color:"primary",label:"Opciones"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>s.printFactura(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Comanda","no-caps":"",onClick:t=>s.printComanda(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>s.anularSale(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(h,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,n.Wm)(y,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[Qs])),_:1}),(0,n.Wm)(v,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,n.w5)((e=>[(0,n.Wm)(m,{props:e},{default:(0,n.w5)((()=>[0==e.row.devuelto?((0,n.wg)(),(0,n.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>s.boletoprint(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,n.Wm)(w,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",label:"Cancel"},null,512),[[I]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,Rs)]),(0,n._)("div",Ps,(0,Nt.zw)(i.lorem),1),(0,n.Wm)(y,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialogAnular=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{style:{"min-width":"350px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[Ys])),_:1}),(0,n.Wm)(v,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[3]||(t[3]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,n.Wm)(w,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",label:"Cancel"},null,512),[[I]]),(0,n.Wm)(r,{flat:"",label:"ANULAR",onClick:s.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Bs=l(8746),Gs=l(2316),Hs={name:"LisaVenta",data(){return{lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaCandy:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:"numeroFactura",sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.listaVentaCandyGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{async printComanda(e){this.facturadetalle=e;let t=Bs.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},enviarAnular(){this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data)}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",document.getElementById("myelement").innerHTML=t;const l=new di.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=Bs.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Gs.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},listaVentaCandyGet(){this.loading=!0,this.$api.post("listaVentaCandy",{fechaIni:this.fechaIni,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.listaVentaCandy=e.data}))}}},Ks=(0,r.Z)(Hs,[["render",$s]]),Js=Ks;D()(Hs,"components",{QPage:y.Z,QForm:xe.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBadge:cl.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QCardActions:ko.Z,QSelect:Te.Z}),D()(Hs,"directives",{ClosePopup:Ve.Z});const Xs={class:"row"},ed={class:"col-12"},td=(0,n._)("div",{class:"text-h6"}," Datos que se enviaran a impuestos ",-1),ld={class:"row"},od={class:"col-12"},ad={class:"col-12"},id=(0,n._)("div",{class:"text-h6"}," RECEPCION DE PAQUETE ",-1);function nd(e,t,l,o,a,i){const s=(0,n.up)("q-btn"),d=(0,n.up)("q-td"),r=(0,n.up)("q-table"),c=(0,n.up)("q-space"),u=(0,n.up)("q-card-section"),m=(0,n.up)("q-card"),p=(0,n.up)("q-dialog"),h=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(h,null,{default:(0,n.w5)((()=>[(0,n._)("div",Xs,[(0,n._)("div",ed,[(0,n.Wm)(r,{dense:"",title:"Control de eventos",rows:a.eventoSignificativos,columns:a.eventoSignificativoColumns},{"body-cell-Opciones":(0,n.w5)((e=>[(0,n.Wm)(d,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{onClick:t=>i.recepcionPaqueteFacturaClick(e.row),label:"Enviar a impuestos",color:"primary",icon:"send",size:"10px"},null,8,["onClick"]),null!=e.row.codigoRecepcion?((0,n.wg)(),(0,n.j4)(s,{key:0,class:"q-ml-lg",onClick:t=>i.validarPaquete(e.row),label:"Validar",color:"yellow-9",icon:"send",size:"10px"},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,n.Wm)(p,{modelValue:a.eventoSignificativoDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>a.eventoSignificativoDialog=e),"full-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"row items-center"},{default:(0,n.w5)((()=>[td,(0,n.Wm)(c),(0,n.Wm)(s,{onClick:t[0]||(t[0]=e=>a.eventoSignificativoDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n._)("div",ld,[(0,n._)("div",od,[(0,n.Wm)(r,{rows:a.eventoSignificativosDatos,columns:a.eventoDetalle},null,8,["rows","columns"])])]),(0,n._)("div",ad,[(0,n.Wm)(s,{onClick:i.recepcionPaqueteFactura,disable:0==a.eventoSignificativosDatos.length,label:"Enviar",color:"primary",icon:"send",class:"full-width",loading:a.loading},null,8,["onClick","disable","loading"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(p,{modelValue:a.recepcionPaqueteFacturaDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>a.recepcionPaqueteFacturaDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"row text-center"},{default:(0,n.w5)((()=>[id,(0,n.Wm)(c),(0,n.Wm)(s,{onClick:t[2]||(t[2]=e=>a.recepcionPaqueteFacturaDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n._)("pre",null,(0,Nt.zw)(a.validarPaqueteRespuesta),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const sd={name:"EventoSignificativo",data(){return{store:(0,se.c)(),loading:!1,eventoSignificativoDialog:!1,eventoSignificativos:[],eventoSignificativo:{},eventoSignificativosDatos:[],eventoSignificativoColumns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"codigoPuntoVenta",name:"codigoPuntoVenta",field:"codigoPuntoVenta"},{label:"codigoRecepcionEventoSignificativo",name:"codigoRecepcionEventoSignificativo",field:"codigoRecepcionEventoSignificativo"},{label:"codigoRecepcion",name:"codigoRecepcion",field:"codigoRecepcion"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"fechaHoraInicioEvento",name:"fechaHoraInicioEvento",field:"fechaHoraInicioEvento"},{label:"fechaHoraFinEvento",name:"fechaHoraFinEvento",field:"fechaHoraFinEvento"},{label:"codigoMotivoEvento",name:"codigoMotivoEvento",field:"codigoMotivoEvento"},{label:"descripcion",name:"descripcion",field:"descripcion"}],validarPaqueteRespuesta:"",recepcionPaqueteFacturaDialog:!1,eventoDetalle:[{label:"numeroFactura",name:"numeroFactura",field:"numeroFactura"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"codigoPuntoVenta",name:"codigoPuntoVenta",field:"codigoPuntoVenta"},{label:"fechaEmision",name:"fechaEmision",field:"fechaEmision"},{label:"montoTotal",name:"montoTotal",field:"montoTotal"},{label:"usuario",name:"usuario",field:"usuario"}]}},created(){this.eventoSignificativoGet()},methods:{validarPaquete(e){console.log(e),this.recepcionPaqueteFacturaDialog=!0,this.$api.post("validarPaquete",{codigoRecepcion:e.codigoRecepcion}).then((e=>{this.validarPaqueteRespuesta=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},recepcionPaqueteFactura(){this.eventoSignificativo.datos=this.eventoSignificativosDatos,this.loading=!0,this.$api.post("recepcionPaqueteFactura",this.eventoSignificativo).then((e=>{console.log(e.data),this.eventSearch(),this.eventoSignificativoDialog=!1,this.loading=!1})).catch((e=>{this.$q.notify({color:"red-6",textColor:"white",icon:"error",message:e.response.data.message}),this.loading=!1}))},recepcionPaqueteFacturaClick(e){this.eventoSignificativo=e,this.eventoSignificativoDialog=!0,this.$api.post("cantidadFacturas",{fechaInicio:e.fechaHoraInicioEvento,fechaFin:e.fechaHoraFinEvento}).then((e=>{this.eventoSignificativosDatos=e.data}))},eventoSignificativoGet(){this.loading=!0,this.$api.get("eventoSignificativo").then((e=>{this.loading=!1,this.eventoSignificativos=e.data})).catch((e=>{this.loading=!1,this.error=e}))}}},dd=(0,r.Z)(sd,[["render",nd]]),rd=dd;D()(sd,"components",{QPage:y.Z,QTable:ce.Z,QTd:he.Z,QBtn:ue.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z});const cd={class:"row"},ud={class:"col-12"},md={class:"row"},pd={class:"col-3"},hd={class:"col-3"},gd={class:"col-3 flex flex-center"},bd={class:"col-3 flex flex-center"},fd={class:"col-12"},vd=(0,n._)("div",{class:"text-h6"},"Realizar venta",-1),wd={class:"row"},_d={class:"col-2"},yd={class:"col-2"},Cd={class:"col-3"},Dd={class:"col-3"},Id={class:"col-2"},xd={class:"row"},Td={class:"col-3"},Md={class:"col-3"},Wd={class:"col-3"},Vd={class:"col-3"},Ad={class:"row"},Ed={class:"col-6"},Sd={class:"col-6"},Ld=(0,n._)("div",{class:"text-h6"},"ANULAR FACTURA",-1),jd=(0,n._)("div",{id:"myelement",class:"hidden"},null,-1);function Nd(e,t,l,a,i,s){const d=(0,n.up)("q-input"),r=(0,n.up)("q-btn"),c=(0,n.up)("q-item-section"),u=(0,n.up)("q-item"),m=(0,n.up)("q-list"),p=(0,n.up)("q-btn-dropdown"),h=(0,n.up)("q-td"),g=(0,n.up)("q-table"),b=(0,n.up)("q-space"),f=(0,n.up)("q-card-section"),v=(0,n.up)("q-select"),w=(0,n.up)("q-separator"),_=(0,n.up)("q-form"),y=(0,n.up)("q-card"),C=(0,n.up)("q-dialog"),D=(0,n.up)("q-card-actions"),I=(0,n.up)("q-page"),x=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(I,null,{default:(0,n.w5)((()=>[(0,n._)("div",cd,[(0,n._)("div",ud,[(0,n._)("div",md,[(0,n._)("div",pd,[(0,n.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,n._)("div",hd,[(0,n.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,n._)("div",gd,[(0,n.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:s.rentalConsulta},null,8,["loading","onClick"])]),(0,n._)("div",bd,[(0,n.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:s.rentalClickCreate},null,8,["onClick"])])])]),(0,n._)("div",fd,[(0,n.Wm)(g,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.rentals,columns:i.columns},{"body-cell-Opciones":(0,n.w5)((e=>[(0,n.Wm)(h,{props:e,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{color:"primary",label:"Opciones"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>s.printFactura(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[0==e.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>s.anularSale(e.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,n.Wm)(C,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.saleDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[vd,(0,n.Wm)(b),(0,n.wy)((0,n.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,n.Wm)(_,{onSubmit:(0,o.iM)(s.rentalInsert,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("div",wd,[(0,n._)("div",_d,[(0,n.Wm)(d,{outlined:"",label:"NIT/CARNET",onKeyup:s.searchClient,required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[2]||(t[2]=e=>i.client.numeroDocumento=e)},null,8,["onKeyup","modelValue"])]),(0,n._)("div",yd,[(0,n.Wm)(d,{outlined:"",label:"Complemento",onKeyup:s.searchClient,modelValue:i.client.complemento,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.complemento=e)},null,8,["onKeyup","modelValue"])]),(0,n._)("div",Cd,[(0,n.Wm)(d,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[4]||(t[4]=e=>i.client.nombreRazonSocial=e)},null,8,["modelValue"])]),(0,n._)("div",Dd,[(0,n.Wm)(v,{modelValue:i.document,"onUpdate:modelValue":t[5]||(t[5]=e=>i.document=e),outlined:"",options:i.documents},null,8,["modelValue","options"])]),(0,n._)("div",Id,[(0,n.Wm)(d,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[6]||(t[6]=e=>i.client.email=e),type:"email"},null,8,["modelValue"])])])])),_:1}),(0,n.Wm)(w),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("div",xd,[(0,n._)("div",Td,[(0,n.Wm)(d,{outlined:"",label:"TOTAL A PAGAR:",modelValue:i.rental.montoTotal,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rental.montoTotal=e),step:"0.01",type:"number",required:""},null,8,["modelValue"])]),(0,n._)("div",Md,[(0,n.Wm)(v,{outlined:"",label:"Mes:",modelValue:i.rental.mes,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rental.mes=e),options:i.meses},null,8,["modelValue","options"])]),(0,n._)("div",Wd,[(0,n.Wm)(v,{outlined:"",label:"Periodo:",modelValue:i.rental.gestion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rental.gestion=e),options:i.gestiones},null,8,["modelValue","options"])]),(0,n._)("div",Vd,[(0,n.Wm)(d,{outlined:"",label:"Descripcion:",modelValue:i.rental.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rental.descripcion=e),required:""},null,8,["modelValue"])])])])),_:1}),(0,n.Wm)(w),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("div",Ad,[(0,n._)("div",Ed,[(0,n.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,n._)("div",Sd,[(0,n.Wm)(r,{class:"full-width",icon:"undo",onClick:t[11]||(t[11]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(C,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[14]||(t[14]=e=>i.dialogAnular=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{style:{"min-width":"350px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[Ld])),_:1}),(0,n.Wm)(f,{class:"q-pt-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,n.Wm)(D,{align:"right",class:"text-primary"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(r,{flat:"",label:"Cancel"},null,512),[[x]]),(0,n.Wm)(r,{flat:"",label:"ANULAR",onClick:s.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),jd])),_:1})}const qd={name:"Rental",data(){return{dialogAnular:!1,loading:!1,fechaInicio:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),rentals:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(de.ZP.formatDate(new Date,"YYYY"))-2,parseInt(de.ZP.formatDate(new Date,"YYYY"))-1,parseInt(de.ZP.formatDate(new Date,"YYYY")),parseInt(de.ZP.formatDate(new Date,"YYYY"))+1,parseInt(de.ZP.formatDate(new Date,"YYYY"))+2],rental:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:de.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,qrImage:"",cine:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Periodo Facturado",name:"periodoFacturado",field:"periodoFacturado",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"},{label:"client_id",name:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"id",name:"id",field:"id",sortable:!0}],motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.encabezado(),this.rental.mes=this.meses[parseInt(de.ZP.formatDate(new Date,"M")-1)],this.$api.get("datocine").then((e=>{this.cine=e.data})),this.rentalConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.cargarMotivo()},methods:{anularSale(e){this.factura=e,this.dialogAnular=!0},enviarAnular(){this.$api.post("anularRental",{rental:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data),this.rentalConsulta(),this.dialogAnular=!1}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},rentalInsert(){this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("rental",{client:this.client,montoTotal:this.rental.montoTotal,descripcion:this.rental.descripcion,periodoFacturado:this.rental.mes+" "+this.rental.gestion}).then((e=>{console.log(e.data),this.saleDialog=!1,1==e.data.rental.siatEnviado&&this.printFactura(e.data.rental),this.rentalConsulta(),this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){console.log(e),this.facturadetalle=e;let t=ci().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await ui.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 8px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 12px;      text-align: left;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%    border-collapse: collapse;  }  .tabenc>tr>td{  font-size: 12px;border: 1px solid;  font-weight: bold;  text-align: center;  border-collapse: collapse;  }    .tabcont>tr>td{  font-size: 10px;border: 1px solid;  text-align: center;  border-collapse: collapse;  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr><td style='width: 50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,33)+"<br>"+this.cine.direccion.substring(33)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>        </td><td style='vertical-align:top; text-align: right;width: 50%;'>        <div class='titulo' style='text-align: right'>NIT</div>        <div class='titulo' style='text-align: right'>FACTURA N°</div>        <div class='titulo' style='text-align: right'>CÓD. AUTORIZACIÓN</div>        </td><td style='vertical-align:top; '>        <div class='titulo2' style='text-align: left;'>"+this.cine.nit+"</div>        <div class='titulo2' style='text-align: left;'>"+e.numeroFactura+"</div>        <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div>      <td></tr>    </table>      <div class='titulo'><span style='font-size: 12px'>FACTURA DE ALQUILER</span><br>(Con Derecho a Crédito Fiscal) </div>      <table >        <tr><td class='titizq'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td><td style='width: 20%'></td></tc><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titizq'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td><td style='width: 20%'></td><td class='titder'>Cod. Cliente:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titizq'></td><td class='contenido'></td><td style='width: 20%'></td><td class='titder'>Periodo Facturado:</td><td class='contenido'>"+e.periodoFacturado+"</td></tr>      </table><br>      <table style='width: 100%;border-collapse: collapse;'>      <thead class='tabenc'>      <tr><td>CÓDIGO SERVICIO</td><td>CANTIDAD</td><td>UNIDAD DE MEDIDA</td><td>DESCRIPCIÓN</td><td>PRECIO UNITARIO</td><td>DESCUENTO</td><td>SUBTOTAL</td></tr>      </thead>      <tbody class='tabcont'>      <tr><td>"+e.codigoProducto+"</td><td>"+e.cantidad+"</td><td>"+e.medida+"</td><td>"+e.descripcion+"</td><td>"+e.precioUnitario+"</td><td>"+e.montoDescuento+"</td><td>"+e.subTotal+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' style='font-size: 8px' colspan='2'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </tbody></table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <table><tr><td>      <div class='titulo2 col-10' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY<br><br>"+e.leyenda+" <br>“Este documento es la Representación Gráfica de un Documento Fiscal Digital emitido en una modalidad de facturación en línea”</div></td><td><div style='display: flex;justify-content: center;' class='col-2'>  <img src="+this.qrImage+" >      </div></td></tr>              </table>";document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},rentalClickCreate(){this.rental.montoTotal="",this.rental.descripcion="",this.saleDialog=!0,this.client={complemento:""}},rentalConsulta(){this.loading=!0,this.$api.post("rentalConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.rentals=e.data}))}}},Od=(0,r.Z)(qd,[["render",Nd]]),Ud=Od;D()(qd,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z,QSeparator:pi.Z,QCardActions:ko.Z}),D()(qd,"directives",{ClosePopup:Ve.Z});const kd={class:"row"},Fd={class:"col-12"},zd={class:"row"},Zd={class:"col-3"},Qd={class:"col-3"},Rd={class:"col-3 flex flex-center"},Pd={class:"col-3 flex flex-center"},Yd={class:"col-12"},$d=(0,n._)("div",{class:"text-h6"},"Realizar venta",-1),Bd={class:"row"},Gd={class:"col-3"},Hd={class:"col-3"},Kd={class:"row"},Jd={class:"col-6"},Xd={class:"col-6"},er=(0,n._)("div",{id:"myelement",class:"hidden"},null,-1);function tr(e,t,l,a,i,s){const d=(0,n.up)("q-input"),r=(0,n.up)("q-btn"),c=(0,n.up)("q-item-section"),u=(0,n.up)("q-item"),m=(0,n.up)("q-list"),p=(0,n.up)("q-btn-dropdown"),h=(0,n.up)("q-td"),g=(0,n.up)("q-table"),b=(0,n.up)("q-space"),f=(0,n.up)("q-card-section"),v=(0,n.up)("q-select"),w=(0,n.up)("q-separator"),_=(0,n.up)("q-form"),y=(0,n.up)("q-card"),C=(0,n.up)("q-dialog"),D=(0,n.up)("q-page"),I=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.j4)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",kd,[(0,n._)("div",Fd,[(0,n._)("div",zd,[(0,n._)("div",Zd,[(0,n.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,n._)("div",Qd,[(0,n.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,n._)("div",Rd,[(0,n.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:s.prevaloradaConsulta},null,8,["loading","onClick"])]),(0,n._)("div",Pd,[(0,n.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:s.prevaloradaClickCreate},null,8,["onClick"])])])]),(0,n._)("div",Yd,[(0,n.Wm)(g,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.prevaloradas,columns:i.columns},{"body-cell-Opciones":(0,n.w5)((t=>[(0,n.Wm)(h,{props:t,"auto-width":""},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{color:"primary",label:"Opciones"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[0==t.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:e=>s.printFactura(t.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"print",color:"primary",class:"full-width",label:"blue","no-caps":"",onClick:s.printButton},null,8,["onClick"])])),_:1})])),_:1})),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[0==t.row.siatAnulado?((0,n.wg)(),(0,n.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:l=>e.anularSale(t.row)},null,8,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{clickable:""},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${t.row.cuf}&numero=${t.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,n.Wm)(C,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>i.saleDialog=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{class:"row items-center q-pb-none"},{default:(0,n.w5)((()=>[$d,(0,n.Wm)(b),(0,n.wy)((0,n.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,n.Wm)(_,{onSubmit:(0,o.iM)(s.prevaloradaInsert,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("div",Bd,[(0,n._)("div",Gd,[(0,n.Wm)(v,{outlined:"",modelValue:i.vehiculo,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vehiculo=e),options:i.vehiculos,label:"Tipo"},null,8,["modelValue","options"])]),(0,n._)("div",Hd,[(0,n.Wm)(d,{outlined:"",modelValue:i.cantidad,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cantidad=e),label:"Cantidad",type:"number"},null,8,["modelValue"])])])])),_:1}),(0,n.Wm)(w),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("div",Kd,[(0,n._)("div",Jd,[(0,n.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,n._)("div",Xd,[(0,n.Wm)(r,{class:"full-width",icon:"undo",onClick:t[4]||(t[4]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),er])])),_:1})}const lr={name:"Prevalorada",data(){return{loading:!1,fechaInicio:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),prevaloradas:[],cantidad:0,vehiculos:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(de.ZP.formatDate(new Date,"YYYY"))-2,parseInt(de.ZP.formatDate(new Date,"YYYY"))-1,parseInt(de.ZP.formatDate(new Date,"YYYY")),parseInt(de.ZP.formatDate(new Date,"YYYY"))+1,parseInt(de.ZP.formatDate(new Date,"YYYY"))+2],prevalorada:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:de.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,vehiculo:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"id",name:"id",field:"id",sortable:!0}],cine:{},leyendas:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:60,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.$api.get("datocine").then((e=>{this.cine=e.data})),this.$api.get("vehiculo").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.vehiculos=e.data,this.vehiculo=this.vehiculos[0]})),this.prevaloradaConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{prevaloradaInsert(){if(this.cantidad<=0||void 0==this.cantidad||""==this.cantidad)return!1;this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.$api.post("prevalorada",{client:this.client,vehiculo:this.vehiculo,cantidad:this.cantidad}).then((e=>{console.log(e.data),e.data.forEach((e=>{this.printFactura(e)})),this.prevaloradaConsulta(),this.cantidad=1,this.saleDialog=!1,this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=ci().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await ui.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 7px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 6px;      text-align: right;      }      .titder{      font-size: 6px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 14px;      text-align: left;      font-weight: bold;    }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr>    <td style='width:50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div></td>    <td style='width: 50%'>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div> </td>    </tr>    </table>    <div class='titder'>OTRAS ACTIVIDADES DE TRANSPORTE COMPLEMENTARIA <br>(TERMINAL DE BUSES, PLAYAS DE ESTACIONAMIENTO, ETC)</div>";a+="<table>      <tr><td class='titizq'>FACTURA</td><td style='text-align: right'><span style='font-size: 12px'>Bs. "+parseFloat(e.montoTotal).toFixed(2)+"</span><br><span style='font-size: 6px'>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</span></td></tr>      </table>            <div style='font-size: 10px; text-align: center'>Oruro, "+e.fechaEmision.substring(0,10)+"</div><br>      <div style='font-size: 6px'>'ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY'<br>      "+e.leyenda+"       </div><br>     </div>       <img src="+this.qrImage+" >      ",document.getElementById("myelement").innerHTML=a;const i=new di.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},prevaloradaClickCreate(){this.prevalorada.montoTotal="",this.prevalorada.descripcion="",this.cantidad=1,this.saleDialog=!0,this.client={complemento:""}},printButton(){let e;progress.hidden=!1,null==e?navigator.bluetooth.requestDevice({filters:[{services:["000018f0-0000-1000-8000-00805f9b34fb"]}]}).then((e=>(console.log("> Found "+e.name),console.log("Connecting to GATT Server..."),e.gatt.connect()))).then((e=>e.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb"))).then((e=>e.getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"))).then((t=>{e=t,sendPrinterData()})).catch(handleError):sendPrinterData()},prevaloradaConsulta(){this.loading=!0,this.$api.post("prevaloradaConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.prevaloradas=e.data}))}}},or=(0,r.Z)(lr,[["render",tr]]),ar=or;D()(lr,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:Ie.Z,QForm:xe.Z,QSelect:Te.Z,QSeparator:pi.Z}),D()(lr,"directives",{ClosePopup:Ve.Z});const ir={class:"row"},nr={class:"col-3"},sr={class:"col-3"},dr={class:"col-3"},rr={key:0,class:"col-6"},cr=(0,n._)("div",{class:"text-h5"},"DATOS DE CLIENTE",-1);function ur(e,t,l,o,a,i){const s=(0,n.up)("q-input"),d=(0,n.up)("q-btn"),r=(0,n.up)("q-select"),c=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",ir,[(0,n._)("div",nr,[(0,n.Wm)(s,{modelValue:a.client.numeroDocumento,"onUpdate:modelValue":t[0]||(t[0]=e=>a.client.numeroDocumento=e),label:"NIT/CI/CEX",outlined:""},null,8,["modelValue"])]),(0,n._)("div",sr,[(0,n.Wm)(s,{modelValue:a.client.complemento,"onUpdate:modelValue":t[1]||(t[1]=e=>a.client.complemento=e),label:"COMPLEMENTO",outlined:""},null,8,["modelValue"])]),(0,n._)("div",dr,[(0,n.Wm)(d,{label:"Buscar Cliente",icon:"search",onClick:i.searchClient,color:"info"},null,8,["onClick"])]),void 0!=a.client.id?((0,n.wg)(),(0,n.iD)("div",rr,[cr,(0,n.Wm)(r,{modelValue:a.document,"onUpdate:modelValue":t[2]||(t[2]=e=>a.document=e),outlined:"",options:a.documents},null,8,["modelValue","options"]),(0,n.Wm)(s,{modelValue:a.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>a.client.nombreRazonSocial=e),label:"Nombre RazonSocial",outlined:""},null,8,["modelValue"]),(0,n.Wm)(s,{modelValue:a.client.email,"onUpdate:modelValue":t[4]||(t[4]=e=>a.client.email=e),label:"Email",type:"email",outlined:""},null,8,["modelValue"]),(0,n.Wm)(d,{label:"Modificar",icon:"edit",onClick:i.updateClient,color:"yellow"},null,8,["onClick"])])):(0,n.kq)("",!0)])])),_:1})}const mr={name:"Cliente",data(){return{client:{},document:{},documents:[]}},created(){this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{searchClient(){if(void 0==this.client.numeroDocumento)return!1;this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},updateClient(){if(void 0==this.client.id)return!1;this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.put("client/"+this.client.id,this.client).then((e=>{}))}}},pr=(0,r.Z)(mr,[["render",ur]]),hr=pr;D()(mr,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QSelect:Te.Z});const gr=[{path:"/",component:()=>Promise.all([l.e(736),l.e(420)]).then(l.bind(l,1420)),children:[{path:"",component:x},{path:"peliculas",component:Ee},{path:"distribuidores",component:it},{path:"cuis",component:gt},{path:"cufd",component:Hl},{path:"sincronizacion",component:jt},{path:"salas",component:ml},{path:"tarifas",component:jl},{path:"sale",component:gi},{path:"programa",component:zo},{path:"rubro",component:Zi},{path:"productos",component:vn},{path:"candy",component:vs},{path:"listaVenta",component:Ns},{path:"listaVentaCandy",component:Js},{path:"eventoSignificativo",component:rd},{path:"rental",component:Ud},{path:"prevalorada",component:ar},{path:"cliente",component:hr}]},{path:"/:catchAll(.*)*",component:()=>l.e(862).then(l.bind(l,1862))}],br=gr,fr=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:br,history:e("")});return t}));async function vr(e,t){const l=e(u);l.use(a.Z,t);const o="function"===typeof h?await h({}):h;l.use(o);const n=(0,i.Xl)("function"===typeof fr?await fr({store:o}):fr);return o.use((({store:e})=>{e.router=n})),{app:l,store:o,router:n}}var wr=l(8934),_r=l(7286),yr=l(4328),Cr=l(6950),Dr=l(7159);const Ir={config:{},lang:wr.Z,plugins:{Dialog:_r.Z,Notify:yr.Z,Loading:Cr.Z,LoadingBar:Dr.Z}};var xr=l(368);(0,xr.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&l.e(736).then(l.t.bind(l,4848,23));const Tr="";async function Mr({app:e,router:t,store:l},o){let a=!1;const i=e=>{try{return t.resolve(e).href}catch(l){}return Object(e)===e?null:e},n=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},s=window.location.href.replace(window.location.origin,"");for(let r=0;!1===a&&r<o.length;r++)try{await o[r]({app:e,router:t,store:l,ssrContext:null,redirect:n,urlPath:s,publicPath:Tr})}catch(d){return d&&d.url?void n(d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&(e.use(t),e.mount("#q-app"))}vr(o.ri,Ir).then((e=>Promise.all([Promise.resolve().then(l.bind(l,1569))]).then((t=>{const l=t.map((e=>e.default)).filter((e=>"function"===typeof e));Mr(e,l)}))))},1569:(e,t,l)=>{"use strict";l.r(t),l.d(t,{api:()=>n,default:()=>s});var o=l(3340),a=l(9981),i=l.n(a);const n=i().create({baseURL:"https://bplaza.miganancia.cf/api/"}),s=(0,o.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=n}))},3285:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});var o=l(2502);const a=(0,o.Q_)("global",{state:()=>({counter:0,movies:[],eventNumber:0,movieSingleTon:!1,distributors:[],distributor:{},distributorSingleTon:!1,salas:[],salaSingleTon:!1,prices:[],priceSingleTon:!1,rubros:[],rubroSingleTon:!1,rubro:{},productos:[],productoSingleTon:!1,detallecandy:[],salas2:[],salas3:[],movies2:[],movies3:[],prices2:[],prices3:[]}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})},6700:(e,t,l)=>{var o={"./af":3902,"./af.js":3902,"./ar":6314,"./ar-dz":5666,"./ar-dz.js":5666,"./ar-kw":6591,"./ar-kw.js":6591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":4092,"./ar-sa.js":4092,"./ar-tn":1379,"./ar-tn.js":1379,"./ar.js":6314,"./az":1699,"./az.js":1699,"./be":8988,"./be.js":8988,"./bg":7437,"./bg.js":7437,"./bm":7947,"./bm.js":7947,"./bn":2851,"./bn-bd":4905,"./bn-bd.js":4905,"./bn.js":2851,"./bo":7346,"./bo.js":7346,"./br":1711,"./br.js":1711,"./bs":3706,"./bs.js":3706,"./ca":112,"./ca.js":112,"./cs":6406,"./cs.js":6406,"./cv":1853,"./cv.js":1853,"./cy":9766,"./cy.js":9766,"./da":6836,"./da.js":6836,"./de":9320,"./de-at":4904,"./de-at.js":4904,"./de-ch":6710,"./de-ch.js":6710,"./de.js":9320,"./dv":3274,"./dv.js":3274,"./el":286,"./el.js":286,"./en-au":143,"./en-au.js":143,"./en-ca":237,"./en-ca.js":237,"./en-gb":2428,"./en-gb.js":2428,"./en-ie":3349,"./en-ie.js":3349,"./en-il":3764,"./en-il.js":3764,"./en-in":7809,"./en-in.js":7809,"./en-nz":9851,"./en-nz.js":9851,"./en-sg":5594,"./en-sg.js":5594,"./eo":4483,"./eo.js":4483,"./es":2184,"./es-do":5777,"./es-do.js":5777,"./es-mx":9356,"./es-mx.js":9356,"./es-us":8496,"./es-us.js":8496,"./es.js":2184,"./et":7578,"./et.js":7578,"./eu":2092,"./eu.js":2092,"./fa":5927,"./fa.js":5927,"./fi":171,"./fi.js":171,"./fil":2416,"./fil.js":2416,"./fo":9937,"./fo.js":9937,"./fr":5172,"./fr-ca":8249,"./fr-ca.js":8249,"./fr-ch":7541,"./fr-ch.js":7541,"./fr.js":5172,"./fy":7907,"./fy.js":7907,"./ga":6361,"./ga.js":6361,"./gd":2282,"./gd.js":2282,"./gl":2630,"./gl.js":2630,"./gom-deva":680,"./gom-deva.js":680,"./gom-latn":6220,"./gom-latn.js":6220,"./gu":6272,"./gu.js":6272,"./he":5540,"./he.js":5540,"./hi":6067,"./hi.js":6067,"./hr":9669,"./hr.js":9669,"./hu":3396,"./hu.js":3396,"./hy-am":6678,"./hy-am.js":6678,"./id":4812,"./id.js":4812,"./is":4193,"./is.js":4193,"./it":7863,"./it-ch":959,"./it-ch.js":959,"./it.js":7863,"./ja":1809,"./ja.js":1809,"./jv":8657,"./jv.js":8657,"./ka":3290,"./ka.js":3290,"./kk":8418,"./kk.js":8418,"./km":7687,"./km.js":7687,"./kn":1375,"./kn.js":1375,"./ko":2641,"./ko.js":2641,"./ku":3518,"./ku.js":3518,"./ky":5459,"./ky.js":5459,"./lb":1978,"./lb.js":1978,"./lo":6915,"./lo.js":6915,"./lt":8948,"./lt.js":8948,"./lv":2548,"./lv.js":2548,"./me":8608,"./me.js":8608,"./mi":333,"./mi.js":333,"./mk":1876,"./mk.js":1876,"./ml":999,"./ml.js":999,"./mn":4098,"./mn.js":4098,"./mr":6111,"./mr.js":6111,"./ms":3717,"./ms-my":265,"./ms-my.js":265,"./ms.js":3717,"./mt":8980,"./mt.js":8980,"./my":6895,"./my.js":6895,"./nb":5348,"./nb.js":5348,"./ne":1493,"./ne.js":1493,"./nl":4419,"./nl-be":5576,"./nl-be.js":5576,"./nl.js":4419,"./nn":6907,"./nn.js":6907,"./oc-lnc":2321,"./oc-lnc.js":2321,"./pa-in":9239,"./pa-in.js":9239,"./pl":7627,"./pl.js":7627,"./pt":5703,"./pt-br":1623,"./pt-br.js":1623,"./pt.js":5703,"./ro":2747,"./ro.js":2747,"./ru":4420,"./ru.js":4420,"./sd":2148,"./sd.js":2148,"./se":2461,"./se.js":2461,"./si":2783,"./si.js":2783,"./sk":3306,"./sk.js":3306,"./sl":341,"./sl.js":341,"./sq":2768,"./sq.js":2768,"./sr":2451,"./sr-cyrl":3371,"./sr-cyrl.js":3371,"./sr.js":2451,"./ss":8812,"./ss.js":8812,"./sv":3820,"./sv.js":3820,"./sw":3615,"./sw.js":3615,"./ta":2869,"./ta.js":2869,"./te":2044,"./te.js":2044,"./tet":5861,"./tet.js":5861,"./tg":6999,"./tg.js":6999,"./th":1772,"./th.js":1772,"./tk":7443,"./tk.js":7443,"./tl-ph":9786,"./tl-ph.js":9786,"./tlh":2812,"./tlh.js":2812,"./tr":6952,"./tr.js":6952,"./tzl":9573,"./tzl.js":9573,"./tzm":5990,"./tzm-latn":6961,"./tzm-latn.js":6961,"./tzm.js":5990,"./ug-cn":2610,"./ug-cn.js":2610,"./uk":9498,"./uk.js":9498,"./ur":3970,"./ur.js":3970,"./uz":9006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":9006,"./vi":9962,"./vi.js":9962,"./x-pseudo":8407,"./x-pseudo.js":8407,"./yo":1962,"./yo.js":1962,"./zh-cn":8909,"./zh-cn.js":8909,"./zh-hk":4014,"./zh-hk.js":4014,"./zh-mo":996,"./zh-mo.js":996,"./zh-tw":6327,"./zh-tw.js":6327};function a(e){var t=i(e);return l(t)}function i(e){if(!l.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=6700},7370:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNTYgMzYwIj4NCgk8cGF0aA0KCQlkPSJNNDMuNCAzMDMuNGMwIDMuOC0yLjMgNi4zLTcuMSA2LjNoLTE1di0yMmgxNC40YzQuMyAwIDYuMiAyLjIgNi4yIDUuMiAwIDIuNi0xLjUgNC40LTMuNCA1IDIuOC40IDQuOSAyLjUgNC45IDUuNXptLTgtMTNIMjQuMXY2LjlIMzVjMi4xIDAgNC0xLjMgNC0zLjggMC0yLjItMS4zLTMuMS0zLjctMy4xem01LjEgMTIuNmMwLTIuMy0xLjgtMy43LTQtMy43SDI0LjJ2Ny43aDExLjdjMy40IDAgNC42LTEuOCA0LjYtNHptMzYuMyA0djIuN0g1NnYtMjJoMjAuNnYyLjdINTguOXY2LjhoMTQuNnYyLjNINTguOXY3LjVoMTcuOXptMjMtNS44djguNUg5N3YtOC41bC0xMS0xMy40aDMuNGw4LjkgMTEgOC44LTExaDMuNGwtMTAuOCAxMy40em0xOS4xLTEuOFYyOThjMC03LjkgNS4yLTEwLjcgMTIuNy0xMC43IDcuNSAwIDEzIDIuOCAxMyAxMC43djEuNGMwIDcuOS01LjUgMTAuOC0xMyAxMC44cy0xMi43LTMtMTIuNy0xMC44em0yMi43IDBWMjk4YzAtNS43LTMuOS04LTEwLTgtNiAwLTkuOCAyLjMtOS44IDh2MS40YzAgNS44IDMuOCA4LjEgOS44IDguMSA2IDAgMTAtMi4zIDEwLTguMXptMzcuMi0xMS42djIxLjloLTIuOWwtMTUuOC0xNy45djE3LjloLTIuOHYtMjJoM2wxNS42IDE4di0xOGgyLjl6bTM3LjkgMTAuMnYxLjNjMCA3LjgtNS4yIDEwLjQtMTIuNCAxMC40SDE5M3YtMjJoMTEuMmM3LjIgMCAxMi40IDIuOCAxMi40IDEwLjN6bS0zIDBjMC01LjMtMy4zLTcuNi05LjQtNy42aC04LjRWMzA3aDguNGM2IDAgOS41LTIgOS41LTcuN1YyOTh6bTUwLjgtNy42aC05Ljd2MTkuM2gtM3YtMTkuM2gtOS43di0yLjZoMjIuNHYyLjZ6bTM0LjQtMi42djIxLjloLTN2LTEwLjFoLTE2Ljh2MTBoLTIuOHYtMjEuOGgyLjh2OS4ySDI5NnYtOS4yaDIuOXptMzQuOSAxOS4ydjIuN2gtMjAuN3YtMjJoMjAuNnYyLjdIMzE2djYuOGgxNC41djIuM0gzMTZ2Ny41aDE3Ljh6TTI0IDM0MC4ydjcuM2gxMy45djIuNGgtMTR2OS42SDIxdi0yMmgyMHYyLjdIMjR6bTQxLjUgMTEuNGgtOS44djcuOUg1M3YtMjJoMTMuM2M1LjEgMCA4IDEuOSA4IDYuOCAwIDMuNy0yIDYuMy01LjYgN2w2IDguMmgtMy4zbC01LjgtOHptLTkuOC0yLjZINjZjMy4xIDAgNS4zLTEuNSA1LjMtNC43IDAtMy4zLTIuMi00LjEtNS4zLTQuMUg1NS43djguOHptNDcuOSA2LjJIODlsLTIgNC4zaC0zLjJsMTAuNy0yMi4ySDk4bDEwLjcgMjIuMmgtMy4ybC0yLTQuM3ptLTEtMi4zbC02LjMtMTMtNiAxM2gxMi4yem00Ni4zLTE1LjN2MjEuOUgxNDZ2LTE3LjJMMTM1LjcgMzU4aC0yLjFsLTEwLjItMTUuNnYxN2gtMi44di0yMS44aDNsMTEgMTYuOSAxMS4zLTE3aDN6bTM1IDE5LjN2Mi42aC0yMC43di0yMmgyMC42djIuN0gxNjZ2Ni44aDE0LjV2Mi4zSDE2NnY3LjZoMTcuOHptNDctMTkuM2wtOC4zIDIyaC0zbC03LjEtMTguNi03IDE4LjZoLTNsLTguMi0yMmgzLjNMMjA0IDM1Nmw2LjgtMTguNWgzLjRMMjIxIDM1Nmw2LjYtMTguNWgzLjN6bTEwIDExLjZ2LTEuNGMwLTcuOCA1LjItMTAuNyAxMi43LTEwLjcgNy42IDAgMTMgMi45IDEzIDEwLjd2MS40YzAgNy45LTUuNCAxMC44LTEzIDEwLjgtNy41IDAtMTIuNy0zLTEyLjctMTAuOHptMjIuOCAwdi0xLjRjMC01LjctNC04LTEwLThzLTkuOSAyLjMtOS45IDh2MS40YzAgNS44IDMuOCA4LjIgOS44IDguMiA2LjEgMCAxMC0yLjQgMTAtOC4yem0yOC4zIDIuNGgtOS44djcuOWgtMi44di0yMmgxMy4yYzUuMiAwIDggMS45IDggNi44IDAgMy43LTIgNi4zLTUuNiA3bDYgOC4yaC0zLjNsLTUuOC04em0tOS44LTIuNmgxMC4yYzMgMCA1LjItMS41IDUuMi00LjcgMC0zLjMtMi4xLTQuMS01LjItNC4xaC0xMC4ydjguOHptNDAuMy0xLjVsLTYuOCA1LjZ2Ni40aC0yLjl2LTIyaDIuOXYxMi4zbDE1LjItMTIuMmgzLjdsLTkuOSA4LjEgMTAuMyAxMy44aC0zLjZsLTguOS0xMnoiIC8+DQoJPHBhdGggZmlsbD0iIzA1MEExNCINCgkJZD0iTTE4OC40IDcxLjdhMTAuNCAxMC40IDAgMDEtMjAuOCAwIDEwLjQgMTAuNCAwIDExMjAuOCAwek0yMjQuMiA0NWMtMi4yLTMuOS01LTcuNS04LjItMTAuN2wtMTIgN2MtMy43LTMuMi04LTUuNy0xMi42LTcuM2E0OS40IDQ5LjQgMCAwMC05LjcgMTMuOSA1OSA1OSAwIDAxNDAuMSAxNGw3LjYtNC40YTU3IDU3IDAgMDAtNS4yLTEyLjV6TTE3OCAxMjUuMWM0LjUgMCA5LS42IDEzLjQtMS43di0xNGE0MCA0MCAwIDAwMTIuNS03LjIgNDcuNyA0Ny43IDAgMDAtNy4xLTE1LjMgNTkgNTkgMCAwMS0zMi4yIDI3Ljd2OC43YzQuNCAxLjIgOC45IDEuOCAxMy40IDEuOHpNMTMxLjggNDVjLTIuMyA0LTQgOC4xLTUuMiAxMi41bDEyIDdhNDAgNDAgMCAwMDAgMTQuNGM1LjcgMS41IDExLjMgMiAxNi45IDEuNWE1OSA1OSAwIDAxLTgtNDEuN2wtNy41LTQuM2MtMy4yIDMuMi02IDYuNy04LjIgMTAuNnoiIC8+DQoJPHBhdGggZmlsbD0iIzAwQjRGRiINCgkJZD0iTTIyNC4yIDk4LjRjMi4zLTMuOSA0LTggNS4yLTEyLjRsLTEyLTdhNDAgNDAgMCAwMDAtMTQuNWMtNS43LTEuNS0xMS4zLTItMTYuOS0xLjVhNTkgNTkgMCAwMTggNDEuN2w3LjUgNC40YzMuMi0zLjIgNi02LjggOC4yLTEwLjd6bS05Mi40IDBjMi4yIDQgNSA3LjUgOC4yIDEwLjdsMTItN2E0MCA0MCAwIDAwMTIuNiA3LjNjNC00LjEgNy4zLTguOCA5LjctMTMuOGE1OSA1OSAwIDAxLTQwLTE0bC03LjcgNC40YzEuMiA0LjMgMyA4LjUgNS4yIDEyLjR6bTQ2LjItODBjLTQuNSAwLTkgLjUtMTMuNCAxLjdWMzRhNDAgNDAgMCAwMC0xMi41IDcuMmMxLjUgNS43IDQgMTAuOCA3LjEgMTUuNGE1OSA1OSAwIDAxMzIuMi0yNy43VjIwYTUzLjMgNTMuMyAwIDAwLTEzLjQtMS44eiIgLz4NCgk8cGF0aCBmaWxsPSIjMDBCNEZGIg0KCQlkPSJNMTc4IDkuMmE2Mi42IDYyLjYgMCAxMS0uMSAxMjUuMkE2Mi42IDYyLjYgMCAwMTE3OCA5LjJtMC05LjJhNzEuNyA3MS43IDAgMTAwIDE0My41QTcxLjcgNzEuNyAwIDAwMTc4IDB6IiAvPg0KCTxwYXRoIGZpbGw9IiMwNTBBMTQiDQoJCWQ9Ik05Ni42IDIxMnY0LjNjLTkuMi0uOC0xNS40LTUuOC0xNS40LTE3LjhWMTgwaDQuNnYxOC40YzAgOC42IDQgMTIuNiAxMC44IDEzLjV6bTE2LTMxLjl2MTguNGMwIDguOS00LjMgMTIuOC0xMC45IDEzLjV2NC40YzkuMi0uNyAxNS41LTUuNiAxNS41LTE4di0xOC4zaC00Ljd6TTYyLjIgMTk5di0yLjJjMC0xMi43LTguOC0xNy40LTIxLTE3LjQtMTIuMSAwLTIwLjcgNC43LTIwLjcgMTcuNHYyLjJjMCAxMi44IDguNiAxNy42IDIwLjcgMTcuNiAxLjUgMCAzLS4xIDQuNC0uM2wxMS44IDYuMiAyLTMuMy04LjItNC02LjQtMy4xYTMyIDMyIDAgMDEtMy42LjJjLTkuOCAwLTE2LTMuOS0xNi0xMy4zdi0yLjJjMC05LjMgNi4yLTEzLjEgMTYtMTMuMSA5LjkgMCAxNi4zIDMuOCAxNi4zIDEzLjF2Mi4yYzAgNS4zLTIuMSA4LjctNS42IDEwLjhsNC44IDIuNGMzLjQtMi44IDUuNS03IDUuNS0xMy4yek0xNjggMjE1LjZoNS4xTDE1NiAxNzkuN2gtNC44bDE3IDM2ek0xNDMgMjA1bDcuNC0xNS43LTIuNC01LTE1LjEgMzEuNGg1LjFsMy4zLTdoMTguM2wtMS44LTMuN0gxNDN6bTEzMy43IDEwLjdoNS4ybC0xNy4zLTM1LjloLTQuOGwxNyAzNnptLTI1LTEwLjdsNy40LTE1LjctMi40LTUtMTUuMSAzMS40aDUuMWwzLjMtN2gxOC4zbC0xLjctMy43aC0xNC44em03My44LTIuNWM2LTEuMiA5LTUuNCA5LTExLjQgMC04LTQuNS0xMC45LTEyLjktMTAuOWgtMjEuNHYzNS41aDQuNnYtMzEuM2gxNi41YzUgMCA4LjUgMS40IDguNSA2LjcgMCA1LjItMy41IDcuNy04LjUgNy43aC0xMS40djQuMWgxMC43bDkuMyAxMi44aDUuNWwtOS45LTEzLjJ6bS0xMTcuNCA5LjljLTkuNyAwLTE0LjctMi41LTE4LjYtNi4zbC0yLjIgMy44YzUuMSA1IDExIDYuNyAyMSA2LjcgMS42IDAgMy4xLS4xIDQuNi0uM2wtMS45LTRoLTN6bTE4LjQtN2MwLTYuNC00LjctOC42LTEzLjgtOS40bC0xMC4xLTFjLTYuNy0uNy05LjMtMi4yLTkuMy01LjYgMC0yLjUgMS40LTQgNC42LTVsLTEuOC0zLjhjLTQuNyAxLjQtNy41IDQuMi03LjUgOC45IDAgNS4yIDMuNCA4LjcgMTMgOS42bDExLjMgMS4yYzYuNC42IDguOSAyIDguOSA1LjQgMCAyLjctMi4xIDQuNy02IDUuOGwxLjggMy45YzUuMy0xLjYgOC45LTQuNyA4LjktMTB6bS0yMC4zLTIxLjljNy45IDAgMTMuMyAxLjggMTguMSA1LjdsMS44LTMuOWEzMCAzMCAwIDAwLTE5LjYtNS45Yy0yIDAtNCAuMS01LjcuM2wxLjkgNCAzLjUtLjJ6IiAvPg0KCTxwYXRoIGZpbGw9IiMwMEI0RkYiDQoJCWQ9Ik0uNSAyNTEuOWMyOS42LS41IDU5LjItLjggODguOC0xbDg4LjctLjMgODguNy4zIDQ0LjQuNCA0NC40LjYtNDQuNC42LTQ0LjQuNC04OC43LjMtODguNy0uM2E3OTgxIDc5ODEgMCAwMS04OC44LTF6IiAvPg0KCTxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tNTY1LjIgMzI0SC0yNTJ2MTUuOGgtMzEzLjJ6IiAvPg0KPC9zdmc+"}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,(()=>{var e=[];l.O=(t,o,a,i)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],s=!0,d=0;d<o.length;d++)(!1&i||n>=i)&&Object.keys(l.O).every((e=>l.O[e](o[d])))?o.splice(d--,1):(s=!1,i<n&&(n=i));if(s){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;l.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var i=Object.create(null);l.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>n[e]=()=>o[e]));return n["default"]=()=>o,l.d(i,n),i}})(),(()=>{l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,o)=>(l.f[o](e,t),t)),[]))})(),(()=>{l.u=e=>"js/"+e+"."+{420:"6212d697",862:"116c14fc"}[e]+".js"})(),(()=>{l.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"d7373e79",736:"d658fb31"}[e]+".css"})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";l.l=(o,a,i,n)=>{if(e[o])e[o].push(a);else{var s,d;if(void 0!==i)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var u=r[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[a];var m=(t,l)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(l))),t)return t(l)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),d&&document.head.appendChild(s)}}})(),(()=>{l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{l.p=""})(),(()=>{var e={143:0};l.f.j=(t,o)=>{var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise(((l,o)=>a=e[t]=[l,o]));o.push(a[2]=i);var n=l.p+l.u(t),s=new Error,d=o=>{if(l.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",s.name="ChunkLoadError",s.type=i,s.request=n,a[1](s)}};l.l(n,d,"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[n,s,d]=o,r=0;if(n.some((t=>0!==e[t]))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(d)var c=d(l)}for(t&&t(o);r<n.length;r++)i=n[r],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},o=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=l.O(void 0,[736],(()=>l(1843)));o=l.O(o)})();